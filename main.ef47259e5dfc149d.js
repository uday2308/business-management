"use strict";(self.webpackChunkbusiness_management=self.webpackChunkbusiness_management||[]).push([[179],{499:(Dh,QC,bh)=>{var Ss={};function Ee(e){return"function"==typeof e}function Th(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}bh.r(Ss),bh.d(Ss,{FirebaseError:()=>Br,SDK_VERSION:()=>as,_DEFAULT_ENTRY_NAME:()=>Hr,_addComponent:()=>il,_addOrOverwriteComponent:()=>jN,_apps:()=>Gr,_clearComponents:()=>qq,_components:()=>os,_getProvider:()=>m_,_isFirebaseApp:()=>$N,_isFirebaseServerApp:()=>ss,_registerComponent:()=>Wr,_removeServiceInstance:()=>zq,_serverApps:()=>is,deleteApp:()=>v_,getApp:()=>__,getApps:()=>y_,initializeApp:()=>Dd,initializeServerApp:()=>Qq,onLog:()=>GN,registerVersion:()=>lt,setLogLevel:()=>WN});const Sh=Th(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function zl(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class Et{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ee(r))try{r()}catch(o){t=o instanceof Sh?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{XC(o)}catch(s){t=t??[],s instanceof Sh?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Sh(t)}}add(t){var n;if(t&&t!==this)if(this.closed)XC(t);else{if(t instanceof Et){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&zl(n,t)}remove(t){const{_finalizers:n}=this;n&&zl(n,t),t instanceof Et&&t._removeParent(this)}}Et.EMPTY=(()=>{const e=new Et;return e.closed=!0,e})();const ZC=Et.EMPTY;function JC(e){return e instanceof Et||e&&"closed"in e&&Ee(e.remove)&&Ee(e.add)&&Ee(e.unsubscribe)}function XC(e){Ee(e)?e():e.unsubscribe()}const oi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ql={setTimeout(e,t,...n){const{delegate:r}=ql;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=ql;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function eE(e){ql.setTimeout(()=>{const{onUnhandledError:t}=oi;if(!t)throw e;t(e)})}function Ah(){}const yx=Mh("C",void 0,void 0);function Mh(e,t,n){return{kind:e,value:t,error:n}}let si=null;function Yl(e){if(oi.useDeprecatedSynchronousErrorHandling){const t=!si;if(t&&(si={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=si;if(si=null,n)throw r}}else e()}class Nh extends Et{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,JC(t)&&t.add(this)):this.destination=bx}static create(t,n,r){return new As(t,n,r)}next(t){this.isStopped?Ph(function Cx(e){return Mh("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Ph(function vx(e){return Mh("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Ph(yx,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ix=Function.prototype.bind;function Rh(e,t){return Ix.call(e,t)}class wx{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Kl(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Kl(r)}else Kl(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Kl(n)}}}class As extends Nh{constructor(t,n,r){let i;if(super(),Ee(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&oi.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Rh(t.next,o),error:t.error&&Rh(t.error,o),complete:t.complete&&Rh(t.complete,o)}):i=t}this.destination=new wx(i)}}function Kl(e){oi.useDeprecatedSynchronousErrorHandling?function Ex(e){oi.useDeprecatedSynchronousErrorHandling&&si&&(si.errorThrown=!0,si.error=e)}(e):eE(e)}function Ph(e,t){const{onStoppedNotification:n}=oi;n&&ql.setTimeout(()=>n(e,t))}const bx={closed:!0,next:Ah,error:function Dx(e){throw e},complete:Ah},Oh="function"==typeof Symbol&&Symbol.observable||"@@observable";function vr(e){return e}function tE(e){return 0===e.length?vr:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}let Me=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function Ax(e){return e&&e instanceof Nh||function Sx(e){return e&&Ee(e.next)&&Ee(e.error)&&Ee(e.complete)}(e)&&JC(e)}(n)?n:new As(n,r,i);return Yl(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=nE(r))((i,o)=>{const s=new As({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Oh](){return this}pipe(...n){return tE(n)(this)}toPromise(n){return new(n=nE(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function nE(e){var t;return null!==(t=e??oi.Promise)&&void 0!==t?t:Promise}const Mx=Th(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let un=(()=>{class e extends Me{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new rE(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Mx}next(n){Yl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Yl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Yl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?ZC:(this.currentObservers=null,o.push(n),new Et(()=>{this.currentObservers=null,zl(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new Me;return n.source=this,n}}return e.create=(t,n)=>new rE(t,n),e})();class rE extends un{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:ZC}}function iE(e){return Ee(e?.lift)}function Be(e){return t=>{if(iE(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Le(e,t,n,r,i){return new Nx(e,t,n,r,i)}class Nx extends Nh{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function ce(e,t){return Be((n,r)=>{let i=0;n.subscribe(Le(r,o=>{r.next(e.call(t,o,i++))}))})}function Fh(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function Cr(e){return this instanceof Cr?(this.v=e,this):new Cr(e)}function lE(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Vh(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,l){!function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}(a,l,(s=e[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const uE=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function cE(e){return Ee(e?.then)}function dE(e){return Ee(e[Oh])}function hE(e){return Symbol.asyncIterator&&Ee(e?.[Symbol.asyncIterator])}function fE(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const pE=function Zx(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function gE(e){return Ee(e?.[pE])}function mE(e){return function aE(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),o=[];return i={},a("next"),a("throw"),a("return",function s(f){return function(p){return Promise.resolve(p).then(f,d)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(f,p){r[f]&&(i[f]=function(g){return new Promise(function(_,v){o.push([f,g,_,v])>1||l(f,g)})},p&&(i[f]=p(i[f])))}function l(f,p){try{!function u(f){f.value instanceof Cr?Promise.resolve(f.value.v).then(c,d):h(o[0][2],f)}(r[f](p))}catch(g){h(o[0][3],g)}}function c(f){l("next",f)}function d(f){l("throw",f)}function h(f,p){f(p),o.shift(),o.length&&l(o[0][0],o[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield Cr(n.read());if(i)return yield Cr(void 0);yield yield Cr(r)}}finally{n.releaseLock()}})}function _E(e){return Ee(e?.getReader)}function Pt(e){if(e instanceof Me)return e;if(null!=e){if(dE(e))return function Jx(e){return new Me(t=>{const n=e[Oh]();if(Ee(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(uE(e))return function Xx(e){return new Me(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(cE(e))return function ek(e){return new Me(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,eE)})}(e);if(hE(e))return yE(e);if(gE(e))return function tk(e){return new Me(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(_E(e))return function nk(e){return yE(mE(e))}(e)}throw fE(e)}function yE(e){return new Me(t=>{(function rk(e,t){var n,r,i,o;return function oE(e,t,n,r){return new(n||(n=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=lE(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function zn(e,t,n,r=0,i=!1){const o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function Ke(e,t,n=1/0){return Ee(t)?Ke((r,i)=>ce((o,s)=>t(r,o,i,s))(Pt(e(r,i))),n):("number"==typeof t&&(n=t),Be((r,i)=>function ik(e,t,n,r,i,o,s,a){const l=[];let u=0,c=0,d=!1;const h=()=>{d&&!l.length&&!u&&t.complete()},f=g=>u<r?p(g):l.push(g),p=g=>{o&&t.next(g),u++;let _=!1;Pt(n(g,c++)).subscribe(Le(t,v=>{i?.(v),o?f(v):t.next(v)},()=>{_=!0},void 0,()=>{if(_)try{for(u--;l.length&&u<r;){const v=l.shift();s?zn(t,s,()=>p(v)):p(v)}h()}catch(v){t.error(v)}}))};return e.subscribe(Le(t,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,e,n)))}function Gi(e=1/0){return Ke(vr,e)}const Dn=new Me(e=>e.complete());function Uh(e){return e[e.length-1]}function vE(e){return Ee(Uh(e))?e.pop():void 0}function Ms(e){return function sk(e){return e&&Ee(e.schedule)}(Uh(e))?e.pop():void 0}function Ql(e,t=0){return Be((n,r)=>{n.subscribe(Le(r,i=>zn(r,e,()=>r.next(i),t),()=>zn(r,e,()=>r.complete(),t),i=>zn(r,e,()=>r.error(i),t)))})}function Zl(e,t=0){return Be((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function CE(e,t){if(!e)throw new Error("Iterable cannot be null");return new Me(n=>{zn(n,t,()=>{const r=e[Symbol.asyncIterator]();zn(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Ge(e,t){return t?function fk(e,t){if(null!=e){if(dE(e))return function lk(e,t){return Pt(e).pipe(Zl(t),Ql(t))}(e,t);if(uE(e))return function ck(e,t){return new Me(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(cE(e))return function uk(e,t){return Pt(e).pipe(Zl(t),Ql(t))}(e,t);if(hE(e))return CE(e,t);if(gE(e))return function dk(e,t){return new Me(n=>{let r;return zn(n,t,()=>{r=e[pE](),zn(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>Ee(r?.return)&&r.return()})}(e,t);if(_E(e))return function hk(e,t){return CE(mE(e),t)}(e,t)}throw fE(e)}(e,t):Pt(e)}class zt extends un{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function F(...e){return Ge(e,Ms(e))}function EE(e={}){const{connector:t=(()=>new un),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s,a,l,u=0,c=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=l=void 0,c=d=!1},p=()=>{const g=s;f(),g?.unsubscribe()};return Be((g,_)=>{u++,!d&&!c&&h();const v=l=l??t();_.add(()=>{u--,0===u&&!d&&!c&&(a=Bh(p,i))}),v.subscribe(_),!s&&u>0&&(s=new As({next:m=>v.next(m),error:m=>{d=!0,h(),a=Bh(f,n,m),v.error(m)},complete:()=>{c=!0,h(),a=Bh(f,r),v.complete()}}),Pt(g).subscribe(s))})(o)}}function Bh(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new As({next:()=>{r.unsubscribe(),e()}});return Pt(t(...n)).subscribe(r)}function bn(e,t){return Be((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(Le(r,l=>{i?.unsubscribe();let u=0;const c=o++;Pt(e(l,c)).subscribe(i=Le(r,d=>r.next(t?t(l,d,c,u++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function mk(e,t){return e===t}function se(e){for(let t in e)if(e[t]===se)return t;throw Error("Could not find renamed property on target object.")}function Jl(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function je(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(je).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function jh(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const _k=se({__forward_ref__:se});function pe(e){return e.__forward_ref__=pe,e.toString=function(){return je(this())},e}function x(e){return $h(e)?e():e}function $h(e){return"function"==typeof e&&e.hasOwnProperty(_k)&&e.__forward_ref__===pe}function Hh(e){return e&&!!e.\u0275providers}const IE="https://g.co/ng/security#xss";class C extends Error{constructor(t,n){super(function Xl(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function L(e){return"string"==typeof e?e:null==e?"":String(e)}function Gh(e,t){throw new C(-201,!1)}function qt(e,t){null==e&&function P(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function R(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function It(e){return{providers:e.providers||[],imports:e.imports||[]}}function eu(e){return wE(e,nu)||wE(e,DE)}function wE(e,t){return e.hasOwnProperty(t)?e[t]:null}function tu(e){return e&&(e.hasOwnProperty(Wh)||e.hasOwnProperty(bk))?e[Wh]:null}const nu=se({\u0275prov:se}),Wh=se({\u0275inj:se}),DE=se({ngInjectableDef:se}),bk=se({ngInjectorDef:se});var q=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(q||{});let zh;function wt(e){const t=zh;return zh=e,t}function TE(e,t,n){const r=eu(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&q.Optional?null:void 0!==t?t:void Gh(je(e))}const ge=globalThis;class T{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=R({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ns={},Zh="__NG_DI_FLAG__",ru="ngTempTokenPath",Ak=/\n/gm,AE="__source";let Wi;function Er(e){const t=Wi;return Wi=e,t}function Rk(e,t=q.Default){if(void 0===Wi)throw new C(-203,!1);return null===Wi?TE(e,void 0,t):Wi.get(e,t&q.Optional?null:void 0,t)}function M(e,t=q.Default){return(function bE(){return zh}()||Rk)(x(e),t)}function S(e,t=q.Default){return M(e,iu(t))}function iu(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Jh(e){const t=[];for(let n=0;n<e.length;n++){const r=x(e[n]);if(Array.isArray(r)){if(0===r.length)throw new C(900,!1);let i,o=q.Default;for(let s=0;s<r.length;s++){const a=r[s],l=Pk(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}t.push(M(i,o))}else t.push(M(r))}return t}function Rs(e,t){return e[Zh]=t,e.prototype[Zh]=t,e}function Pk(e){return e[Zh]}function qn(e){return{toString:e}.toString()}var ou=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(ou||{}),cn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(cn||{});const Tn={},X=[],su=se({\u0275cmp:se}),Xh=se({\u0275dir:se}),ef=se({\u0275pipe:se}),NE=se({\u0275mod:se}),Yn=se({\u0275fac:se}),Ps=se({__NG_ELEMENT_ID__:se}),RE=se({__NG_ENV_ID__:se});function PE(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function tf(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{const o=i,s=n[++r];xE(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function OE(e){return 3===e||4===e||6===e}function xE(e){return 64===e.charCodeAt(0)}function Os(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||kE(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function kE(e,t,n,r,i){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}const FE="ng-template";function kk(e,t,n){let r=0,i=!0;for(;r<e.length;){let o=e[r++];if("string"==typeof o&&i){const s=e[r++];if(n&&"class"===o&&-1!==PE(s.toLowerCase(),t,0))return!0}else{if(1===o){for(;r<e.length&&"string"==typeof(o=e[r++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function LE(e){return 4===e.type&&e.value!==FE}function Fk(e,t,n){return t===(4!==e.type||n?e.value:FE)}function Lk(e,t,n){let r=4;const i=e.attrs||[],o=function Bk(e){for(let t=0;t<e.length;t++)if(OE(e[t]))return t;return e.length}(i);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!Fk(e,l,n)||""===l&&1===t.length){if(dn(r))return!1;s=!0}}else{const u=8&r?l:t[++a];if(8&r&&null!==e.attrs){if(!kk(e.attrs,u,n)){if(dn(r))return!1;s=!0}continue}const d=Vk(8&r?"class":l,i,LE(e),n);if(-1===d){if(dn(r))return!1;s=!0;continue}if(""!==u){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==PE(f,u,0)||2&r&&u!==h){if(dn(r))return!1;s=!0}}}}else{if(!s&&!dn(r)&&!dn(l))return!1;if(s&&dn(l))continue;s=!1,r=l|1&r}}return dn(r)||s}function dn(e){return 0==(1&e)}function Vk(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){const s=t[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function jk(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function VE(e,t,n=!1){for(let r=0;r<t.length;r++)if(Lk(e,t[r],n))return!0;return!1}function UE(e,t){return e?":not("+t.trim()+")":t}function Hk(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!dn(s)&&(t+=UE(o,i),i=""),r=s,o=o||!dn(r);n++}return""!==i&&(t+=UE(o,i)),t}function xs(e){return qn(()=>{const t=jE(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ou.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||cn.Emulated,styles:e.styles||X,_:null,schemas:e.schemas||null,tView:null,id:""};$E(n);const r=e.dependencies;return n.directiveDefs=au(r,!1),n.pipeDefs=au(r,!0),n.id=function Zk(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of n)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function qk(e){return Q(e)||Qe(e)}function Yk(e){return null!==e}function xt(e){return qn(()=>({type:e.type,bootstrap:e.bootstrap||X,declarations:e.declarations||X,imports:e.imports||X,exports:e.exports||X,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function BE(e,t){if(null==e)return Tn;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}function k(e){return qn(()=>{const t=jE(e);return $E(t),t})}function Q(e){return e[su]||null}function Qe(e){return e[Xh]||null}function ct(e){return e[ef]||null}function kt(e,t){const n=e[NE]||null;if(!n&&!0===t)throw new Error(`Type ${je(e)} does not have '\u0275mod' property.`);return n}function jE(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Tn,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||X,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:BE(e.inputs,t),outputs:BE(e.outputs)}}function $E(e){e.features?.forEach(t=>t(e))}function au(e,t){if(!e)return null;const n=t?ct:qk;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(Yk)}const Ne=0,D=1,B=2,De=3,hn=4,ks=5,it=6,qi=7,Oe=8,Ir=9,Yi=10,V=11,Fs=12,HE=13,Ki=14,xe=15,Ls=16,Qi=17,Sn=18,Vs=19,GE=20,wr=21,Kn=22,Us=23,Bs=24,Y=25,nf=1,WE=2,An=7,Zi=9,Ze=11;function bt(e){return Array.isArray(e)&&"object"==typeof e[nf]}function dt(e){return Array.isArray(e)&&!0===e[nf]}function rf(e){return 0!=(4&e.flags)}function li(e){return e.componentOffset>-1}function uu(e){return 1==(1&e.flags)}function fn(e){return!!e.template}function sf(e){return 0!=(512&e[B])}function ui(e,t){return e.hasOwnProperty(Yn)?e[Yn]:null}let Je=null,cu=!1;function Yt(e){const t=Je;return Je=e,t}const YE={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function QE(e){if(!$s(e)||e.dirty){if(!e.producerMustRecompute(e)&&!XE(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function JE(e){e.dirty=!0,function ZE(e){if(void 0===e.liveConsumerNode)return;const t=cu;cu=!0;try{for(const n of e.liveConsumerNode)n.dirty||JE(n)}finally{cu=t}}(e),e.consumerMarkedDirty?.(e)}function lf(e){return e&&(e.nextProducerIndex=0),Yt(e)}function uf(e,t){if(Yt(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if($s(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)du(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function XE(e){Ji(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(QE(n),r!==n.version))return!0}return!1}function eI(e){if(Ji(e),$s(e))for(let t=0;t<e.producerNode.length;t++)du(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function du(e,t){if(function nI(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Ji(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)du(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];Ji(i),i.producerIndexOfThis[r]=t}}function $s(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Ji(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let rI=null;const aI=()=>{},c1=(()=>({...YE,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:aI}))();class d1{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Kt(){return lI}function lI(e){return e.type.prototype.ngOnChanges&&(e.setInput=f1),h1}function h1(){const e=cI(this),t=e?.current;if(t){const n=e.previous;if(n===Tn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function f1(e,t,n,r){const i=this.declaredInputs[n],o=cI(e)||function p1(e,t){return e[uI]=t}(e,{previous:Tn,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[i];s[i]=new d1(l&&l.currentValue,t,a===Tn),e[r]=t}Kt.ngInherit=!0;const uI="__ngSimpleChanges__";function cI(e){return e[uI]||null}const Mn=function(e,t,n){};function me(e){for(;Array.isArray(e);)e=e[Ne];return e}function Tt(e,t){return me(t[e.index])}function fI(e,t){return e.data[t]}function Ft(e,t){const n=t[e];return bt(n)?n:n[Ne]}function br(e,t){return null==t?null:e[t]}function pI(e){e[Qi]=0}function C1(e){1024&e[B]||(e[B]|=1024,mI(e,1))}function gI(e){1024&e[B]&&(e[B]&=-1025,mI(e,-1))}function mI(e,t){let n=e[De];if(null===n)return;n[ks]+=t;let r=n;for(n=n[De];null!==n&&(1===t&&1===r[ks]||-1===t&&0===r[ks]);)n[ks]+=t,r=n,n=n[De]}const O={lFrame:MI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function vI(){return O.bindingsEnabled}function y(){return O.lFrame.lView}function Z(){return O.lFrame.tView}function Xe(){let e=II();for(;null!==e&&64===e.type;)e=e.parent;return e}function II(){return O.lFrame.currentTNode}function Nn(e,t){const n=O.lFrame;n.currentTNode=e,n.isParent=t}function pf(){return O.lFrame.isParent}function to(){return O.lFrame.bindingIndex++}function P1(e,t){const n=O.lFrame;n.bindingIndex=n.bindingRootIndex=e,mf(t)}function mf(e){O.lFrame.currentDirectiveIndex=e}function yf(e){O.lFrame.currentQueryIndex=e}function x1(e){const t=e[D];return 2===t.type?t.declTNode:1===t.type?e[it]:null}function SI(e,t,n){if(n&q.SkipSelf){let i=t,o=e;for(;!(i=i.parent,null!==i||n&q.Host||(i=x1(o),null===i||(o=o[Ki],10&i.type))););if(null===i)return!1;t=i,e=o}const r=O.lFrame=AI();return r.currentTNode=t,r.lView=e,!0}function vf(e){const t=AI(),n=e[D];O.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function AI(){const e=O.lFrame,t=null===e?null:e.child;return null===t?MI(e):t}function MI(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function NI(){const e=O.lFrame;return O.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const RI=NI;function Cf(){const e=NI();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function ft(){return O.lFrame.selectedIndex}function ci(e){O.lFrame.selectedIndex=e}function Se(){const e=O.lFrame;return fI(e.tView,e.selectedIndex)}let OI=!0;function fu(){return OI}function Tr(e){OI=e}function pu(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),u&&((e.viewHooks??=[]).push(n,u),(e.viewCheckHooks??=[]).push(n,u)),null!=c&&(e.destroyHooks??=[]).push(n,c)}}function gu(e,t,n){xI(e,t,3,n)}function mu(e,t,n,r){(3&e[B])===n&&xI(e,t,n,r)}function Ef(e,t){let n=e[B];(3&n)===t&&(n&=8191,n+=1,e[B]=n)}function xI(e,t,n,r){const o=r??-1,s=t.length-1;let a=0;for(let l=void 0!==r?65535&e[Qi]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=r&&a>=r)break}else t[l]<0&&(e[Qi]+=65536),(a<o||-1==o)&&($1(e,n,t,l),e[Qi]=(4294901760&e[Qi])+l+2),l++}function kI(e,t){Mn(4,e,t);const n=Yt(null);try{t.call(e)}finally{Yt(n),Mn(5,e,t)}}function $1(e,t,n,r){const i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];i?e[B]>>13<e[Qi]>>16&&(3&e[B])===t&&(e[B]+=8192,kI(a,o)):kI(a,o)}const no=-1;class Gs{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function wf(e){return e!==no}function Ws(e){return 32767&e}function zs(e,t){let n=function z1(e){return e>>16}(e),r=t;for(;n>0;)r=r[Ki],n--;return r}let Df=!0;function _u(e){const t=Df;return Df=e,t}const FI=255,LI=5;let q1=0;const Rn={};function yu(e,t){const n=VI(e,t);if(-1!==n)return n;const r=t[D];r.firstCreatePass&&(e.injectorIndex=t.length,bf(r.data,e),bf(t,null),bf(r.blueprint,null));const i=vu(e,t),o=e.injectorIndex;if(wf(i)){const s=Ws(i),a=zs(i,t),l=a[D].data;for(let u=0;u<8;u++)t[o+u]=a[s+u]|l[s+u]}return t[o+8]=i,o}function bf(e,t){e.push(0,0,0,0,0,0,0,0,t)}function VI(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function vu(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=WI(i),null===r)return no;if(n++,i=i[Ki],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return no}function Tf(e,t,n){!function Y1(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ps)&&(r=n[Ps]),null==r&&(r=n[Ps]=q1++);const i=r&FI;t.data[e+(i>>LI)]|=1<<i}(e,t,n)}function UI(e,t,n){if(n&q.Optional||void 0!==e)return e;Gh()}function BI(e,t,n,r){if(n&q.Optional&&void 0===r&&(r=null),!(n&(q.Self|q.Host))){const i=e[Ir],o=wt(void 0);try{return i?i.get(t,r,n&q.Optional):TE(t,r,n&q.Optional)}finally{wt(o)}}return UI(r,0,n)}function jI(e,t,n,r=q.Default,i){if(null!==e){if(2048&t[B]&&!(r&q.Self)){const s=function eF(e,t,n,r,i){let o=e,s=t;for(;null!==o&&null!==s&&2048&s[B]&&!(512&s[B]);){const a=$I(o,s,n,r|q.Self,Rn);if(a!==Rn)return a;let l=o.parent;if(!l){const u=s[GE];if(u){const c=u.get(n,Rn,r);if(c!==Rn)return c}l=WI(s),s=s[Ki]}o=l}return i}(e,t,n,r,Rn);if(s!==Rn)return s}const o=$I(e,t,n,r,Rn);if(o!==Rn)return o}return BI(t,n,r,i)}function $I(e,t,n,r,i){const o=function Z1(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Ps)?e[Ps]:void 0;return"number"==typeof t?t>=0?t&FI:X1:t}(n);if("function"==typeof o){if(!SI(t,e,r))return r&q.Host?UI(i,0,r):BI(t,n,r,i);try{let s;if(s=o(r),null!=s||r&q.Optional)return s;Gh()}finally{RI()}}else if("number"==typeof o){let s=null,a=VI(e,t),l=no,u=r&q.Host?t[xe][it]:null;for((-1===a||r&q.SkipSelf)&&(l=-1===a?vu(e,t):t[a+8],l!==no&&GI(r,!1)?(s=t[D],a=Ws(l),t=zs(l,t)):a=-1);-1!==a;){const c=t[D];if(HI(o,a,c.data)){const d=Q1(a,t,n,s,r,u);if(d!==Rn)return d}l=t[a+8],l!==no&&GI(r,t[D].data[a+8]===u)&&HI(o,a,t)?(s=c,a=Ws(l),t=zs(l,t)):a=-1}}return i}function Q1(e,t,n,r,i,o){const s=t[D],a=s.data[e+8],c=function Cu(e,t,n,r,i){const o=e.providerIndexes,s=t.data,a=1048575&o,l=e.directiveStart,c=o>>20,h=i?a+c:e.directiveEnd;for(let f=r?a:a+c;f<h;f++){const p=s[f];if(f<l&&n===p||f>=l&&p.type===n)return f}if(i){const f=s[l];if(f&&fn(f)&&f.type===n)return l}return null}(a,s,n,null==r?li(a)&&Df:r!=s&&0!=(3&a.type),i&q.Host&&o===a);return null!==c?di(t,s,c,a):Rn}function di(e,t,n,r){let i=e[n];const o=t.data;if(function H1(e){return e instanceof Gs}(i)){const s=i;s.resolving&&function yk(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new C(-200,`Circular dependency in DI detected for ${e}${n}`)}(function re(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():L(e)}(o[n]));const a=_u(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?wt(s.injectImpl):null;SI(e,r,q.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function j1(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const s=lI(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}(n,o[n],t)}finally{null!==u&&wt(u),_u(a),s.resolving=!1,RI()}}return i}function HI(e,t,n){return!!(n[t+(e>>LI)]&1<<e)}function GI(e,t){return!(e&q.Self||e&q.Host&&t)}class pt{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return jI(this._tNode,this._lView,t,iu(r),n)}}function X1(){return new pt(Xe(),y())}function et(e){return qn(()=>{const t=e.prototype.constructor,n=t[Yn]||Sf(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[Yn]||Sf(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Sf(e){return $h(e)?()=>{const t=Sf(x(e));return t&&t()}:ui(e)}function WI(e){const t=e[D],n=t.type;return 2===n?t.declTNode:1===n?e[it]:null}const io="__parameters__";function so(e,t,n){return qn(()=>{const r=function Af(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,u,c){const d=l.hasOwnProperty(io)?l[io]:Object.defineProperty(l,io,{value:[]})[io];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function lo(e,t){e.forEach(n=>Array.isArray(n)?lo(n,t):t(n))}function qI(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Iu(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Lt(e,t,n){let r=uo(e,t);return r>=0?e[1|r]=n:(r=~r,function aF(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Mf(e,t){const n=uo(e,t);if(n>=0)return e[1|n]}function uo(e,t){return function YI(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}(e,t,1)}const Vt=Rs(so("Optional"),8),Du=Rs(so("SkipSelf"),4);function Mu(e){return 128==(128&e.flags)}var Sr=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Sr||{});const xf=new Map;let RF=0;const Ff="__ngContext__";function ot(e,t){bt(t)?(e[Ff]=t[Vs],function OF(e){xf.set(e[Vs],e)}(t)):e[Ff]=t}let Lf;function Vf(e,t){return Lf(e,t)}function Js(e){const t=e[De];return dt(t)?t[De]:t}function pw(e){return mw(e[Fs])}function gw(e){return mw(e[hn])}function mw(e){for(;null!==e&&!dt(e);)e=e[hn];return e}function fo(e,t,n,r,i){if(null!=r){let o,s=!1;dt(r)?o=r:bt(r)&&(s=!0,r=r[Ne]);const a=me(r);0===e&&null!==n?null==i?Cw(t,n,a):hi(t,n,a,i||null,!0):1===e&&null!==n?hi(t,n,a,i||null,!0):2===e?function Fu(e,t,n){const r=xu(e,t);r&&function JF(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function tL(e,t,n,r,i){const o=n[An];o!==me(n)&&fo(t,e,r,o,i);for(let a=Ze;a<n.length;a++){const l=n[a];ea(l[D],l,e,t,r,o)}}(t,e,o,n,i)}}function Pu(e,t,n){return e.createElement(t,n)}function yw(e,t){const n=e[Zi],r=n.indexOf(t);gI(t),n.splice(r,1)}function Ou(e,t){if(e.length<=Ze)return;const n=Ze+t,r=e[n];if(r){const i=r[Ls];null!==i&&i!==e&&yw(i,r),t>0&&(e[n-1][hn]=r[hn]);const o=Iu(e,Ze+t);!function GF(e,t){ea(e,t,t[V],2,null,null),t[Ne]=null,t[it]=null}(r[D],r);const s=o[Sn];null!==s&&s.detachView(o[D]),r[De]=null,r[hn]=null,r[B]&=-129}return r}function Bf(e,t){if(!(256&t[B])){const n=t[V];t[Us]&&eI(t[Us]),t[Bs]&&eI(t[Bs]),n.destroyNode&&ea(e,t,n,3,null,null),function qF(e){let t=e[Fs];if(!t)return jf(e[D],e);for(;t;){let n=null;if(bt(t))n=t[Fs];else{const r=t[Ze];r&&(n=r)}if(!n){for(;t&&!t[hn]&&t!==e;)bt(t)&&jf(t[D],t),t=t[De];null===t&&(t=e),bt(t)&&jf(t[D],t),n=t&&t[hn]}t=n}}(t)}}function jf(e,t){if(!(256&t[B])){t[B]&=-129,t[B]|=256,function ZF(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof Gs)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];Mn(4,a,l);try{l.call(a)}finally{Mn(5,a,l)}}else{Mn(4,i,o);try{o.call(i)}finally{Mn(5,i,o)}}}}}(e,t),function QF(e,t){const n=e.cleanup,r=t[qi];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(t[qi]=null);const i=t[wr];if(null!==i){t[wr]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(e,t),1===t[D].type&&t[V].destroy();const n=t[Ls];if(null!==n&&dt(t[De])){n!==t[De]&&yw(n,t);const r=t[Sn];null!==r&&r.detachView(e)}!function xF(e){xf.delete(e[Vs])}(t)}}function $f(e,t,n){return function vw(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[Ne];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=e.data[r.directiveStart+i];if(o===cn.None||o===cn.Emulated)return null}return Tt(r,n)}}(e,t.parent,n)}function hi(e,t,n,r,i){e.insertBefore(t,n,r,i)}function Cw(e,t,n){e.appendChild(t,n)}function Ew(e,t,n,r,i){null!==r?hi(e,t,n,r,i):Cw(e,t,n)}function xu(e,t){return e.parentNode(t)}let Hf,qf,Vu,Dw=function ww(e,t,n){return 40&e.type?Tt(e,n):null};function ku(e,t,n,r){const i=$f(e,r,t),o=t[V],a=function Iw(e,t,n){return Dw(e,t,n)}(r.parent||t[it],r,t);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)Ew(o,i,n[l],a,!1);else Ew(o,i,n,a,!1);void 0!==Hf&&Hf(o,r,t,n,i)}function Xs(e,t){if(null!==t){const n=t.type;if(3&n)return Tt(t,e);if(4&n)return Gf(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Xs(e,r);{const i=e[t.index];return dt(i)?Gf(-1,i):me(i)}}if(32&n)return Vf(t,e)()||me(e[t.index]);{const r=Tw(e,t);return null!==r?Array.isArray(r)?r[0]:Xs(Js(e[xe]),r):Xs(e,t.next)}}return null}function Tw(e,t){return null!==t?e[xe][it].projection[t.projection]:null}function Gf(e,t){const n=Ze+e+1;if(n<t.length){const r=t[n],i=r[D].firstChild;if(null!==i)return Xs(r,i)}return t[An]}function Wf(e,t,n,r,i,o,s){for(;null!=n;){const a=r[n.index],l=n.type;if(s&&0===t&&(a&&ot(me(a),r),n.flags|=2),32!=(32&n.flags))if(8&l)Wf(e,t,n.child,r,i,o,!1),fo(t,e,i,a,o);else if(32&l){const u=Vf(n,r);let c;for(;c=u();)fo(t,e,i,c,o);fo(t,e,i,a,o)}else 16&l?Aw(e,t,r,n,i,o):fo(t,e,i,a,o);n=s?n.projectionNext:n.next}}function ea(e,t,n,r,i,o){Wf(n,r,e.firstChild,t,i,o,!1)}function Aw(e,t,n,r,i,o){const s=n[xe],l=s[it].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)fo(t,e,i,l[u],o);else{let u=l;const c=s[De];Mu(r)&&(u.flags|=128),Wf(e,t,u,c,i,o,!0)}}function Mw(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Nw(e,t,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&tf(e,t,r),null!==i&&Mw(e,t,i),null!==o&&function rL(e,t,n){e.setAttribute(t,"style",n)}(e,t,o)}function Ow(e){return function Yf(){if(void 0===Vu&&(Vu=null,ge.trustedTypes))try{Vu=ge.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Vu}()?.createScriptURL(e)||e}class xw{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${IE})`}}function Ar(e){return e instanceof xw?e.changingThisBreaksApplicationSecurity:e}function ta(e,t){const n=function fL(e){return e instanceof xw&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${IE})`)}return n===t}const _L=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var mo=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(mo||{});function jw(e){const t=ra();return t?t.sanitize(mo.URL,e)||"":ta(e,"URL")?Ar(e):function Kf(e){return(e=String(e)).match(_L)?e:"unsafe:"+e}(L(e))}function $w(e){const t=ra();if(t)return Ow(t.sanitize(mo.RESOURCE_URL,e)||"");if(ta(e,"ResourceURL"))return Ow(Ar(e));throw new C(904,!1)}function ra(){const e=y();return e&&e[Yi].sanitizer}const ia=new T("ENVIRONMENT_INITIALIZER"),Gw=new T("INJECTOR",-1),Ww=new T("INJECTOR_DEF_TYPES");class Xf{get(t,n=Ns){if(n===Ns){const r=new Error(`NullInjectorError: No provider for ${je(t)}!`);throw r.name="NullInjectorError",r}return n}}function NL(...e){return{\u0275providers:qw(0,e),\u0275fromNgModule:!0}}function qw(e,...t){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return lo(t,s=>{const a=s;Bu(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&Yw(i,o),n}function Yw(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:i}=e[n];ep(i,o=>{t(o,r)})}}function Bu(e,t,n,r){if(!(e=x(e)))return!1;let i=null,o=tu(e);const s=!o&&Q(e);if(o||s){if(s&&!s.standalone)return!1;i=e}else{const l=e.ngModule;if(o=tu(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of l)Bu(u,t,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;r.add(i);try{lo(o.imports,c=>{Bu(c,t,n,r)&&(u||=[],u.push(c))})}finally{}void 0!==u&&Yw(u,t)}if(!a){const u=ui(i)||(()=>new i);t({provide:i,useFactory:u,deps:X},i),t({provide:Ww,useValue:i,multi:!0},i),t({provide:ia,useValue:()=>M(i),multi:!0},i)}const l=o.providers;if(null!=l&&!a){const u=e;ep(l,c=>{t(c,u)})}}}return i!==e&&void 0!==e.providers}function ep(e,t){for(let n of e)Hh(n)&&(n=n.\u0275providers),Array.isArray(n)?ep(n,t):t(n)}const RL=se({provide:String,useValue:se});function tp(e){return null!==e&&"object"==typeof e&&RL in e}function fi(e){return"function"==typeof e}const np=new T("Set Injector scope."),ju={},OL={};let rp;function $u(){return void 0===rp&&(rp=new Xf),rp}class Zt{}class _o extends Zt{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,op(t,s=>this.processProvider(s)),this.records.set(Gw,yo(void 0,this)),i.has("environment")&&this.records.set(Zt,yo(void 0,this));const o=this.records.get(np);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Ww.multi,X,q.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=Er(this),r=wt(void 0);try{return t()}finally{Er(n),wt(r)}}get(t,n=Ns,r=q.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(RE))return t[RE](this);r=iu(r);const o=Er(this),s=wt(void 0);try{if(!(r&q.SkipSelf)){let l=this.records.get(t);if(void 0===l){const u=function VL(e){return"function"==typeof e||"object"==typeof e&&e instanceof T}(t)&&eu(t);l=u&&this.injectableDefInScope(u)?yo(ip(t),ju):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(r&q.Self?$u():this.parent).get(t,n=r&q.Optional&&n===Ns?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[ru]=a[ru]||[]).unshift(je(t)),o)throw a;return function Ok(e,t,n,r){const i=e[ru];throw t[AE]&&i.unshift(t[AE]),e.message=function xk(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=je(t);if(Array.isArray(t))i=t.map(je).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):je(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(Ak,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[ru]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{wt(s),Er(o)}}resolveInjectorInitializers(){const t=Er(this),n=wt(void 0);try{const i=this.get(ia.multi,X,q.Self);for(const o of i)o()}finally{Er(t),wt(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(je(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new C(205,!1)}processProvider(t){let n=fi(t=x(t))?t:x(t&&t.provide);const r=function kL(e){return tp(e)?yo(void 0,e.useValue):yo(Zw(e),ju)}(t);if(fi(t)||!0!==t.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=yo(void 0,ju,!0),i.factory=()=>Jh(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===ju&&(n.value=OL,n.value=n.factory()),"object"==typeof n.value&&n.value&&function LL(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=x(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function ip(e){const t=eu(e),n=null!==t?t.factory:ui(e);if(null!==n)return n;if(e instanceof T)throw new C(204,!1);if(e instanceof Function)return function xL(e){const t=e.length;if(t>0)throw function Ks(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new C(204,!1);const n=function Dk(e){return e&&(e[nu]||e[DE])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new C(204,!1)}function Zw(e,t,n){let r;if(fi(e)){const i=x(e);return ui(i)||ip(i)}if(tp(e))r=()=>x(e.useValue);else if(function Qw(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Jh(e.deps||[]));else if(function Kw(e){return!(!e||!e.useExisting)}(e))r=()=>M(x(e.useExisting));else{const i=x(e&&(e.useClass||e.provide));if(!function FL(e){return!!e.deps}(e))return ui(i)||ip(i);r=()=>new i(...Jh(e.deps))}return r}function yo(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function op(e,t){for(const n of e)Array.isArray(n)?op(n,t):n&&Hh(n)?op(n.\u0275providers,t):t(n)}const Hu=new T("AppId",{providedIn:"root",factory:()=>UL}),UL="ng",Jw=new T("Platform Initializer"),Mr=new T("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Xw=new T("CSP nonce",{providedIn:"root",factory:()=>function go(){if(void 0!==qf)return qf;if(typeof document<"u")return document;throw new C(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let eD=(e,t,n)=>null;function fp(e,t,n=!1){return eD(e,t,n)}class KL{}class rD{}class ZL{resolveComponentFactory(t){throw function QL(e){const t=Error(`No component factory found for ${je(e)}.`);return t.ngComponent=e,t}(t)}}let Ku=(()=>{class e{static#e=this.NULL=new ZL}return e})();function JL(){return Eo(Xe(),y())}function Eo(e,t){return new Ut(Tt(e,t))}let Ut=(()=>{class e{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=JL}return e})();class oD{}let Xn=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function eV(){const e=y(),n=Ft(Xe().index,e);return(bt(n)?n:e)[V]}()}return e})(),tV=(()=>{class e{static#e=this.\u0275prov=R({token:e,providedIn:"root",factory:()=>null})}return e})();class Io{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const mp=new Io("16.2.12"),_p={};function uD(e,t=null,n=null,r){const i=cD(e,t,n,r);return i.resolveInjectorInitializers(),i}function cD(e,t=null,n=null,r,i=new Set){const o=[n||X,NL(e)];return r=r||("object"==typeof e?void 0:je(e)),new _o(o,t||$u(),r||null,i)}let gt=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=Ns;static#t=this.NULL=new Xf;static create(n,r){if(Array.isArray(n))return uD({name:""},r,n,"");{const i=n.name??"";return uD({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=R({token:e,providedIn:"any",factory:()=>M(Gw)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();function vp(e){return e.ngOriginalError}class er{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&vp(t);for(;n&&vp(n);)n=vp(n);return n||null}}function Ep(e){return t=>{setTimeout(e,void 0,t)}}const Re=class lV extends un{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&"object"==typeof t){const l=t;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=Ep(o),i&&(i=Ep(i)),s&&(s=Ep(s)));const a=super.subscribe({next:i,error:o,complete:s});return t instanceof Et&&t.add(a),a}};function hD(...e){}class ie{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Re(!1),this.onMicrotaskEmpty=new Re(!1),this.onStable=new Re(!1),this.onError=new Re(!1),typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function uV(){const e="function"==typeof ge.requestAnimationFrame;let t=ge[e?"requestAnimationFrame":"setTimeout"],n=ge[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function hV(e){const t=()=>{!function dV(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(ge,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,wp(e),e.isCheckStableRunning=!0,Ip(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),wp(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function pV(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return fD(e),n.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),pD(e)}},onInvoke:(n,r,i,o,s,a,l)=>{try{return fD(e),n.invoke(i,o,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),pD(e)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,wp(e),Ip(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ie.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(ie.isInAngularZone())throw new C(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,cV,hD,hD);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const cV={};function Ip(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function wp(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function fD(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function pD(e){e._nesting--,Ip(e)}class fV{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Re,this.onMicrotaskEmpty=new Re,this.onStable=new Re,this.onError=new Re}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}const gD=new T("",{providedIn:"root",factory:mD});function mD(){const e=S(ie);let t=!0;return function pk(...e){const t=Ms(e),n=function ak(e,t){return"number"==typeof Uh(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?Pt(r[0]):Gi(n)(Ge(r,t)):Dn}(new Me(i=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(t),i.complete()})}),new Me(i=>{let o;e.runOutsideAngular(()=>{o=e.onStable.subscribe(()=>{ie.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,i.next(!0))})})});const s=e.onUnstable.subscribe(()=>{ie.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(EE()))}function tr(e){return e instanceof Function?e():e}let Dp=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=R({token:e,providedIn:"root",factory:()=>new e})}return e})();function aa(e){for(;e;){e[B]|=64;const t=Js(e);if(sf(e)&&!t)return e;e=t}return null}const ED=new T("",{providedIn:"root",factory:()=>!1});let Zu=null;function bD(e,t){return e[t]??AD()}function TD(e,t){const n=AD();n.producerNode?.length&&(e[t]=Zu,n.lView=e,Zu=SD())}const DV={...YE,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{aa(e.lView)},lView:null};function SD(){return Object.create(DV)}function AD(){return Zu??=SD(),Zu}const U={};function ND(e,t,n,r){if(!r)if(3==(3&t[B])){const o=e.preOrderCheckHooks;null!==o&&gu(t,o,n)}else{const o=e.preOrderHooks;null!==o&&mu(t,o,0,n)}ci(n)}function E(e,t=q.Default){const n=y();return null===n?M(e,t):jI(Xe(),n,x(e),t)}function Ju(e,t,n,r,i,o,s,a,l,u,c){const d=t.blueprint.slice();return d[Ne]=i,d[B]=140|r,(null!==u||e&&2048&e[B])&&(d[B]|=2048),pI(d),d[De]=d[Ki]=e,d[Oe]=n,d[Yi]=s||e&&e[Yi],d[V]=a||e&&e[V],d[Ir]=l||e&&e[Ir]||null,d[it]=o,d[Vs]=function PF(){return RF++}(),d[Kn]=c,d[GE]=u,d[xe]=2==t.type?e[xe]:d,d}function bo(e,t,n,r,i){let o=e.data[t];if(null===o)o=function bp(e,t,n,r,i){const o=II(),s=pf(),l=e.data[t]=function PV(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return function eo(){return null!==O.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(e,t,n,r,i),function R1(){return O.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Hs(){const e=O.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Nn(o,!0),o}function la(e,t,n,r){if(0===n)return-1;const i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function PD(e,t,n,r,i){const o=bD(t,Us),s=ft(),a=2&r;try{ci(-1),a&&t.length>Y&&ND(e,t,Y,!1),Mn(a?2:0,i);const u=a?o:null,c=lf(u);try{null!==u&&(u.dirty=!1),n(r,i)}finally{uf(u,c)}}finally{a&&null===t[Us]&&TD(t,Us),ci(s),Mn(a?3:1,i)}}function Tp(e,t,n){if(rf(t)){const r=Yt(null);try{const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{Yt(r)}}}function OD(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Mp(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Mp(e,t,n,r,i,o,s,a,l,u,c){const d=Y+r,h=d+i,f=function TV(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:U);return n}(d,h),p="function"==typeof u?u():u;return f[D]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:c}}let xD=e=>null;function kD(e,t,n,r){for(let i in e)if(e.hasOwnProperty(i)){n=null===n?{}:n;const o=e[i];null===r?FD(n,t,i,o):r.hasOwnProperty(i)&&FD(n,t,r[i],o)}return n}function FD(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function LD(e,t,n,r,i,o){for(let u=0;u<r.length;u++)Tf(yu(n,t),e,r[u].type);!function GV(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let u=0;u<r.length;u++){const c=r[u];c.providersResolver&&c.providersResolver(c)}let s=!1,a=!1,l=la(e,t,r.length,null);for(let u=0;u<r.length;u++){const c=r[u];n.mergedAttrs=Os(n.mergedAttrs,c.hostAttrs),WV(e,n,t,l,c),HV(l,c,i),null!==c.contentQueries&&(n.flags|=4),(null!==c.hostBindings||null!==c.hostAttrs||0!==c.hostVars)&&(n.flags|=64);const d=c.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}!function OV(e,t,n){const i=t.directiveEnd,o=e.data,s=t.attrs,a=[];let l=null,u=null;for(let c=t.directiveStart;c<i;c++){const d=o[c],h=n?n.get(d):null,p=h?h.outputs:null;l=kD(d.inputs,c,l,h?h.inputs:null),u=kD(d.outputs,c,u,p);const g=null===l||null===s||LE(t)?null:YV(l,c,s);a.push(g)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=u}(e,n,o)}function VD(e,t,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function O1(){return O.lFrame.currentDirectiveIndex}();try{ci(o);for(let a=r;a<i;a++){const l=e.data[a],u=t[a];mf(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&BV(l,u)}}finally{ci(-1),mf(s)}}function BV(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Rp(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function HV(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;fn(t)&&(n[""]=e)}}function WV(e,t,n,r,i){e.data[r]=i;const o=i.factory||(i.factory=ui(i.type)),s=new Gs(o,fn(i),E);e.blueprint[r]=s,n[r]=s,function LV(e,t,n,r,i){const o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function VV(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(e,t,r,la(e,n,i.hostVars,U),i)}function Pn(e,t,n,r,i,o){const s=Tt(e,t);!function Pp(e,t,n,r,i,o,s){if(null==o)e.removeAttribute(t,i,n);else{const a=null==s?L(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}(t[V],s,o,e.value,n,r,i)}function qV(e,t,n,r,i,o){const s=o[t];if(null!==s)for(let a=0;a<s.length;)UD(r,n,s[a++],s[a++],s[a++])}function UD(e,t,n,r,i){const o=Yt(null);try{const s=e.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(t,i)),null!==e.setInput?e.setInput(t,i,n,r):t[r]=i}finally{Yt(o)}}function YV(e,t,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===r&&(r=[]);const s=e[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function jD(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=e.data[o];yf(n[r]),s.contentQueries(2,t[o],o)}}}function Xu(e,t){return e[Fs]?e[HE][hn]=t:e[Fs]=t,e[HE]=t,t}function Op(e,t,n){yf(0);const r=Yt(null);try{t(e,n)}finally{Yt(r)}}function WD(e,t){const n=e[Ir],r=n?n.get(er,null):null;r&&r.handleError(t)}function xp(e,t,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];UD(e.data[s],t[s],r,a,i)}}function KV(e,t){const n=Ft(t,e),r=n[D];!function QV(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const i=n[Ne];null!==i&&null===n[Kn]&&(n[Kn]=fp(i,n[Ir])),kp(r,n,n[Oe])}function kp(e,t,n){vf(t);try{const r=e.viewQuery;null!==r&&Op(1,r,n);const i=e.template;null!==i&&PD(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&jD(e,t),e.staticViewQueries&&Op(2,e.viewQuery,n);const o=e.components;null!==o&&function ZV(e,t){for(let n=0;n<t.length;n++)KV(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[B]&=-5,Cf()}}let zD=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function u1(e,t,n){const r=Object.create(c1);n&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=t;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>JE(r),run:()=>{if(r.dirty=!1,r.hasRun&&!XE(r))return;r.hasRun=!0;const s=lf(r);try{r.cleanupFn(),r.cleanupFn=aI,r.fn(i)}finally{uf(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(n,u=>{this.all.has(u)&&this.queue.set(u,o)},i);let a;this.all.add(s),s.notify();const l=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=R({token:e,providedIn:"root",factory:()=>new e})}return e})();function ec(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?i=jh(i,a):2==o&&(r=jh(r,a+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function ua(e,t,n,r,i=!1){for(;null!==n;){const o=t[n.index];null!==o&&r.push(me(o)),dt(o)&&qD(o,r);const s=n.type;if(8&s)ua(e,t,n.child,r);else if(32&s){const a=Vf(n,t);let l;for(;l=a();)r.push(l)}else if(16&s){const a=Tw(t,n);if(Array.isArray(a))r.push(...a);else{const l=Js(t[xe]);ua(l[D],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function qD(e,t){for(let n=Ze;n<e.length;n++){const r=e[n],i=r[D].firstChild;null!==i&&ua(r[D],r,i,t)}e[An]!==e[Ne]&&t.push(e[An])}function tc(e,t,n,r=!0){const i=t[Yi],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{YD(e,t,e.template,n)}catch(l){throw r&&WD(t,l),l}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function YD(e,t,n,r){const i=t[B];if(256!=(256&i)){t[Yi].effectManager?.flush(),vf(t);try{pI(t),function DI(e){return O.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&PD(e,t,n,2,r);const s=3==(3&i);if(s){const u=e.preOrderCheckHooks;null!==u&&gu(t,u,null)}else{const u=e.preOrderHooks;null!==u&&mu(t,u,0,null),Ef(t,0)}if(function eU(e){for(let t=pw(e);null!==t;t=gw(t)){if(!t[WE])continue;const n=t[Zi];for(let r=0;r<n.length;r++){C1(n[r])}}}(t),KD(t,2),null!==e.contentQueries&&jD(e,t),s){const u=e.contentCheckHooks;null!==u&&gu(t,u)}else{const u=e.contentHooks;null!==u&&mu(t,u,1),Ef(t,1)}!function bV(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=bD(t,Bs);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)ci(~o);else{const s=o,a=n[++i],l=n[++i];P1(a,s),r.dirty=!1;const u=lf(r);try{l(2,t[s])}finally{uf(r,u)}}}}finally{null===t[Bs]&&TD(t,Bs),ci(-1)}}(e,t);const a=e.components;null!==a&&ZD(t,a,0);const l=e.viewQuery;if(null!==l&&Op(2,l,r),s){const u=e.viewCheckHooks;null!==u&&gu(t,u)}else{const u=e.viewHooks;null!==u&&mu(t,u,2),Ef(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[B]&=-73,gI(t)}finally{Cf()}}}function KD(e,t){for(let n=pw(e);null!==n;n=gw(n))for(let r=Ze;r<n.length;r++)QD(n[r],t)}function tU(e,t,n){QD(Ft(t,e),n)}function QD(e,t){if(!function y1(e){return 128==(128&e[B])}(e))return;const n=e[D],r=e[B];if(80&r&&0===t||1024&r||2===t)YD(n,e,n.template,e[Oe]);else if(e[ks]>0){KD(e,1);const i=n.components;null!==i&&ZD(e,i,1)}}function ZD(e,t,n){for(let r=0;r<t.length;r++)tU(e,t[r],n)}class ca{get rootNodes(){const t=this._lView,n=t[D];return ua(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Oe]}set context(t){this._lView[Oe]=t}get destroyed(){return 256==(256&this._lView[B])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[De];if(dt(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Ou(t,r),Iu(n,r))}this._attachedToViewContainer=!1}Bf(this._lView[D],this._lView)}onDestroy(t){!function _I(e,t){if(256==(256&e[B]))throw new C(911,!1);null===e[wr]&&(e[wr]=[]),e[wr].push(t)}(this._lView,t)}markForCheck(){aa(this._cdRefInjectingView||this._lView)}detach(){this._lView[B]&=-129}reattach(){this._lView[B]|=128}detectChanges(){tc(this._lView[D],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function zF(e,t){ea(e,t,t[V],2,null,null)}(this._lView[D],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=t}}class nU extends ca{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;tc(t[D],t,t[Oe],!1)}checkNoChanges(){}get context(){return null}}class JD extends Ku{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Q(t);return new da(n,this.ngModule)}}function XD(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class iU{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=iu(r);const i=this.injector.get(t,_p,r);return i!==_p||n===_p?i:this.parentInjector.get(t,n,r)}}class da extends rD{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=XD(t.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return XD(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function Gk(e){return e.map(Hk).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let o=(i=i||this.ngModule)instanceof Zt?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new iU(t,o):t,a=s.get(oD,null);if(null===a)throw new C(407,!1);const d={rendererFactory:a,sanitizer:s.get(tV,null),effectManager:s.get(zD,null),afterRenderEventManager:s.get(Dp,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function SV(e,t,n,r){const o=r.get(ED,!1)||n===cn.ShadowDom,s=e.selectRootElement(t,o);return function AV(e){xD(e)}(s),s}(h,r,this.componentDef.encapsulation,s):Pu(h,f,function rU(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(f)),v=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let m=null;null!==p&&(m=fp(p,s,!0));const A=Mp(0,null,null,1,0,null,null,null,null,null,null),N=Ju(null,A,null,v,null,null,d,h,s,null,m);let W,Ye;vf(N);try{const ln=this.componentDef;let ii,Hi=null;ln.findHostDirectiveDefs?(ii=[],Hi=new Map,ln.findHostDirectiveDefs(ln,ii,Hi),ii.push(ln)):ii=[ln];const KC=function sU(e,t){const n=e[D],r=Y;return e[r]=t,bo(n,r,2,"#host",null)}(N,p),tZ=function aU(e,t,n,r,i,o,s){const a=i[D];!function lU(e,t,n,r){for(const i of e)t.mergedAttrs=Os(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(ec(t,t.mergedAttrs,!0),null!==n&&Nw(r,n,t))}(r,e,t,s);let l=null;null!==t&&(l=fp(t,i[Ir]));const u=o.rendererFactory.createRenderer(t,n);let c=16;n.signals?c=4096:n.onPush&&(c=64);const d=Ju(i,OD(n),null,c,i[e.index],e,o,u,null,null,l);return a.firstCreatePass&&Rp(a,e,r.length-1),Xu(i,d),i[e.index]=d}(KC,p,ln,ii,N,d,h);Ye=fI(A,Y),p&&function cU(e,t,n,r){if(r)tf(e,n,["ng-version",mp.full]);else{const{attrs:i,classes:o}=function Wk(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!dn(i))break;i=o}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&tf(e,n,i),o&&o.length>0&&Mw(e,n,o.join(" "))}}(h,ln,p,r),void 0!==n&&function dU(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(Ye,this.ngContentSelectors,n),W=function uU(e,t,n,r,i,o){const s=Xe(),a=i[D],l=Tt(s,i);LD(a,i,s,n,null,r);for(let c=0;c<n.length;c++)ot(di(i,a,s.directiveStart+c,s),i);VD(a,i,s),l&&ot(l,i);const u=di(i,a,s.directiveStart+s.componentOffset,s);if(e[Oe]=i[Oe]=u,null!==o)for(const c of o)c(u,t);return Tp(a,s,e),u}(tZ,ln,ii,Hi,N,[hU]),kp(A,N,null)}finally{Cf()}return new oU(this.componentType,W,Eo(Ye,N),N,Ye)}}class oU extends KL{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new nU(i),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const o=this._rootLView;xp(o[D],o,i,t,n),this.previousInputValues.set(t,n),aa(Ft(this._tNode.index,o))}}get injector(){return new pt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function hU(){const e=Xe();pu(y()[D],e)}function ae(e){let t=function eb(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(fn(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new C(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);const s=e;s.inputs=nc(e.inputs),s.inputTransforms=nc(e.inputTransforms),s.declaredInputs=nc(e.declaredInputs),s.outputs=nc(e.outputs);const a=i.hostBindings;a&&mU(e,a);const l=i.viewQuery,u=i.contentQueries;if(l&&pU(e,l),u&&gU(e,u),Jl(e.inputs,i.inputs),Jl(e.declaredInputs,i.declaredInputs),Jl(e.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Jl(s.inputTransforms,i.inputTransforms)),fn(i)&&i.data.animation){const c=e.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(e),a===ae&&(n=!1)}}t=Object.getPrototypeOf(t)}!function fU(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Os(i.hostAttrs,n=Os(n,i.hostAttrs))}}(r)}function nc(e){return e===Tn?{}:e===X?[]:e}function pU(e,t){const n=e.viewQuery;e.viewQuery=n?(r,i)=>{t(r,i),n(r,i)}:t}function gU(e,t){const n=e.contentQueries;e.contentQueries=n?(r,i,o)=>{t(r,i,o),n(r,i,o)}:t}function mU(e,t){const n=e.hostBindings;e.hostBindings=n?(r,i)=>{t(r,i),n(r,i)}:t}function ib(e){const t=e.inputConfig,n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}e.inputTransforms=n}function st(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function xn(e,t,n,r){const i=y();return st(i,to(),t)&&(Z(),Pn(Se(),i,e,t,n,r)),xn}function $p(e){return function Xi(e,t){return e[t]}(function N1(){return O.lFrame.contextLView}(),Y+e)}function Hp(e,t,n){const r=y();return st(r,to(),t)&&function Bt(e,t,n,r,i,o,s,a){const l=Tt(t,n);let c,u=t.inputs;!a&&null!=u&&(c=u[r])?(xp(e,n,c,r,i),li(t)&&function kV(e,t){const n=Ft(t,e);16&n[B]||(n[B]|=64)}(n,t.index)):3&t.type&&(r=function xV(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,t.value||"",r):i,o.setProperty(l,r,i))}(Z(),Se(),r,e,t,r[V],n,!1),Hp}function Gp(e,t,n,r,i){const s=i?"class":"style";xp(e,n,t.inputs[s],s,r)}function J(e,t,n,r){const i=y(),o=Z(),s=Y+e,a=i[V],l=o.firstCreatePass?function zU(e,t,n,r,i,o){const s=t.consts,l=bo(t,e,2,r,br(s,i));return function Np(e,t,n,r){if(vI()){const i=null===r?null:{"":-1},o=function jV(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(VE(t,s.selectors,!1))if(r||(r=[]),fn(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),Rp(e,t,a.length)}else r.unshift(s),Rp(e,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(e,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&LD(e,t,n,s,i,a),i&&function $V(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const o=n[t[i+1]];if(null==o)throw new C(-301,!1);r.push(t[i],o)}}}(n,r,i)}n.mergedAttrs=Os(n.mergedAttrs,n.attrs)}(t,n,l,br(s,o)),null!==l.attrs&&ec(l,l.attrs,!1),null!==l.mergedAttrs&&ec(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,o,i,t,n,r):o.data[s],u=vb(o,i,l,a,t,e);i[s]=u;const c=uu(l);return Nn(l,!0),Nw(a,u,l),32!=(32&l.flags)&&fu()&&ku(o,i,u,l),0===function I1(){return O.lFrame.elementDepthCount}()&&ot(u,i),function w1(){O.lFrame.elementDepthCount++}(),c&&(function Sp(e,t,n){vI()&&(function UV(e,t,n,r){const i=n.directiveStart,o=n.directiveEnd;li(n)&&function zV(e,t,n){const r=Tt(t,e),i=OD(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=Xu(e,Ju(e,i,null,s,r,t,null,e[Yi].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=a}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||yu(n,t),ot(r,t);const s=n.initialInputs;for(let a=i;a<o;a++){const l=e.data[a],u=di(t,e,a,n);ot(u,t),null!==s&&qV(0,a-i,u,l,0,s),fn(l)&&(Ft(n.index,t)[Oe]=di(t,e,a,n))}}(e,t,n,Tt(n,t)),64==(64&n.flags)&&VD(e,t,n))}(o,i,l),Tp(o,l,i)),null!==r&&function Ap(e,t,n=Tt){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(t,e):e[s];e[i++]=a}}}(i,l),J}function K(){let e=Xe();pf()?function gf(){O.lFrame.isParent=!1}():(e=e.parent,Nn(e,!1));const t=e;(function b1(e){return O.skipHydrationRootTNode===e})(t)&&function M1(){O.skipHydrationRootTNode=null}(),function D1(){O.lFrame.elementDepthCount--}();const n=Z();return n.firstCreatePass&&(pu(n,e),rf(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function G1(e){return 0!=(8&e.flags)}(t)&&Gp(n,t,y(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function W1(e){return 0!=(16&e.flags)}(t)&&Gp(n,t,y(),t.stylesWithoutHost,!1),K}function tt(e,t,n,r){return J(e,t,n,r),K(),tt}let vb=(e,t,n,r,i,o)=>(Tr(!0),Pu(r,i,function PI(){return O.lFrame.currentNamespace}()));function ma(e){return!!e&&"function"==typeof e.then}function wb(e){return!!e&&"function"==typeof e.subscribe}function jt(e,t,n,r){const i=y(),o=Z(),s=Xe();return function bb(e,t,n,r,i,o,s){const a=uu(r),u=e.firstCreatePass&&function HD(e){return e.cleanup||(e.cleanup=[])}(e),c=t[Oe],d=function $D(e){return e[qi]||(e[qi]=[])}(t);let h=!0;if(3&r.type||s){const g=Tt(r,t),_=s?s(g):g,v=d.length,m=s?N=>s(me(N[r.index])):r.index;let A=null;if(!s&&a&&(A=function JU(e,t,n,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=t[qi],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(e,t,i,r.index)),null!==A)(A.__ngLastListenerFn__||A).__ngNextListenerFn__=o,A.__ngLastListenerFn__=o,h=!1;else{o=Sb(r,t,c,o,!1);const N=n.listen(_,i,o);d.push(o,N),u&&u.push(i,m,v,v+1)}}else o=Sb(r,t,c,o,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let _=0;_<g;_+=2){const W=t[p[_]][p[_+1]].subscribe(o),Ye=d.length;d.push(o,W),u&&u.push(i,r.index,Ye,-(Ye+1))}}}(o,i,i[V],s,e,t,r),jt}function Tb(e,t,n,r){try{return Mn(6,t,n),!1!==n(r)}catch(i){return WD(e,i),!1}finally{Mn(7,t,n)}}function Sb(e,t,n,r,i){return function o(s){if(s===Function)return r;aa(e.componentOffset>-1?Ft(e.index,t):t);let l=Tb(t,n,r,s),u=o.__ngNextListenerFn__;for(;u;)l=Tb(t,n,u,s)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&s.preventDefault(),l}}function lc(e,t){return e<<17|t<<2}function Nr(e){return e>>17&32767}function Yp(e){return 2|e}function gi(e){return(131068&e)>>2}function Kp(e,t){return-131069&e|t<<2}function Qp(e){return 1|e}function Lb(e,t,n,r,i){const o=e[n+1],s=null===t;let a=r?Nr(o):gi(o),l=!1;for(;0!==a&&(!1===l||s);){const c=e[a+1];l2(e[a],t)&&(l=!0,e[a+1]=r?Qp(c):Yp(c)),a=r?Nr(c):gi(c)}l&&(e[n+1]=r?Yp(o):Qp(o))}function l2(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&uo(e,t)>=0}function uc(e,t){return function pn(e,t,n,r){const i=y(),o=Z(),s=function Zn(e){const t=O.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);o.firstUpdatePass&&function zb(e,t,n,r){const i=e.data;if(null===i[n+1]){const o=i[ft()],s=function Wb(e,t){return t>=e.expandoStartIndex}(e,n);(function Qb(e,t){return 0!=(e.flags&(t?8:16))})(o,r)&&null===t&&!s&&(t=!1),t=function _2(e,t,n,r){const i=function _f(e){const t=O.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=_a(n=Zp(null,e,t,n,r),t.attrs,r),o=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==i)if(n=Zp(i,e,t,n,r),null===o){let l=function y2(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==gi(r))return e[Nr(r)]}(e,t,r);void 0!==l&&Array.isArray(l)&&(l=Zp(null,e,t,l[1],r),l=_a(l,t.attrs,r),function v2(e,t,n,r){e[Nr(n?t.classBindings:t.styleBindings)]=r}(e,t,r,l))}else o=function C2(e,t,n){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=_a(r,e[o].hostAttrs,n);return _a(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function s2(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=Nr(s),l=gi(s);e[r]=n;let c,u=!1;if(Array.isArray(n)?(c=n[1],(null===c||uo(n,c)>0)&&(u=!0)):c=n,i)if(0!==l){const h=Nr(e[a+1]);e[r+1]=lc(h,a),0!==h&&(e[h+1]=Kp(e[h+1],r)),e[a+1]=function i2(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=lc(a,0),0!==a&&(e[a+1]=Kp(e[a+1],r)),a=r;else e[r+1]=lc(l,0),0===a?a=r:e[l+1]=Kp(e[l+1],r),l=r;u&&(e[r+1]=Yp(e[r+1])),Lb(e,c,r,!0),Lb(e,c,r,!1),function a2(e,t,n,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&uo(o,t)>=0&&(n[r+1]=Qp(n[r+1]))}(t,c,e,r,o),s=lc(a,l),o?t.classBindings=s:t.styleBindings=s}(i,o,t,n,s,r)}}(o,e,s,r),t!==U&&st(i,s,t)&&function Yb(e,t,n,r,i,o,s,a){if(!(3&t.type))return;const l=e.data,u=l[a+1],c=function o2(e){return 1==(1&e)}(u)?Kb(l,t,n,i,gi(u),s):void 0;cc(c)||(cc(o)||function r2(e){return 2==(2&e)}(u)&&(o=Kb(l,null,n,i,a,s)),function nL(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:Sr.DashCase;null==i?e.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Sr.Important),e.setStyle(n,r,i,o))}}(r,s,function hu(e,t){return me(t[e])}(ft(),n),i,o))}(o,o.data[ft()],i,i[V],e,i[s+1]=function D2(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=je(Ar(e)))),e}(t,n),r,s)}(e,t,null,!0),uc}function Zp(e,t,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=t[a],r=_a(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function _a(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Lt(e,s,!!n||t[++o]))}return void 0===e?null:e}function Kb(e,t,n,r,i,o){const s=null===t;let a;for(;i>0;){const l=e[i],u=Array.isArray(l),c=u?l[1]:l,d=null===c;let h=n[i+1];h===U&&(h=d?X:void 0);let f=d?Mf(h,r):c===r?h:void 0;if(u&&!cc(f)&&(f=Mf(l,r)),cc(f)&&(a=f,s))return a;const p=e[i+1];i=s?Nr(p):gi(p)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(a=Mf(l,r))}return a}function cc(e){return void 0!==e}function de(e,t=""){const n=y(),r=Z(),i=e+Y,o=r.firstCreatePass?bo(r,i,1,t,null):r.data[i],s=Zb(r,n,o,t,e);n[i]=s,fu()&&ku(r,n,s,o),Nn(o,!1)}let Zb=(e,t,n,r,i)=>(Tr(!0),function Ru(e,t){return e.createText(t)}(t[V],r));const Lo="en-US";let CT=Lo;function tg(e,t,n,r,i){if(e=x(e),Array.isArray(e))for(let o=0;o<e.length;o++)tg(e[o],t,n,r,i);else{const o=Z(),s=y(),a=Xe();let l=fi(e)?e:x(e.provide);const u=Zw(e),c=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(fi(e)||!e.multi){const f=new Gs(u,i,E),p=rg(l,t,i?c:c+h,d);-1===p?(Tf(yu(a,s),o,l),ng(o,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{const f=rg(l,t,c+h,d),p=rg(l,t,c,c+h),_=p>=0&&n[p];if(i&&!_||!i&&!(f>=0&&n[f])){Tf(yu(a,s),o,l);const v=function WB(e,t,n,r,i){const o=new Gs(e,n,E);return o.multi=[],o.index=t,o.componentProviders=0,WT(o,i,r&&!n),o}(i?GB:HB,n.length,i,r,u);!i&&_&&(n[p].providerFactory=v),ng(o,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),s.push(v)}else ng(o,e,f>-1?f:p,WT(n[i?p:f],u,!i&&r));!i&&r&&_&&n[p].componentProviders++}}}function ng(e,t,n,r){const i=fi(t),o=function PL(e){return!!e.useClass}(t);if(i||o){const l=(o?x(t.useClass):t).prototype.ngOnDestroy;if(l){const u=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const c=u.indexOf(n);-1===c?u.push(n,[r,l]):u[c+1].push(r,l)}else u.push(n,l)}}}function WT(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function rg(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function HB(e,t,n,r){return ig(this.multi,[])}function GB(e,t,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=di(n,n[D],this.providerFactory.index,r);o=a.slice(0,s),ig(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],ig(i,o);return o}function ig(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function be(e,t=[]){return n=>{n.providersResolver=(r,i)=>function $B(e,t,n){const r=Z();if(r.firstCreatePass){const i=fn(e);tg(n,r.data,r.blueprint,i,!0),tg(t,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,t)}}class _i{}class zT{}class og extends _i{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new JD(this);const i=kt(t);this._bootstrapComponents=tr(i.bootstrap),this._r3Injector=cD(t,n,[{provide:_i,useValue:this},{provide:Ku,useValue:this.componentFactoryResolver},...r],je(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class sg extends zT{constructor(t){super(),this.moduleType=t}create(t){return new og(this.moduleType,t,[])}}class qT extends _i{constructor(t){super(),this.componentFactoryResolver=new JD(this),this.instance=null;const n=new _o([...t.providers,{provide:_i,useValue:this},{provide:Ku,useValue:this.componentFactoryResolver}],t.parent||$u(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function ag(e,t,n=null){return new qT({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let YB=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=qw(0,n.type),i=r.length>0?ag([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=R({token:e,providedIn:"environment",factory:()=>new e(M(Zt))})}return e})();function YT(e){e.getStandaloneInjector=t=>t.get(YB).getOrCreateStandaloneInjector(e)}function Ij(e,t,n,r=!0){const i=t[D];if(function YF(e,t,n,r){const i=Ze+r,o=n.length;r>0&&(n[i-1][hn]=t),r<o-Ze?(t[hn]=n[i],qI(n,Ze+r,t)):(n.push(t),t[hn]=null),t[De]=n;const s=t[Ls];null!==s&&n!==s&&function KF(e,t){const n=e[Zi];t[xe]!==t[De][De][xe]&&(e[WE]=!0),null===n?e[Zi]=[t]:n.push(t)}(s,t);const a=t[Sn];null!==a&&a.insertView(e),t[B]|=128}(i,t,e,n),r){const o=Gf(n,e),s=t[V],a=xu(s,e[An]);null!==a&&function WF(e,t,n,r,i,o){r[Ne]=i,r[it]=t,ea(e,r,n,1,i,o)}(i,e[it],s,t,a,o)}}Symbol;let mn=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=Rj}return e})();function Rj(){return function hS(e,t){let n;const r=t[e.index];return dt(r)?n=r:(n=function BD(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}(r,t,null,e),t[e.index]=n,Xu(t,n)),fS(n,t,e,r),new cS(n,e,t)}(Xe(),y())}const Pj=mn,cS=class extends Pj{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Eo(this._hostTNode,this._hostLView)}get injector(){return new pt(this._hostTNode,this._hostLView)}get parentInjector(){const t=vu(this._hostTNode,this._hostLView);if(wf(t)){const n=zs(t,this._hostLView),r=Ws(t);return new pt(n[D].data[r+8],n)}return new pt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=dS(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-Ze}createEmbeddedView(t,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=t.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(t,n,r,i,o){const s=t&&!function Ys(e){return"function"==typeof e}(t);let a;if(s)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}const l=s?t:new da(Q(t)),u=r||this.parentInjector;if(!o&&null==l.ngModule){const _=(s?u:this.parentInjector).get(Zt,null);_&&(o=_)}Q(l.componentType??{});const f=l.create(u,i,null,o);return this.insertImpl(f.hostView,a,false),f}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const i=t._lView;if(function v1(e){return dt(e[De])}(i)){const l=this.indexOf(t);if(-1!==l)this.detach(l);else{const u=i[De],c=new cS(u,u[it],u[De]);c.detach(c.indexOf(t))}}const s=this._adjustIndex(n),a=this._lContainer;return Ij(a,i,s,!r),t.attachToViewContainerRef(),qI(cg(a),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=dS(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Ou(this._lContainer,n);r&&(Iu(cg(this._lContainer),n),Bf(r[D],r))}detach(t){const n=this._adjustIndex(t,-1),r=Ou(this._lContainer,n);return r&&null!=Iu(cg(this._lContainer),n)?new ca(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function dS(e){return e[8]}function cg(e){return e[8]||(e[8]=[])}let fS=function pS(e,t,n,r){if(e[An])return;let i;i=8&n.type?me(r):function Oj(e,t){const n=e[V],r=n.createComment(""),i=Tt(t,e);return hi(n,xu(n,i),r,function XF(e,t){return e.nextSibling(t)}(n,i),!1),r}(t,n),e[An]=i};const Eg=new T("Application Initializer");let Ig=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=S(Eg,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(ma(o))n.push(o);else if(wb(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),US=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const ir=new T("LocaleId",{providedIn:"root",factory:()=>S(ir,q.Optional|q.SkipSelf)||function c$(){return typeof $localize<"u"&&$localize.locale||Lo}()});let BS=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new zt(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class f${constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let jS=(()=>{class e{compileModuleSync(n){return new sg(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=tr(kt(n).declarations).reduce((s,a)=>{const l=Q(a);return l&&s.push(new da(l)),s},[]);return new f$(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const WS=new T(""),vc=new T("");let Sg,bg=(()=>{class e{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Sg||(function k$(e){Sg=e}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ie.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||e)(M(ie),M(Tg),M(vc))};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac})}return e})(),Tg=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Sg?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),Rr=null;const zS=new T("AllowMultipleToken"),Ag=new T("PlatformDestroyListeners"),Mg=new T("appBootstrapListener");class YS{constructor(t,n){this.name=t,this.token=n}}function QS(e,t,n=[]){const r=`Platform: ${t}`,i=new T(r);return(o=[])=>{let s=Ng();if(!s||s.injector.get(zS,!1)){const a=[...n,...o,{provide:i,useValue:!0}];e?e(a):function V$(e){if(Rr&&!Rr.get(zS,!1))throw new C(400,!1);(function qS(){!function i1(e){rI=e}(()=>{throw new C(600,!1)})})(),Rr=e;const t=e.get(JS);(function KS(e){e.get(Jw,null)?.forEach(n=>n())})(e)}(function ZS(e=[],t){return gt.create({name:t,providers:[{provide:np,useValue:"platform"},{provide:Ag,useValue:new Set([()=>Rr=null])},...e]})}(a,r))}return function B$(e){const t=Ng();if(!t)throw new C(401,!1);return t}()}}function Ng(){return Rr?.get(JS)??null}let JS=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function j$(e="zone.js",t){return"noop"===e?new fV:"zone.js"===e?new ie(t):e}(r?.ngZone,function XS(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function qB(e,t,n){return new og(e,t,n)}(n.moduleType,this.injector,function iA(e){return[{provide:ie,useFactory:e},{provide:ia,multi:!0,useFactory:()=>{const t=S(H$,{optional:!0});return()=>t.initialize()}},{provide:rA,useFactory:$$},{provide:gD,useFactory:mD}]}(()=>i)),s=o.injector.get(er,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{Cc(this._modules,o),a.unsubscribe()})}),function eA(e,t,n){try{const r=n();return ma(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(Ig);return a.runInitializers(),a.donePromise.then(()=>(function ET(e){qt(e,"Expected localeId to be defined"),"string"==typeof e&&(CT=e.toLowerCase().replace(/_/g,"-"))}(o.injector.get(ir,Lo)||Lo),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=tA({},r);return function F$(e,t,n){const r=new sg(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(Bo);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new C(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new C(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Ag,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||e)(M(gt))};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function tA(e,t){return Array.isArray(t)?t.reduce(tA,e):{...e,...t}}let Bo=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=S(rA),this.zoneIsStable=S(gD),this.componentTypes=[],this.components=[],this.isStable=S(BS).hasPendingTasks.pipe(bn(n=>n?F(!1):this.zoneIsStable),function gk(e,t=vr){return e=e??mk,Be((n,r)=>{let i,o=!0;n.subscribe(Le(r,s=>{const a=t(s);(o||!e(i,a))&&(o=!1,i=a,r.next(s))}))})}(),EE()),this._injector=S(Zt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof rD;if(!this._injector.get(Ig).done)throw!i&&function zi(e){const t=Q(e)||Qe(e)||ct(e);return null!==t&&t.standalone}(n),new C(405,!1);let s;s=i?n:this._injector.get(Ku).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function L$(e){return e.isBoundToModule}(s)?void 0:this._injector.get(_i),u=s.create(gt.NULL,[],r||s.selector,a),c=u.location.nativeElement,d=u.injector.get(WS,null);return d?.registerApplication(c),u.onDestroy(()=>{this.detachView(u.hostView),Cc(this.components,u),d?.unregisterApplication(c)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new C(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Cc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Mg,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Cc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new C(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Cc(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const rA=new T("",{providedIn:"root",factory:()=>S(er).handleError.bind(void 0)});function $$(){const e=S(ie),t=S(er);return n=>e.runOutsideAngular(()=>t.handleError(n))}let H$=(()=>{class e{constructor(){this.zone=S(ie),this.applicationRef=S(Bo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();let Ec=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=z$}return e})();function z$(e){return function q$(e,t,n){if(li(e)&&!n){const r=Ft(e.index,t);return new ca(r,r)}return 47&e.type?new ca(t[xe],t):null}(Xe(),y(),16==(16&e))}const sH=QS(null,"core",[]);let aH=(()=>{class e{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||e)(M(Bo))};static#t=this.\u0275mod=xt({type:e});static#n=this.\u0275inj=It({})}return e})();function jo(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}let Fg=null;function Pr(){return Fg}class EH{}const Xt=new T("DocumentToken");let Lg=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=R({token:e,factory:function(){return S(wH)},providedIn:"platform"})}return e})();const IH=new T("Location Initialized");let wH=(()=>{class e extends Lg{constructor(){super(),this._doc=S(Xt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Pr().getBaseHref(this._doc)}onPopState(n){const r=Pr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Pr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=R({token:e,factory:function(){return new e},providedIn:"platform"})}return e})();function Vg(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function IA(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function or(e){return e&&"?"!==e[0]?"?"+e:e}let vi=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=R({token:e,factory:function(){return S(DA)},providedIn:"root"})}return e})();const wA=new T("appBaseHref");let DA=(()=>{class e extends vi{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??S(Xt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Vg(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+or(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+or(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+or(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||e)(M(Lg),M(wA,8))};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),DH=(()=>{class e extends vi{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Vg(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+or(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+or(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||e)(M(Lg),M(wA,8))};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac})}return e})(),Ug=(()=>{class e{constructor(n){this._subject=new Re,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function SH(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(IA(bA(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+or(r))}normalize(n){return e.stripTrailingSlash(function TH(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,bA(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+or(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+or(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=or;static#t=this.joinWithSlash=Vg;static#n=this.stripTrailingSlash=IA;static#r=this.\u0275fac=function(r){return new(r||e)(M(vi))};static#i=this.\u0275prov=R({token:e,factory:function(){return function bH(){return new Ug(M(vi))}()},providedIn:"root"})}return e})();function bA(e){return e.replace(/\/index.html$/,"")}let $G=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=xt({type:e});static#n=this.\u0275inj=It({})}return e})();function jA(e){return"server"===e}let zG=(()=>{class e{static#e=this.\u0275prov=R({token:e,providedIn:"root",factory:()=>new qG(M(Xt),window)})}return e})();class qG{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function YG(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class yW extends EH{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class nm extends yW{static makeCurrent(){!function CH(e){Fg||(Fg=e)}(new nm)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function vW(){return Ra=Ra||document.querySelector("base"),Ra?Ra.getAttribute("href"):null}();return null==n?null:function CW(e){Vc=Vc||document.createElement("a"),Vc.setAttribute("href",e);const t=Vc.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){Ra=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function dG(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let Vc,Ra=null,IW=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac})}return e})();const rm=new T("EventManagerPlugins");let zA=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new C(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||e)(M(rm),M(ie))};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac})}return e})();class qA{constructor(t){this._doc=t}}const im="ng-app-id";let YA=(()=>{class e{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=jA(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${im}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(im),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(im,this.appId),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||e)(M(Xt),M(Hu),M(Xw,8),M(Mr))};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac})}return e})();const om={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},sm=/%COMP%/g,TW=new T("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function QA(e,t){return t.map(n=>n.replace(sm,e))}let ZA=(()=>{class e{constructor(n,r,i,o,s,a,l,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=jA(a),this.defaultRenderer=new am(n,s,l,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===cn.ShadowDom&&(r={...r,encapsulation:cn.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof XA?i.applyToHost(n):i instanceof lm&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,c=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case cn.Emulated:o=new XA(l,u,r,this.appId,c,s,a,d);break;case cn.ShadowDom:return new NW(l,u,n,r,s,a,this.nonce,d);default:o=new lm(l,u,r,c,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||e)(M(zA),M(YA),M(Hu),M(TW),M(Xt),M(Mr),M(ie),M(Xw))};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac})}return e})();class am{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(om[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(JA(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(JA(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new C(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const o=om[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=om[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Sr.DashCase|Sr.Important)?t.style.setProperty(n,r,i&Sr.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Sr.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=Pr().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function JA(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class NW extends am{constructor(t,n,r,i,o,s,a,l){super(t,o,s,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=QA(i.id,i.styles);for(const c of u){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=c,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class lm extends am{constructor(t,n,r,i,o,s,a,l){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?QA(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class XA extends lm{constructor(t,n,r,i,o,s,a,l){const u=i+"-"+r.id;super(t,n,r,o,s,a,l,u),this.contentAttr=function SW(e){return"_ngcontent-%COMP%".replace(sm,e)}(u),this.hostAttr=function AW(e){return"_nghost-%COMP%".replace(sm,e)}(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let RW=(()=>{class e extends qA{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||e)(M(Xt))};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac})}return e})();const e0=["alt","control","meta","shift"],PW={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},OW={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let xW=(()=>{class e extends qA{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Pr().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),e0.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),s+=u+".")}),s+=o,0!=r.length||0===o.length)return null;const l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=PW[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),e0.forEach(s=>{s!==i&&(0,OW[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||e)(M(Xt))};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac})}return e})();const n0=[{provide:Mr,useValue:"browser"},{provide:Jw,useValue:function kW(){nm.makeCurrent()},multi:!0},{provide:Xt,useFactory:function LW(){return function aL(e){qf=e}(document),document},deps:[]}],VW=QS(sH,"browser",n0),UW=new T(""),r0=[{provide:vc,useClass:class EW{addToWindow(t){ge.getAngularTestability=(r,i=!0)=>{const o=t.findTestabilityInTree(r,i);if(null==o)throw new C(5103,!1);return o},ge.getAllAngularTestabilities=()=>t.getAllTestabilities(),ge.getAllAngularRootElements=()=>t.getAllRootElements(),ge.frameworkStabilizers||(ge.frameworkStabilizers=[]),ge.frameworkStabilizers.push(r=>{const i=ge.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(l){s=s||l,o--,0==o&&r(s)};i.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?Pr().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:WS,useClass:bg,deps:[ie,Tg,vc]},{provide:bg,useClass:bg,deps:[ie,Tg,vc]}],o0=[{provide:np,useValue:"root"},{provide:er,useFactory:function FW(){return new er},deps:[]},{provide:rm,useClass:RW,multi:!0,deps:[Xt,ie,Mr]},{provide:rm,useClass:xW,multi:!0,deps:[Xt]},ZA,YA,zA,{provide:oD,useExisting:ZA},{provide:class KG{},useClass:IW,deps:[]},[]];let BW=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Hu,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||e)(M(UW,12))};static#t=this.\u0275mod=xt({type:e});static#n=this.\u0275inj=It({providers:[...o0,...r0],imports:[$G,aH]})}return e})(),s0=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||e)(M(Xt))};static#t=this.\u0275prov=R({token:e,factory:function(r){let i=null;return i=r?new r:function $W(){return new s0(M(Xt))}(),i},providedIn:"root"})}return e})();typeof window<"u"&&window;const{isArray:YW}=Array,{getPrototypeOf:KW,prototype:QW,keys:ZW}=Object;function c0(e){if(1===e.length){const t=e[0];if(YW(t))return{args:t,keys:null};if(function JW(e){return e&&"object"==typeof e&&KW(e)===QW}(t)){const n=ZW(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}const{isArray:XW}=Array;function d0(e){return ce(t=>function ez(e,t){return XW(t)?e(...t):e(t)}(e,t))}function h0(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function cm(...e){const t=Ms(e),n=vE(e),{args:r,keys:i}=c0(e);if(0===r.length)return Ge([],t);const o=new Me(function tz(e,t,n=vr){return r=>{f0(t,()=>{const{length:i}=e,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)f0(t,()=>{const u=Ge(e[l],t);let c=!1;u.subscribe(Le(r,d=>{o[l]=d,c||(c=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,t,i?s=>h0(i,s):vr));return n?o.pipe(d0(n)):o}function f0(e,t,n){e?zn(n,e,t):t()}const Uc=Th(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function dm(...e){return function nz(){return Gi(1)}()(Ge(e,Ms(e)))}function p0(e){return new Me(t=>{Pt(e()).subscribe(t)})}function Pa(e,t){const n=Ee(e)?e:()=>e,r=i=>i.error(n());return new Me(t?i=>t.schedule(r,0,i):r)}function hm(){return Be((e,t)=>{let n=null;e._refCount++;const r=Le(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class g0 extends Me{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,iE(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Et;const n=this.getSubject();t.add(this.source.subscribe(Le(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Et.EMPTY)}return t}refCount(){return hm()(this)}}function Ho(e){return e<=0?()=>Dn:Be((t,n)=>{let r=0;t.subscribe(Le(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function xr(e,t){return Be((n,r)=>{let i=0;n.subscribe(Le(r,o=>e.call(t,o,i++)&&r.next(o)))})}function Bc(e){return Be((t,n)=>{let r=!1;t.subscribe(Le(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function m0(e=iz){return Be((t,n)=>{let r=!1;t.subscribe(Le(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function iz(){return new Uc}function Ci(e,t){const n=arguments.length>=2;return r=>r.pipe(e?xr((i,o)=>e(i,o,r)):vr,Ho(1),n?Bc(t):m0(()=>new Uc))}function Oa(e,t){return Ee(t)?Ke(e,t,1):Ke(e,1)}function nt(e,t,n){const r=Ee(e)||t||n?{next:e,error:t,complete:n}:e;return r?Be((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Le(o,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),o.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):vr}function Ei(e){return Be((t,n)=>{let o,r=null,i=!1;r=t.subscribe(Le(n,void 0,void 0,s=>{o=Pt(e(s,Ei(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function fm(e){return e<=0?()=>Dn:Be((t,n)=>{let r=[];t.subscribe(Le(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function pm(e){return Be((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const $="primary",xa=Symbol("RouteTitle");class cz{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Go(e){return new cz(e)}function dz(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Ln(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!_0(e[i],t[i]))return!1;return!0}function _0(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}return e===t}function y0(e){return e.length>0?e[e.length-1]:null}function kr(e){return function qW(e){return!!e&&(e instanceof Me||Ee(e.lift)&&Ee(e.subscribe))}(e)?e:ma(e)?Ge(Promise.resolve(e)):F(e)}const fz={exact:function E0(e,t,n){if(!Ii(e.segments,t.segments)||!jc(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!E0(e.children[r],t.children[r],n))return!1;return!0},subset:I0},v0={exact:function pz(e,t){return Ln(e,t)},subset:function gz(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>_0(e[n],t[n]))},ignored:()=>!0};function C0(e,t,n){return fz[n.paths](e.root,t.root,n.matrixParams)&&v0[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function I0(e,t,n){return w0(e,t,t.segments,n)}function w0(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!Ii(i,n)||t.hasChildren()||!jc(i,n,r))}if(e.segments.length===n.length){if(!Ii(e.segments,n)||!jc(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!I0(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!!(Ii(e.segments,i)&&jc(e.segments,i,r)&&e.children[$])&&w0(e.children[$],t,o,r)}}function jc(e,t,n){return t.every((r,i)=>v0[n](e[i].parameters,r.parameters))}class Wo{constructor(t=new le([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Go(this.queryParams)),this._queryParamMap}toString(){return yz.serialize(this)}}class le{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $c(this)}}class ka{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Go(this.parameters)),this._parameterMap}toString(){return T0(this)}}function Ii(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let Fa=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=R({token:e,factory:function(){return new gm},providedIn:"root"})}return e})();class gm{parse(t){const n=new Mz(t);return new Wo(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${La(t.root,!0)}`,r=function Ez(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(i=>`${Hc(n)}=${Hc(i)}`).join("&"):`${Hc(n)}=${Hc(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function vz(e){return encodeURI(e)}(t.fragment)}`:""}`}}const yz=new gm;function $c(e){return e.segments.map(t=>T0(t)).join("/")}function La(e,t){if(!e.hasChildren())return $c(e);if(t){const n=e.children[$]?La(e.children[$],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==$&&r.push(`${i}:${La(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function _z(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===$&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==$&&(n=n.concat(t(i,r)))}),n}(e,(r,i)=>i===$?[La(e.children[$],!1)]:[`${i}:${La(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[$]?`${$c(e)}/${n[0]}`:`${$c(e)}/(${n.join("//")})`}}function D0(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Hc(e){return D0(e).replace(/%3B/gi,";")}function mm(e){return D0(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gc(e){return decodeURIComponent(e)}function b0(e){return Gc(e.replace(/\+/g,"%20"))}function T0(e){return`${mm(e.path)}${function Cz(e){return Object.keys(e).map(t=>`;${mm(t)}=${mm(e[t])}`).join("")}(e.parameters)}`}const Iz=/^[^\/()?;#]+/;function _m(e){const t=e.match(Iz);return t?t[0]:""}const wz=/^[^\/()?;=#]+/,bz=/^[^=?&#]+/,Sz=/^[^&#]+/;class Mz{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new le([],{}):new le([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[$]=new le(t,n)),r}parseSegment(){const t=_m(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new C(4009,!1);return this.capture(t),new ka(Gc(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function Dz(e){const t=e.match(wz);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=_m(this.remaining);i&&(r=i,this.capture(r))}t[Gc(n)]=Gc(r)}parseQueryParam(t){const n=function Tz(e){const t=e.match(bz);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function Az(e){const t=e.match(Sz);return t?t[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=b0(n),o=b0(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=_m(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new C(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=$);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[$]:new le([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new C(4011,!1)}}function S0(e){return e.segments.length>0?new le([],{[$]:e}):e}function A0(e){const t={};for(const r of Object.keys(e.children)){const o=A0(e.children[r]);if(r===$&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function Nz(e){if(1===e.numberOfChildren&&e.children[$]){const t=e.children[$];return new le(e.segments.concat(t.segments),t.children)}return e}(new le(e.segments,t))}function wi(e){return e instanceof Wo}function M0(e){let t;const i=S0(function n(o){const s={};for(const l of o.children){const u=n(l);s[l.outlet]=u}const a=new le(o.url,s);return o===e&&(t=a),a}(e.root));return t??i}function N0(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(0===t.length)return ym(i,i,i,n,r);const o=function Pz(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new P0(!0,0,e);let t=0,n=!1;const r=e.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new P0(n,t,r)}(t);if(o.toRoot())return ym(i,i,new le([],{}),n,r);const s=function Oz(e,t,n){if(e.isAbsolute)return new zc(t,!0,0);if(!n)return new zc(t,!1,NaN);if(null===n.parent)return new zc(n,!0,0);const r=Wc(e.commands[0])?0:1;return function xz(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new C(4005,!1);i=r.segments.length}return new zc(r,!1,i-o)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(o,i,e),a=s.processChildren?Ua(s.segmentGroup,s.index,o.commands):O0(s.segmentGroup,s.index,o.commands);return ym(i,s.segmentGroup,a,n,r)}function Wc(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Va(e){return"object"==typeof e&&null!=e&&e.outlets}function ym(e,t,n,r,i){let s,o={};r&&Object.entries(r).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(c=>`${c}`):`${u}`}),s=e===t?n:R0(e,t,n);const a=S0(A0(s));return new Wo(a,o,i)}function R0(e,t,n){const r={};return Object.entries(e.children).forEach(([i,o])=>{r[i]=o===t?n:R0(o,t,n)}),new le(e.segments,r)}class P0{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Wc(r[0]))throw new C(4003,!1);const i=r.find(Va);if(i&&i!==y0(r))throw new C(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zc{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function O0(e,t,n){if(e||(e=new le([],{})),0===e.segments.length&&e.hasChildren())return Ua(e,t,n);const r=function Fz(e,t,n){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;const s=e.segments[i],a=n[r];if(Va(a))break;const l=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!k0(l,u,s))return o;r+=2}else{if(!k0(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const o=new le(e.segments.slice(0,r.pathIndex),{});return o.children[$]=new le(e.segments.slice(r.pathIndex),e.children),Ua(o,0,i)}return r.match&&0===i.length?new le(e.segments,{}):r.match&&!e.hasChildren()?vm(e,t,n):r.match?Ua(e,0,i):vm(e,t,n)}function Ua(e,t,n){if(0===n.length)return new le(e.segments,{});{const r=function kz(e){return Va(e[0])?e[0].outlets:{[$]:e}}(n),i={};if(Object.keys(r).some(o=>o!==$)&&e.children[$]&&1===e.numberOfChildren&&0===e.children[$].segments.length){const o=Ua(e.children[$],t,n);return new le(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=O0(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new le(e.segments,i)}}function vm(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const o=n[i];if(Va(o)){const l=Lz(o.outlets);return new le(r,l)}if(0===i&&Wc(n[0])){r.push(new ka(e.segments[t].path,x0(n[0]))),i++;continue}const s=Va(o)?o.outlets[$]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Wc(a)?(r.push(new ka(s,x0(a))),i+=2):(r.push(new ka(s,{})),i++)}return new le(r,{})}function Lz(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=vm(new le([],{}),0,r))}),t}function x0(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function k0(e,t,n){return e==n.path&&Ln(t,n.parameters)}const Ba="imperative";class Vn{constructor(t,n){this.id=t,this.url=n}}class qc extends Vn{constructor(t,n,r="imperative",i=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Fr extends Vn{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ja extends Vn{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class zo extends Vn{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=16}}class Yc extends Vn{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class F0 extends Vn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vz extends Vn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Uz extends Vn{constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Bz extends Vn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jz extends Vn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $z{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Hz{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Gz{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wz{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zz{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qz{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class L0{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Cm{}class Em{constructor(t){this.url=t}}class Yz{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new $a,this.attachRef=null}}let $a=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Yz,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class V0{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=Im(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=Im(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=wm(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return wm(t,this._root).map(n=>n.value)}}function Im(e,t){if(e===t.value)return t;for(const n of t.children){const r=Im(e,n);if(r)return r}return null}function wm(e,t){if(e===t.value)return[t];for(const n of t.children){const r=wm(e,n);if(r.length)return r.unshift(t),r}return[]}class lr{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function qo(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class U0 extends V0{constructor(t,n){super(t),this.snapshot=n,Dm(this,t)}toString(){return this.snapshot.toString()}}function B0(e,t){const n=function Kz(e,t){const s=new Kc([],{},{},"",{},$,t,null,{});return new $0("",new lr(s,[]))}(0,t),r=new zt([new ka("",{})]),i=new zt({}),o=new zt({}),s=new zt({}),a=new zt(""),l=new Yo(r,i,s,a,o,$,t,n.root);return l.snapshot=n.root,new U0(new lr(l,[]),n)}class Yo{constructor(t,n,r,i,o,s,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ce(u=>u[xa]))??F(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ce(t=>Go(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ce(t=>Go(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function j0(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function Qz(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Kc{get title(){return this.data?.[xa]}constructor(t,n,r,i,o,s,a,l,u){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Go(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Go(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $0 extends V0{constructor(t,n){super(n),this.url=t,Dm(this,n)}toString(){return H0(this._root)}}function Dm(e,t){t.value._routerState=e,t.children.forEach(n=>Dm(e,n))}function H0(e){const t=e.children.length>0?` { ${e.children.map(H0).join(", ")} } `:"";return`${e.value}${t}`}function bm(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Ln(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Ln(t.params,n.params)||e.paramsSubject.next(n.params),function hz(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Ln(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),Ln(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Tm(e,t){const n=Ln(e.params,t.params)&&function mz(e,t){return Ii(e,t)&&e.every((n,r)=>Ln(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||Tm(e.parent,t.parent))}let G0=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=$,this.activateEvents=new Re,this.deactivateEvents=new Re,this.attachEvents=new Re,this.detachEvents=new Re,this.parentContexts=S($a),this.location=S(mn),this.changeDetector=S(Ec),this.environmentInjector=S(Zt),this.inputBinder=S(Qc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new C(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Zz(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=k({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Kt]})}return e})();class Zz{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===Yo?this.route:t===$a?this.childContexts:this.parent.get(t,n)}}const Qc=new T("");let W0=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=cm([r.queryParams,r.params,r.data]).pipe(bn(([o,s,a],l)=>(a={...o,...s,...a},0===l?F(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=function vH(e){const t=Q(e);if(!t)return null;const n=new da(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac})}return e})();function Ha(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function Xz(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Ha(e,r,i);return Ha(e,r)})}(e,t,n);return new lr(r,i)}{if(e.shouldAttach(t.value)){const o=e.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Ha(e,a)),s}}const r=function e3(e){return new Yo(new zt(e.url),new zt(e.params),new zt(e.queryParams),new zt(e.fragment),new zt(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(o=>Ha(e,o));return new lr(r,i)}}const Sm="ngNavigationCancelingError";function z0(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=wi(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=q0(!1,0,t);return i.url=n,i.navigationBehaviorOptions=r,i}function q0(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[Sm]=!0,r.cancellationCode=t,n&&(r.url=n),r}function Y0(e){return e&&e[Sm]}let K0=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=xs({type:e,selectors:[["ng-component"]],standalone:!0,features:[YT],decls:1,vars:0,template:function(r,i){1&r&&tt(0,"router-outlet")},dependencies:[G0],encapsulation:2})}return e})();function Am(e){const t=e.children&&e.children.map(Am),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==$&&(n.component=K0),n}function vn(e){return e.outlet||$}function Ga(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class l3{constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),bm(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=qo(n);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=qo(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=qo(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const i=qo(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new qz(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Wz(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(bm(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),bm(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=Ga(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,r)}}class Q0{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Zc{constructor(t,n){this.component=t,this.route=n}}function u3(e,t,n){const r=e._root;return Wa(r,t?t._root:null,n,[r.value])}function Ko(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function wk(e){return null!==eu(e)}(e)?t.get(e):e:r}function Wa(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=qo(t);return e.children.forEach(s=>{(function d3(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function h3(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Ii(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Ii(e.url,t.url)||!Ln(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Tm(e,t)||!Ln(e.queryParams,t.queryParams);default:return!Tm(e,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Q0(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Wa(e,t,o.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Zc(a.outlet.component,s))}else s&&za(t,a,i),i.canActivateChecks.push(new Q0(r)),Wa(e,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>za(a,n.getContext(s),i)),i}function za(e,t,n){const r=qo(e),i=e.value;Object.entries(r).forEach(([o,s])=>{za(s,i.component?t?t.children.getContext(o):null:t,n)}),n.canDeactivateChecks.push(new Zc(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function qa(e){return"function"==typeof e}function Z0(e){return e instanceof Uc||"EmptyError"===e?.name}const Jc=Symbol("INITIAL_VALUE");function Qo(){return bn(e=>cm(e.map(t=>t.pipe(Ho(1),function rz(...e){const t=Ms(e);return Be((n,r)=>{(t?dm(e,n,t):dm(e,n)).subscribe(r)})}(Jc)))).pipe(ce(t=>{for(const n of t)if(!0!==n){if(n===Jc)return Jc;if(!1===n||n instanceof Wo)return n}return!0}),xr(t=>t!==Jc),Ho(1)))}function J0(e){return function Tx(...e){return tE(e)}(nt(t=>{if(wi(t))throw z0(0,t)}),ce(t=>!0===t))}class Xc{constructor(t){this.segmentGroup=t||null}}class X0{constructor(t){this.urlTree=t}}function Zo(e){return Pa(new Xc(e))}function eM(e){return Pa(new X0(e))}class P3{constructor(t,n){this.urlSerializer=t,this.urlTree=n}noMatchError(t){return new C(4002,!1)}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return F(r);if(i.numberOfChildren>1||!i.children[$])return Pa(new C(4e3,!1));i=i.children[$]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreateUrlTree(t,n,r,i){const o=this.createSegmentGroup(t,n.root,r,i);return new Wo(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){const o=this.createSegments(t,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,r,i)}),new le(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new C(4001,!1);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}const Mm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function O3(e,t,n,r,i){const o=Nm(e,t,n);return o.matched?(r=function n3(e,t){return e.providers&&!e._injector&&(e._injector=ag(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function M3(e,t,n,r){const i=t.canMatch;return i&&0!==i.length?F(i.map(s=>{const a=Ko(s,e);return kr(function y3(e){return e&&qa(e.canMatch)}(a)?a.canMatch(t,n):e.runInContext(()=>a(t,n)))})).pipe(Qo(),J0()):F(!0)}(r,t,n).pipe(ce(s=>!0===s?o:{...Mm}))):F(o)}function Nm(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...Mm}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(t.matcher||dz)(n,e,t);if(!i)return{...Mm};const o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function tM(e,t,n,r){return n.length>0&&function F3(e,t,n){return n.some(r=>ed(e,t,r)&&vn(r)!==$)}(e,n,r)?{segmentGroup:new le(t,k3(r,new le(n,e.children))),slicedSegments:[]}:0===n.length&&function L3(e,t,n){return n.some(r=>ed(e,t,r))}(e,n,r)?{segmentGroup:new le(e.segments,x3(e,0,n,r,e.children)),slicedSegments:n}:{segmentGroup:new le(e.segments,e.children),slicedSegments:n}}function x3(e,t,n,r,i){const o={};for(const s of r)if(ed(e,n,s)&&!i[vn(s)]){const a=new le([],{});o[vn(s)]=a}return{...i,...o}}function k3(e,t){const n={};n[$]=t;for(const r of e)if(""===r.path&&vn(r)!==$){const i=new le([],{});n[vn(r)]=i}return n}function ed(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class j3{constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new P3(this.urlSerializer,this.urlTree)}noMatchError(t){return new C(4002,!1)}recognize(){const t=tM(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,$).pipe(Ei(n=>{if(n instanceof X0)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Xc?this.noMatchError(n):n}),ce(n=>{const r=new Kc([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},$,this.rootComponentType,null,{}),i=new lr(r,n),o=new $0("",i),s=function Rz(e,t,n=null,r=null){return N0(M0(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,$).pipe(Ei(r=>{throw r instanceof Xc?this.noMatchError(r):r}))}inheritParamsAndData(t){const n=t.value,r=j0(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i,!0)}processChildren(t,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Ge(i).pipe(Oa(o=>{const s=r.children[o],a=function s3(e,t){const n=e.filter(r=>vn(r)===t);return n.push(...e.filter(r=>vn(r)!==t)),n}(n,o);return this.processSegmentGroup(t,a,s,o)}),function sz(e,t){return Be(function oz(e,t,n,r,i){return(o,s)=>{let a=n,l=t,u=0;o.subscribe(Le(s,c=>{const d=u++;l=a?e(l,c,d):(a=!0,c),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}(e,t,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),Bc(null),function az(e,t){const n=arguments.length>=2;return r=>r.pipe(e?xr((i,o)=>e(i,o,r)):vr,fm(1),n?Bc(t):m0(()=>new Uc))}(),Ke(o=>{if(null===o)return Zo(r);const s=nM(o);return function $3(e){e.sort((t,n)=>t.value.outlet===$?-1:n.value.outlet===$?1:t.value.outlet.localeCompare(n.value.outlet))}(s),F(s)}))}processSegment(t,n,r,i,o,s){return Ge(n).pipe(Oa(a=>this.processSegmentAgainstRoute(a._injector??t,n,a,r,i,o,s).pipe(Ei(l=>{if(l instanceof Xc)return F(null);throw l}))),Ci(a=>!!a),Ei(a=>{if(Z0(a))return function U3(e,t,n){return 0===t.length&&!e.children[n]}(r,i,o)?F([]):Zo(r);throw a}))}processSegmentAgainstRoute(t,n,r,i,o,s,a){return function V3(e,t,n,r){return!!(vn(e)===r||r!==$&&ed(t,n,e))&&("**"===e.path||Nm(t,e,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s):Zo(i):Zo(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?eM(o):this.applyRedirects.lineralizeSegments(r,o).pipe(Ke(s=>{const a=new le(s,{});return this.processSegment(t,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){const{matched:a,consumedSegments:l,remainingSegments:u,positionalParamSegments:c}=Nm(n,i,o);if(!a)return Zo(n);const d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,c);return i.redirectTo.startsWith("/")?eM(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Ke(h=>this.processSegment(t,r,n,h.concat(u),s,!1)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let a;if("**"===r.path){const l=i.length>0?y0(i).parameters:{};a=F({snapshot:new Kc(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,rM(r),vn(r),r.component??r._loadedComponent??null,r,iM(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=O3(n,r,i,t).pipe(ce(({matched:l,consumedSegments:u,remainingSegments:c,parameters:d})=>l?{snapshot:new Kc(u,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,rM(r),vn(r),r.component??r._loadedComponent??null,r,iM(r)),consumedSegments:u,remainingSegments:c}:null));return a.pipe(bn(l=>null===l?Zo(n):this.getChildConfig(t=r._injector??t,r,i).pipe(bn(({routes:u})=>{const c=r._loadedInjector??t,{snapshot:d,consumedSegments:h,remainingSegments:f}=l,{segmentGroup:p,slicedSegments:g}=tM(n,h,f,u);if(0===g.length&&p.hasChildren())return this.processChildren(c,u,p).pipe(ce(v=>null===v?null:[new lr(d,v)]));if(0===u.length&&0===g.length)return F([new lr(d,[])]);const _=vn(r)===o;return this.processSegment(c,u,p,g,_?$:o,!0).pipe(ce(v=>[new lr(d,v)]))}))))}getChildConfig(t,n,r){return n.children?F({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?F({routes:n._loadedRoutes,injector:n._loadedInjector}):function A3(e,t,n,r){const i=t.canLoad;return void 0===i||0===i.length?F(!0):F(i.map(s=>{const a=Ko(s,e);return kr(function p3(e){return e&&qa(e.canLoad)}(a)?a.canLoad(t,n):e.runInContext(()=>a(t,n)))})).pipe(Qo(),J0())}(t,n,r).pipe(Ke(i=>i?this.configLoader.loadChildren(t,n).pipe(nt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function R3(e){return Pa(q0(!1,3))}())):F({routes:[],injector:t})}}function H3(e){const t=e.value.routeConfig;return t&&""===t.path}function nM(e){const t=[],n=new Set;for(const r of e){if(!H3(r)){t.push(r);continue}const i=t.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=nM(r.children);t.push(new lr(r.value,i))}return t.filter(r=>!n.has(r))}function rM(e){return e.data||{}}function iM(e){return e.resolve||{}}function oM(e){return"string"==typeof e.title||null===e.title}function Rm(e){return bn(t=>{const n=e(t);return n?Ge(n).pipe(ce(()=>t)):F(t)})}const Jo=new T("ROUTES");let Pm=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=S(jS)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return F(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=kr(n.loadComponent()).pipe(ce(sM),nt(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),pm(()=>{this.componentLoaders.delete(n)})),i=new g0(r,()=>new un).pipe(hm());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return F({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function Q3(e,t,n,r){return kr(e.loadChildren()).pipe(ce(sM),Ke(i=>i instanceof zT||Array.isArray(i)?F(i):Ge(t.compileModuleAsync(i))),ce(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(Jo,[],{optional:!0,self:!0}).flat()),{routes:s.map(Am),injector:o}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(pm(()=>{this.childrenLoaders.delete(r)})),s=new g0(o,()=>new un).pipe(hm());return this.childrenLoaders.set(r,s),s}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function sM(e){return function Z3(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let td=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new un,this.transitionAbortSubject=new un,this.configLoader=S(Pm),this.environmentInjector=S(Zt),this.urlSerializer=S(Fa),this.rootContexts=S($a),this.inputBindingEnabled=null!==S(Qc,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>F(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Hz(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new $z(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new zt({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ba,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(xr(o=>0!==o.id),ce(o=>({...o,extractedUrl:n.urlHandlingStrategy.extract(o.rawUrl)})),bn(o=>{this.currentTransition=o;let s=!1,a=!1;return F(o).pipe(nt(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),bn(l=>{const u=l.currentBrowserUrl.toString(),c=!n.navigated||l.extractedUrl.toString()!==u||u!==l.currentUrlTree.toString();if(!c&&"reload"!==(l.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new zo(l.id,this.urlSerializer.serialize(l.rawUrl),h,0)),l.resolve(null),Dn}if(n.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return F(l).pipe(bn(h=>{const f=this.transitions?.getValue();return this.events.next(new qc(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Dn:Promise.resolve(h)}),function G3(e,t,n,r,i,o){return Ke(s=>function B3(e,t,n,r,i,o,s="emptyOnly"){return new j3(e,t,n,r,i,s,o).recognize()}(e,t,n,r,s.extractedUrl,i,o).pipe(ce(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),nt(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new F0(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(c&&n.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:_}=l,v=new qc(h,this.urlSerializer.serialize(f),p,g);this.events.next(v);const m=B0(0,this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:m,urlAfterRedirects:f,extras:{..._,skipLocationChange:!1,replaceUrl:!1}},F(o)}{const h="";return this.events.next(new zo(l.id,this.urlSerializer.serialize(l.extractedUrl),h,1)),l.resolve(null),Dn}}),nt(l=>{const u=new Vz(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),ce(l=>(this.currentTransition=o={...l,guards:u3(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function C3(e,t){return Ke(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?F({...n,guardsResult:!0}):function E3(e,t,n,r){return Ge(e).pipe(Ke(i=>function S3(e,t,n,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?F(o.map(a=>{const l=Ga(t)??i,u=Ko(a,l);return kr(function _3(e){return e&&qa(e.canDeactivate)}(u)?u.canDeactivate(e,t,n,r):l.runInContext(()=>u(e,t,n,r))).pipe(Ci())})).pipe(Qo()):F(!0)}(i.component,i.route,n,t,r)),Ci(i=>!0!==i,!0))}(s,r,i,e).pipe(Ke(a=>a&&function f3(e){return"boolean"==typeof e}(a)?function I3(e,t,n,r){return Ge(t).pipe(Oa(i=>dm(function D3(e,t){return null!==e&&t&&t(new Gz(e)),F(!0)}(i.route.parent,r),function w3(e,t){return null!==e&&t&&t(new zz(e)),F(!0)}(i.route,r),function T3(e,t,n){const r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function c3(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>p0(()=>F(s.guards.map(l=>{const u=Ga(s.node)??n,c=Ko(l,u);return kr(function m3(e){return e&&qa(e.canActivateChild)}(c)?c.canActivateChild(r,e):u.runInContext(()=>c(r,e))).pipe(Ci())})).pipe(Qo())));return F(o).pipe(Qo())}(e,i.path,n),function b3(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return F(!0);const i=r.map(o=>p0(()=>{const s=Ga(t)??n,a=Ko(o,s);return kr(function g3(e){return e&&qa(e.canActivate)}(a)?a.canActivate(t,e):s.runInContext(()=>a(t,e))).pipe(Ci())}));return F(i).pipe(Qo())}(e,i.route,n))),Ci(i=>!0!==i,!0))}(r,o,e,t):F(a)),ce(a=>({...n,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),nt(l=>{if(o.guardsResult=l.guardsResult,wi(l.guardsResult))throw z0(0,l.guardsResult);const u=new Uz(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),xr(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),Rm(l=>{if(l.guards.canActivateChecks.length)return F(l).pipe(nt(u=>{const c=new Bz(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),bn(u=>{let c=!1;return F(u).pipe(function W3(e,t){return Ke(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return F(n);let o=0;return Ge(i).pipe(Oa(s=>function z3(e,t,n,r){const i=e.routeConfig,o=e._resolve;return void 0!==i?.title&&!oM(i)&&(o[xa]=i.title),function q3(e,t,n,r){const i=function Y3(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return F({});const o={};return Ge(i).pipe(Ke(s=>function K3(e,t,n,r){const i=Ga(t)??r,o=Ko(e,i);return kr(o.resolve?o.resolve(t,n):i.runInContext(()=>o(t,n)))}(e[s],t,n,r).pipe(Ci(),nt(a=>{o[s]=a}))),fm(1),function lz(e){return ce(()=>e)}(o),Ei(s=>Z0(s)?Dn:Pa(s)))}(o,e,t,r).pipe(ce(s=>(e._resolvedData=s,e.data=j0(e,n).resolve,i&&oM(i)&&(e.data[xa]=i.title),null)))}(s.route,r,e,t)),nt(()=>o++),fm(1),Ke(s=>o===i.length?F(n):Dn))})}(n.paramsInheritanceStrategy,this.environmentInjector),nt({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(u,"",2)}}))}),nt(u=>{const c=new jz(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}))}),Rm(l=>{const u=c=>{const d=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(c.routeConfig).pipe(nt(h=>{c.component=h}),ce(()=>{})));for(const h of c.children)d.push(...u(h));return d};return cm(u(l.targetSnapshot.root)).pipe(Bc(),Ho(1))}),Rm(()=>this.afterPreactivation()),ce(l=>{const u=function Jz(e,t,n){const r=Ha(e,t._root,n?n._root:void 0);return new U0(r,t)}(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:u},o}),nt(()=>{this.events.next(new Cm)}),((e,t,n,r)=>ce(i=>(new l3(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)))(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Ho(1),nt({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Fr(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),n.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),function uz(e){return Be((t,n)=>{Pt(e).subscribe(Le(n,()=>n.complete(),Ah)),!n.closed&&t.subscribe(n)})}(this.transitionAbortSubject.pipe(nt(l=>{throw l}))),pm(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Ei(l=>{if(a=!0,Y0(l))this.events.next(new ja(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function t3(e){return Y0(e)&&wi(e.url)}(l)?this.events.next(new Em(l.url)):o.resolve(!1);else{this.events.next(new Yc(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(l))}catch(u){o.reject(u)}}return Dn}))}))}cancelNavigationTransition(n,r,i){const o=new ja(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function aM(e){return e!==Ba}let lM=(()=>{class e{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===$);return r}getResolvedTitleForRoute(n){return n.data[xa]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=R({token:e,factory:function(){return S(J3)},providedIn:"root"})}return e})(),J3=(()=>{class e extends lM{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||e)(M(s0))};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),X3=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=R({token:e,factory:function(){return S(t4)},providedIn:"root"})}return e})();class e4{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let t4=(()=>{class e extends e4{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=et(e)))(i||e)}}();static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const nd=new T("",{providedIn:"root",factory:()=>({})});let n4=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=R({token:e,factory:function(){return S(r4)},providedIn:"root"})}return e})(),r4=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Ya=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Ya||{});function uM(e,t){e.events.pipe(xr(n=>n instanceof Fr||n instanceof ja||n instanceof Yc||n instanceof zo),ce(n=>n instanceof Fr||n instanceof zo?Ya.COMPLETE:n instanceof ja&&(0===n.code||1===n.code)?Ya.REDIRECTING:Ya.FAILED),xr(n=>n!==Ya.REDIRECTING),Ho(1)).subscribe(()=>{t()})}function i4(e){throw e}function o4(e,t,n){return t.parse("/")}const s4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},a4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let nn=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=S(US),this.isNgZoneEnabled=!1,this._events=new un,this.options=S(nd,{optional:!0})||{},this.pendingTasks=S(BS),this.errorHandler=this.options.errorHandler||i4,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||o4,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=S(n4),this.routeReuseStrategy=S(X3),this.titleStrategy=S(lM),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=S(Jo,{optional:!0})?.flat()??[],this.navigationTransitions=S(td),this.urlSerializer=S(Fa),this.location=S(Ug),this.componentInputBindingEnabled=!!S(Qc,{optional:!0}),this.eventsSubscription=new Et,this.isNgZoneEnabled=S(ie)instanceof ie&&ie.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Wo,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=B0(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(cM(r)&&this._events.next(r));if(r instanceof qc)aM(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof zo)this.rawUrlTree=i.rawUrl;else if(r instanceof F0){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof Cm)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof ja)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof Em){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||aM(i.source)};this.scheduleNavigation(o,Ba,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Yc&&this.restoreHistory(i,!0),r instanceof Fr&&(this.navigated=!0),cM(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ba,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Am),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:s;let d,c=null;switch(a){case"merge":c={...this.currentUrlTree.queryParams,...o};break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=o||null}null!==c&&(c=this.removeEmptyProps(c));try{d=M0(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return N0(d,n,c,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=wi(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ba,null,r)}navigate(n,r={skipLocationChange:!1}){return function l4(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new C(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...s4}:!1===r?{...a4}:r,wi(n))return C0(this.currentUrlTree,n,i);const o=this.parseUrl(n);return C0(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,u;s?(a=s.resolve,l=s.reject,u=s.promise):u=new Promise((d,h)=>{a=d,l=h});const c=this.pendingTasks.add();return uM(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(c))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function cM(e){return!(e instanceof Cm||e instanceof Em)}let Ka=(()=>{class e{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new un,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof Fr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function Hw(e,t,n){return function ML(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?$w:jw}(t,n)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||e)(E(nn),E(Yo),function Eu(e){return function K1(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(OE(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}}return null}(Xe(),e)}("tabindex"),E(Xn),E(Ut),E(vi))};static#t=this.\u0275dir=k({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&jt("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&xn("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",jo],skipLocationChange:["skipLocationChange","skipLocationChange",jo],replaceUrl:["replaceUrl","replaceUrl",jo],routerLink:"routerLink"},standalone:!0,features:[ib,Kt]})}return e})();class dM{}let d4=(()=>{class e{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(xr(n=>n instanceof Fr),Oa(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=ag(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Ge(i).pipe(Gi())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):F(null);const o=i.pipe(Ke(s=>null===s?F(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?Ge([o,this.loader.loadComponent(r)]).pipe(Gi()):o})}static#e=this.\u0275fac=function(r){return new(r||e)(M(nn),M(jS),M(Zt),M(dM),M(Pm))};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Om=new T("");let hM=(()=>{class e{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof qc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Fr?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof zo&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof L0&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new L0(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function RD(){throw new Error("invalid")}()};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac})}return e})();function ur(e,t){return{\u0275kind:e,\u0275providers:t}}function pM(){const e=S(gt);return t=>{const n=e.get(Bo);if(t!==n.components[0])return;const r=e.get(nn),i=e.get(gM);1===e.get(xm)&&r.initialNavigation(),e.get(mM,null,q.Optional)?.setUpPreloading(),e.get(Om,null,q.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const gM=new T("",{factory:()=>new un}),xm=new T("",{providedIn:"root",factory:()=>1}),mM=new T("");function g4(e){return ur(0,[{provide:mM,useExisting:d4},{provide:dM,useExisting:e}])}const _M=new T("ROUTER_FORROOT_GUARD"),_4=[Ug,{provide:Fa,useClass:gm},nn,$a,{provide:Yo,useFactory:function fM(e){return e.routerState.root},deps:[nn]},Pm,[]];function y4(){return new YS("Router",nn)}let yM=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[_4,[],{provide:Jo,multi:!0,useValue:n},{provide:_M,useFactory:I4,deps:[[nn,new Vt,new Du]]},{provide:nd,useValue:r||{}},r?.useHash?{provide:vi,useClass:DH}:{provide:vi,useClass:DA},{provide:Om,useFactory:()=>{const e=S(zG),t=S(ie),n=S(nd),r=S(td),i=S(Fa);return n.scrollOffset&&e.setOffset(n.scrollOffset),new hM(i,r,e,t,n)}},r?.preloadingStrategy?g4(r.preloadingStrategy).\u0275providers:[],{provide:YS,multi:!0,useFactory:y4},r?.initialNavigation?w4(r):[],r?.bindToComponentInputs?ur(8,[W0,{provide:Qc,useExisting:W0}]).\u0275providers:[],[{provide:vM,useFactory:pM},{provide:Mg,multi:!0,useExisting:vM}]]}}static forChild(n){return{ngModule:e,providers:[{provide:Jo,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||e)(M(_M,8))};static#t=this.\u0275mod=xt({type:e});static#n=this.\u0275inj=It({})}return e})();function I4(e){return"guarded"}function w4(e){return["disabled"===e.initialNavigation?ur(3,[{provide:Eg,multi:!0,useFactory:()=>{const t=S(nn);return()=>{t.setUpLocationChangeListener()}}},{provide:xm,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?ur(2,[{provide:xm,useValue:0},{provide:Eg,multi:!0,deps:[gt],useFactory:t=>{const n=t.get(IH,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=t.get(nn),o=t.get(gM);uM(i,()=>{r(!0)}),t.get(td).afterPreactivation=()=>(r(!0),o.closed?F(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const vM=new T("");let CM=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||e)(E(Xn),E(Ut))};static#t=this.\u0275dir=k({type:e})}return e})(),Di=(()=>{class e extends CM{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=et(e)))(i||e)}}();static#t=this.\u0275dir=k({type:e,features:[ae]})}return e})();const Un=new T("NgValueAccessor"),S4={provide:Un,useExisting:pe(()=>rd),multi:!0},M4=new T("CompositionEventMode");let rd=(()=>{class e extends CM{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function A4(){const e=Pr()?Pr().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||e)(E(Xn),E(Ut),E(M4,8))};static#t=this.\u0275dir=k({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&jt("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[be([S4]),ae]})}return e})();const at=new T("NgValidators"),Vr=new T("NgAsyncValidators");function bM(e){return function Lr(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}(e.value)?{required:!0}:null}function id(e){return null}function RM(e){return null!=e}function PM(e){return ma(e)?Ge(e):e}function OM(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function xM(e,t){return t.map(n=>n(e))}function kM(e){return e.map(t=>function R4(e){return!e.validate}(t)?t:n=>t.validate(n))}function km(e){return null!=e?function FM(e){if(!e)return null;const t=e.filter(RM);return 0==t.length?null:function(n){return OM(xM(n,t))}}(kM(e)):null}function Fm(e){return null!=e?function LM(e){if(!e)return null;const t=e.filter(RM);return 0==t.length?null:function(n){return function b4(...e){const t=vE(e),{args:n,keys:r}=c0(e),i=new Me(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let l=s,u=s;for(let c=0;c<s;c++){let d=!1;Pt(n[c]).subscribe(Le(o,h=>{d||(d=!0,u--),a[c]=h},()=>l--,void 0,()=>{(!l||!d)&&(u||o.next(r?h0(r,a):a),o.complete())}))}});return t?i.pipe(d0(t)):i}(xM(n,t).map(PM)).pipe(ce(OM))}}(kM(e)):null}function VM(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function Lm(e){return e?Array.isArray(e)?e:[e]:[]}function od(e,t){return Array.isArray(e)?e.includes(t):e===t}function jM(e,t){const n=Lm(t);return Lm(e).forEach(i=>{od(n,i)||n.push(i)}),n}function $M(e,t){return Lm(t).filter(n=>!od(e,n))}class HM{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=km(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Fm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class vt extends HM{get formDirective(){return null}get path(){return null}}class Ur extends HM{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class GM{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let WM=(()=>{class e extends GM{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||e)(E(Ur,2))};static#t=this.\u0275dir=k({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&uc("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[ae]})}return e})(),Vm=(()=>{class e extends GM{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||e)(E(vt,10))};static#t=this.\u0275dir=k({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&uc("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[ae]})}return e})();const Qa="VALID",ad="INVALID",Xo="PENDING",Za="DISABLED";function jm(e){return(ld(e)?e.validators:e)||null}function $m(e,t){return(ld(t)?t.asyncValidators:e)||null}function ld(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class KM{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Qa}get invalid(){return this.status===ad}get pending(){return this.status==Xo}get disabled(){return this.status===Za}get enabled(){return this.status!==Za}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(jM(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(jM(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators($M(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators($M(t,this._rawAsyncValidators))}hasValidator(t){return od(this._rawValidators,t)}hasAsyncValidator(t){return od(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Xo,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Za,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Qa,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Qa||this.status===Xo)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Za:Qa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Xo,this._hasOwnPendingAsyncValidator=!0;const n=PM(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Re,this.statusChanges=new Re}_calculateStatus(){return this._allControlsDisabled()?Za:this.errors?ad:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Xo)?Xo:this._anyControlsHaveStatus(ad)?ad:Qa}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ld(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function k4(e){return Array.isArray(e)?km(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function F4(e){return Array.isArray(e)?Fm(e):e||null}(this._rawAsyncValidators)}}class Hm extends KM{constructor(t,n,r){super(jm(n),$m(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){(function YM(e,t,n){e._forEachChild((r,i)=>{if(void 0===n[i])throw new C(1002,"")})})(this,0,t),Object.keys(t).forEach(r=>{(function qM(e,t,n){const r=e.controls;if(!(t?Object.keys(r):r).length)throw new C(1e3,"");if(!r[n])throw new C(1001,"")})(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(Object.keys(t).forEach(r=>{const i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const es=new T("CallSetDisabledState",{providedIn:"root",factory:()=>ud}),ud="always";function Ja(e,t,n=ud){Gm(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function U4(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&QM(e,t)})}(e,t),function j4(e,t){const n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function B4(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&QM(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function V4(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function hd(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function Gm(e,t){const n=function UM(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(VM(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=function BM(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(VM(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();hd(t._rawValidators,i),hd(t._rawAsyncValidators,i)}function QM(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}const z4={provide:vt,useExisting:pe(()=>el)},Xa=(()=>Promise.resolve())();let el=(()=>{class e extends vt{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Re,this.form=new Hm({},km(n),Fm(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Xa.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Ja(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Xa.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Xa.then(()=>{const r=this._findContainer(n.path),i=new Hm({});(function ZM(e,t){Gm(e,t)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Xa.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Xa.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,function JM(e,t){e._syncPendingControls(),t.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static#e=this.\u0275fac=function(r){return new(r||e)(E(at,10),E(Vr,10),E(es,8))};static#t=this.\u0275dir=k({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&jt("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[be([z4]),ae]})}return e})();function XM(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function eN(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const tN=class extends KM{constructor(t=null,n,r){super(jm(n),$m(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ld(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=eN(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){XM(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){XM(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){eN(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},K4={provide:Ur,useExisting:pe(()=>Ym)},iN=(()=>Promise.resolve())();let Ym=(()=>{class e extends Ur{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new tN,this._registered=!1,this.name="",this.update=new Re,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function qm(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(o=>{o.constructor===rd?n=o:function G4(e){return Object.getPrototypeOf(e.constructor)===Di}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function zm(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ja(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){iN.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&jo(r);iN.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function cd(e,t){return[...t.path,e]}(n,this._parent):[n]}static#e=this.\u0275fac=function(r){return new(r||e)(E(vt,9),E(at,10),E(Vr,10),E(Un,10),E(Ec,8),E(es,8))};static#t=this.\u0275dir=k({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[be([K4]),ae,Kt]})}return e})(),Km=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=k({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return e})();const Q4={provide:Un,useExisting:pe(()=>Qm),multi:!0};let Qm=(()=>{class e extends Di{writeValue(n){this.setProperty("value",n??"")}registerOnChange(n){this.onChange=r=>{n(""==r?null:parseFloat(r))}}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=et(e)))(i||e)}}();static#t=this.\u0275dir=k({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&jt("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[be([Q4]),ae]})}return e})();const Z4={provide:Un,useExisting:pe(()=>Zm),multi:!0};let oN=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=xt({type:e});static#n=this.\u0275inj=It({})}return e})(),J4=(()=>{class e{constructor(){this._accessors=[]}add(n,r){this._accessors.push([n,r])}remove(n){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===n)return void this._accessors.splice(r,1)}select(n){this._accessors.forEach(r=>{this._isSameGroup(r,n)&&r[1]!==n&&r[1].fireUncheck(n.value)})}_isSameGroup(n,r){return!!n[0].control&&n[0]._parent===r._control._parent&&n[1].name===r.name}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:oN})}return e})(),Zm=(()=>{class e extends Di{constructor(n,r,i,o){super(n,r),this._registry=i,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=S(es,{optional:!0})??ud}ngOnInit(){this._control=this._injector.get(Ur),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(n){this._state=n===this.value,this.setProperty("checked",this._state)}registerOnChange(n){this._fn=n,this.onChange=()=>{n(this.value),this._registry.select(this)}}setDisabledState(n){(this.setDisabledStateFired||n||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",n),this.setDisabledStateFired=!0}fireUncheck(n){this.writeValue(n)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static#e=this.\u0275fac=function(r){return new(r||e)(E(Xn),E(Ut),E(J4),E(gt))};static#t=this.\u0275dir=k({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){1&r&&jt("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[be([Z4]),ae]})}return e})();const o8={provide:Un,useExisting:pe(()=>pd),multi:!0};function dN(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let pd=(()=>{class e extends Di{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=dN(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function s8(e){return e.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=et(e)))(i||e)}}();static#t=this.\u0275dir=k({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&jt("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[be([o8]),ae]})}return e})(),hN=(()=>{class e{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(dN(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||e)(E(Ut),E(Xn),E(pd,9))};static#t=this.\u0275dir=k({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return e})();const a8={provide:Un,useExisting:pe(()=>t_),multi:!0};function fN(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let t_=(()=>{class e extends Di{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const u=this._getOptionValue(s[a].value);i.push(u)}}else{const s=r.options;for(let a=0;a<s.length;a++){const l=s[a];if(l.selected){const u=this._getOptionValue(l.value);i.push(u)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function l8(e){return e.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=et(e)))(i||e)}}();static#t=this.\u0275dir=k({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&jt("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[be([a8]),ae]})}return e})(),pN=(()=>{class e{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(fN(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(fN(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||e)(E(Ut),E(Xn),E(t_,9))};static#t=this.\u0275dir=k({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return e})(),bi=(()=>{class e{constructor(){this._validator=id}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):id,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=k({type:e,features:[Kt]})}return e})();const d8={provide:at,useExisting:pe(()=>gd),multi:!0};let gd=(()=>{class e extends bi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=jo,this.createValidator=n=>bM}enabled(n){return n}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=et(e)))(i||e)}}();static#t=this.\u0275dir=k({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&xn("required",i._enabled?"":null)},inputs:{required:"required"},features:[be([d8]),ae]})}return e})(),_8=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=xt({type:e});static#n=this.\u0275inj=It({imports:[oN]})}return e})(),v8=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:es,useValue:n.callSetDisabledState??ud}]}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=xt({type:e});static#n=this.\u0275inj=It({imports:[_8]})}return e})();const C8=[{path:"login",component:(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=xs({type:e,selectors:[["app-login"]],decls:24,vars:0,consts:[[1,"col-md-12"],[1,"title"],[1,"form-group"],["for","firstname"],["type","text","name","firstname","id","exampleInputEmail1","aria-describedby","emailHelp","placeholder","Full Name",1,"form-control"],["for","email"],["type","email","name","email","id","exampleInputEmail1","aria-describedby","emailHelp","placeholder","Enter email",1,"form-control"],["for","password"],["type","password","name","password","id","exampleInputPassword1","placeholder","Password",1,"form-control"],["type","submit",1,"btn","btn-primary"],[1,"col-12"],["routerLink","/reset",1,"login-link"]],template:function(r,i){1&r&&(J(0,"form")(1,"div",0)(2,"h4",1),de(3," Log in "),K()(),J(4,"div",2)(5,"label",3),de(6,"Full Name"),K(),tt(7,"input",4),K(),J(8,"div",2)(9,"label",5),de(10,"Email address"),K(),tt(11,"input",6),K(),J(12,"div",2)(13,"label",7),de(14,"Password"),K(),tt(15,"input",8),K(),tt(16,"hr"),J(17,"div",2)(18,"button",9),de(19,"Login"),K()(),J(20,"div",10),de(21," Forgot password? click here to reset password "),J(22,"a",11),de(23,"Reset password"),K()()())},dependencies:[Km,Vm,el,Ka],styles:["form[_ngcontent-%COMP%]{width:40%;display:flex;justify-content:center;flex-direction:column;padding:32px;border:1px solid #0dcaf0;border-radius:20px;margin-top:50px;border-top-width:5px;border-left-width:5px;border-right-width:5px;border-bottom-width:5px}[_nghost-%COMP%]{height:100%;display:flex;align-items:center;justify-content:center}.form-control[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]{width:100%}.outerdiv[_ngcontent-%COMP%]{margin-bottom:10px;display:flex;justify-content:center;width:100%;height:100%}.title[_ngcontent-%COMP%]{color:#0dcaf0}"]})}return e})()}];let E8=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=xt({type:e});static#n=this.\u0275inj=It({imports:[yM.forRoot(C8),yM]})}return e})();function DN(e,t,n,r,i,o,s){try{var a=e[o](s),l=a.value}catch(u){return void n(u)}a.done?t(l):Promise.resolve(l).then(r,i)}function b(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function s(l){DN(o,r,i,s,a,"next",l)}function a(l){DN(o,r,i,s,a,"throw",l)}s(void 0)})}}const w=function(e,t){if(!e)throw ts(t)},ts=function(e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+e)},bN=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},r_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],s=i+1<e.length,a=s?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0;let h=(15&a)<<2|u>>6,f=63&u;l||(f=64,s||(h=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(bN(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const l=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(1023&l))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==u||null==d)throw new w8;r.push(o<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==d&&r.push(u<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class w8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TN=function(e){const t=bN(e);return r_.encodeByteArray(t,!0)},md=function(e){return TN(e).replace(/\./g,"")},_d=function(e){try{return r_.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function tl(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!b8(n)||(e[n]=tl(e[n],t[n]));return e}function b8(e){return"__proto__"!==e}const yd=()=>{try{return function T8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&_d(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},SN=()=>{var e;return null===(e=yd())||void 0===e?void 0:e.config};class nl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(n):t(n,r))}}}function Ht(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function i_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ht())}function AN(){return typeof window<"u"||MN()}function MN(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function NN(){return"object"==typeof navigator&&"ReactNative"===navigator.product}class Br extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ti.prototype.create)}}class Ti{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?function U8(e,t){return e.replace(B8,(n,r)=>{const i=t[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new Br(i,`${this.serviceName}: ${s} (${i}).`,r)}}const B8=/\{\$([^}]+)}/g;function rl(e){return JSON.parse(e)}function rt(e){return JSON.stringify(e)}const vd=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=rl(_d(o[0])||""),n=rl(_d(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}};function Cn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ns(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function RN(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Cd(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function o_(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],s=t[i];if(PN(o)&&PN(s)){if(!o_(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function PN(e){return null!==e&&"object"==typeof e}function s_(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}class H8{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if("string"==typeof t)for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(h<<1|h>>>31)}let u,c,i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(u=a^o&(s^a),c=1518500249):(u=o^s^a,c=1859775393):d<60?(u=o&s|a&(o|s),c=2400959708):(u=o^s^a,c=3395469782);const h=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=s,s=4294967295&(o<<30|o>>>2),o=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(t,n){if(null==t)return;void 0===n&&(n=t.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(0===s)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if("string"==typeof t){for(;i<n;)if(o[s]=t.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=t[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const t=[];let n=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&n,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)t[r]=this.chain_[i]>>o&255,++r;return t}}function ON(e,t){const n=new G8(e,t);return n.subscribe.bind(n)}class G8{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(void 0===t&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function W8(e,t){if("object"!=typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:n,complete:r},void 0===i.next&&(i.next=a_),void 0===i.error&&(i.error=a_),void 0===i.complete&&(i.complete=a_);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){void 0===this.observers||void 0===this.observers[t]||(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function a_(){}function rs(e,t){return`${e} failed: ${t} argument `}const Ed=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function dr(e){return e&&e._delegate?e._delegate:e}class jr{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Si="[DEFAULT]";class J8{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new nl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t?.identifier),i=null!==(n=t?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function eq(e){return"EAGER"===e.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:Si})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=Si){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){var t=this;return b(function*(){const n=Array.from(t.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(t=Si){return this.instances.has(t)}getOptions(t=Si){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(e=t,e===Si?void 0:e),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}var e;return r||null}normalizeInstanceIdentifier(t=Si){return this.component?this.component.multipleInstances?t:Si:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class xN{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new J8(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}const l_=[];var ue=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(ue||{});const kN={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},tq=ue.INFO,nq={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},rq=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=nq[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class Id{constructor(t){this.name=t,this._logLevel=tq,this._logHandler=rq,this._userLogHandler=null,l_.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ue))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?kN[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...t),this._logHandler(this,ue.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...t),this._logHandler(this,ue.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...t),this._logHandler(this,ue.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...t),this._logHandler(this,ue.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...t),this._logHandler(this,ue.ERROR,...t)}}const sq=(e,t)=>t.some(n=>e instanceof n);let FN,LN;const VN=new WeakMap,u_=new WeakMap,UN=new WeakMap,c_=new WeakMap,d_=new WeakMap;let h_={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return u_.get(e);if("objectStoreNames"===t)return e.objectStoreNames||UN.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $r(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function fq(e){return"function"==typeof e?function hq(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function lq(){return LN||(LN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(e)?function(...t){return e.apply(f_(this),t),$r(VN.get(this))}:function(...t){return $r(e.apply(f_(this),t))}:function(t,...n){const r=e.call(f_(this),t,...n);return UN.set(r,t.sort?t.sort():[t]),$r(r)}}(e):(e instanceof IDBTransaction&&function cq(e){if(u_.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});u_.set(e,t)}(e),sq(e,function aq(){return FN||(FN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(e,h_):e)}function $r(e){if(e instanceof IDBRequest)return function uq(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n($r(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&VN.set(n,e)}).catch(()=>{}),d_.set(t,e),t}(e);if(c_.has(e))return c_.get(e);const t=fq(e);return t!==e&&(c_.set(e,t),d_.set(t,e)),t}const f_=e=>d_.get(e),gq=["get","getKey","getAll","getAllKeys","count"],mq=["put","add","delete","clear"],p_=new Map;function BN(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(p_.get(t))return p_.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=mq.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!gq.includes(n))return;const o=function(){var s=b(function*(a,...l){const u=this.transaction(a,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(yield Promise.all([c[n](...l),i&&u.done]))[0]});return function(l){return s.apply(this,arguments)}}();return p_.set(t,o),o}!function dq(e){h_=e(h_)}(e=>({...e,get:(t,n,r)=>BN(t,n)||e.get(t,n,r),has:(t,n)=>!!BN(t,n)||e.has(t,n)}));class _q{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function yq(e){const t=e.getComponent();return"VERSION"===t?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const wd="@firebase/app",g_="0.10.7",Ai=new Id("@firebase/app"),Hr="[DEFAULT]",Wq={[wd]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Gr=new Map,is=new Map,os=new Map;function il(e,t){try{e.container.addComponent(t)}catch(n){Ai.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function jN(e,t){e.container.addOrOverwriteComponent(t)}function Wr(e){const t=e.name;if(os.has(t))return Ai.debug(`There were multiple attempts to register component ${t}.`),!1;os.set(t,e);for(const n of Gr.values())il(n,e);for(const n of is.values())il(n,e);return!0}function m_(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function zq(e,t,n=Hr){m_(e,t).clearInstance(n)}function $N(e){return void 0!==e.options}function ss(e){return void 0!==e.settings}function qq(){os.clear()}const rn=new Ti("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class HN{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw rn.create("app-deleted",{appName:this._name})}}class Kq extends HN{constructor(t,n,r,i){const o=void 0!==n.automaticDataCollectionEnabled&&n.automaticDataCollectionEnabled,s={name:r,automaticDataCollectionEnabled:o};super(void 0!==t.apiKey?t:t.options,s,i),this._serverConfig=Object.assign({automaticDataCollectionEnabled:o},n),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,lt(wd,g_,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(t){this.isDeleted||(this._refCount++,void 0!==t&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(t,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){v_(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw rn.create("server-app-deleted")}}const as="10.12.4";function Dd(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});const r=Object.assign({name:Hr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw rn.create("bad-app-name",{appName:String(i)});if(n||(n=SN()),!n)throw rn.create("no-options");const o=Gr.get(i);if(o){if(o_(n,o.options)&&o_(r,o.config))return o;throw rn.create("duplicate-app",{appName:i})}const s=new xN(i);for(const l of os.values())s.addComponent(l);const a=new HN(n,r,s);return Gr.set(i,a),a}function Qq(e,t){if(AN()&&!MN())throw rn.create("invalid-server-app-environment");let n;void 0===t.automaticDataCollectionEnabled&&(t.automaticDataCollectionEnabled=!1),n=$N(e)?e.options:e;const r=Object.assign(Object.assign({},t),n);if(void 0!==r.releaseOnDeref&&delete r.releaseOnDeref,void 0!==t.releaseOnDeref&&typeof FinalizationRegistry>"u")throw rn.create("finalization-registry-not-supported",{});const o=""+(u=JSON.stringify(r),[...u].reduce((c,d)=>Math.imul(31,c)+d.charCodeAt(0)|0,0)),s=is.get(o);var u;if(s)return s.incRefCount(t.releaseOnDeref),s;const a=new xN(o);for(const u of os.values())a.addComponent(u);const l=new Kq(n,t,o,a);return is.set(o,l),l}function __(e=Hr){const t=Gr.get(e);if(!t&&e===Hr&&SN())return Dd();if(!t)throw rn.create("no-app",{appName:e});return t}function y_(){return Array.from(Gr.values())}function v_(e){return C_.apply(this,arguments)}function C_(){return(C_=b(function*(e){let t=!1;const n=e.name;Gr.has(n)?(t=!0,Gr.delete(n)):is.has(n)&&e.decRefCount()<=0&&(is.delete(n),t=!0),t&&(yield Promise.all(e.container.getProviders().map(r=>r.delete())),e.isDeleted=!0)})).apply(this,arguments)}function lt(e,t,n){var r;let i=null!==(r=Wq[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${t}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Ai.warn(a.join(" "))}Wr(new jr(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}function GN(e,t){if(null!==e&&"function"!=typeof e)throw rn.create("invalid-log-argument");!function oq(e,t){for(const n of l_){let r=null;t&&t.level&&(r=kN[t.level]),n.userLogHandler=null===e?null:(i,o,...s)=>{const a=s.map(l=>{if(null==l)return null;if("string"==typeof l)return l;if("number"==typeof l||"boolean"==typeof l)return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");o>=(r??i.logLevel)&&e({level:ue[o].toLowerCase(),message:a,args:s,type:i.name})}}}(e,t)}function WN(e){!function iq(e){l_.forEach(t=>{t.setLogLevel(e)})}(e)}const Zq="firebase-heartbeat-database",Jq=1,ol="firebase-heartbeat-store";let E_=null;function zN(){return E_||(E_=function pq(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=$r(s);return r&&s.addEventListener("upgradeneeded",l=>{r($r(s.result),l.oldVersion,l.newVersion,$r(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}(Zq,Jq,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(ol)}catch(n){console.warn(n)}}}).catch(e=>{throw rn.create("idb-open",{originalErrorMessage:e.message})})),E_}function I_(){return(I_=b(function*(e){try{const n=(yield zN()).transaction(ol),r=yield n.objectStore(ol).get(YN(e));return yield n.done,r}catch(t){if(t instanceof Br)Ai.warn(t.message);else{const n=rn.create("idb-get",{originalErrorMessage:t?.message});Ai.warn(n.message)}}})).apply(this,arguments)}function qN(e,t){return w_.apply(this,arguments)}function w_(){return(w_=b(function*(e,t){try{const r=(yield zN()).transaction(ol,"readwrite");yield r.objectStore(ol).put(t,YN(e)),yield r.done}catch(n){if(n instanceof Br)Ai.warn(n.message);else{const r=rn.create("idb-set",{originalErrorMessage:n?.message});Ai.warn(r.message)}}})).apply(this,arguments)}function YN(e){return`${e.name}!${e.options.appId}`}class n6{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new i6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var t=this;return b(function*(){var n,r;const o=t.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=KN();if((null!=(null===(n=t._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||(t._heartbeatsCache=yield t._heartbeatsCachePromise,null!=(null===(r=t._heartbeatsCache)||void 0===r?void 0:r.heartbeats)))&&t._heartbeatsCache.lastSentHeartbeatDate!==s&&!t._heartbeatsCache.heartbeats.some(a=>a.date===s))return t._heartbeatsCache.heartbeats.push({date:s,agent:o}),t._heartbeatsCache.heartbeats=t._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=2592e6}),t._storage.overwrite(t._heartbeatsCache)})()}getHeartbeatsHeader(){var t=this;return b(function*(){var n;if(null===t._heartbeatsCache&&(yield t._heartbeatsCachePromise),null==(null===(n=t._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||0===t._heartbeatsCache.heartbeats.length)return"";const r=KN(),{heartbeatsToSend:i,unsentEntries:o}=function r6(e,t=1024){const n=[];let r=e.slice();for(const i of e){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),QN(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),QN(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(t._heartbeatsCache.heartbeats),s=md(JSON.stringify({version:2,heartbeats:i}));return t._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(t._heartbeatsCache.heartbeats=o,yield t._storage.overwrite(t._heartbeatsCache)):(t._heartbeatsCache.heartbeats=[],t._storage.overwrite(t._heartbeatsCache)),s})()}}function KN(){return(new Date).toISOString().substring(0,10)}class i6{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return b(function*(){return!!function F8(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function L8(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){t(n)}})}().then(()=>!0).catch(()=>!1)})()}read(){var t=this;return b(function*(){if(yield t._canUseIndexedDBPromise){const r=yield function Xq(e){return I_.apply(this,arguments)}(t.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(t){var n=this;return b(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return qN(n.app,{lastSentHeartbeatDate:null!==(r=t.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}})()}add(t){var n=this;return b(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return qN(n.app,{lastSentHeartbeatDate:null!==(r=t.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}})()}}function QN(e){return md(JSON.stringify({version:2,heartbeats:e})).length}!function o6(e){Wr(new jr("platform-logger",t=>new _q(t),"PRIVATE")),Wr(new jr("heartbeat",t=>new n6(t),"PRIVATE")),lt(wd,g_,e),lt(wd,g_,"esm2017"),lt("fire-js","")}(""),lt("firebase","10.12.4","app");class l6 extends Et{constructor(t,n){super()}schedule(t,n=0){return this}}const bd={setInterval(e,t,...n){const{delegate:r}=bd;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=bd;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};class ZN extends l6{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return bd.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&bd.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i,r=!1;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,zl(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}}const JN={now:()=>(JN.delegate||Date).now(),delegate:void 0};class sl{constructor(t,n=sl.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}}sl.now=JN.now;class XN extends sl{constructor(t,n=sl.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}const d6=new class c6 extends XN{}(class u6 extends ZN{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(t,n,r):(t.flush(this),0)}}),h6=new XN(ZN),al=new Io("ANGULARFIRE2_VERSION");const D_=(e,t)=>{const n=t?[t]:y_(),r=[];return n.forEach(i=>{i.container.getProvider(e).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};class f6{constructor(){return D_(p6)}}const p6="app-check";function ls(){}class tR{zone;delegate;constructor(t,n=d6){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{t.apply(this,[s])})},n,r)}}class g6{zone;task=null;constructor(t){this.zone=t}call(t,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ls,{},ls,ls)),n.pipe(nt({next:r,complete:r,error:r})).subscribe(t).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let nR=(()=>{class e{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new tR(Zone.current)),this.insideAngular=n.run(()=>new tR(Zone.current,h6)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||e)(M(ie))};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function us(){const e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return e}function Mi(e){return us().ngZone.run(()=>e())}function _6(e){return function y6(e){return function(n){return(n=n.lift(new g6(e.ngZone))).pipe(Zl(e.outsideAngular),Ql(e.insideAngular))}}(us())(e)}const v6=(e,t)=>function(){const r=arguments;return t&&setTimeout(()=>{"scheduled"===t.state&&t.invoke()},10),Mi(()=>e.apply(void 0,r))},Td=(e,t)=>function(){let n;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(t&&(n||=Mi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ls,{},ls,ls))),r[o]=v6(r[o],n));const i=function m6(e){return us().ngZone.runOutsideAngular(()=>e())}(()=>e.apply(this,r));if(!t){if(i instanceof Me){const o=us();return i.pipe(Zl(o.outsideAngular),Ql(o.insideAngular))}return Mi(()=>i)}return i instanceof Me?i.pipe(_6):i instanceof Promise?Mi(()=>new Promise((o,s)=>i.then(a=>Mi(()=>o(a)),a=>Mi(()=>s(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Mi(()=>i)};class ll{constructor(t){return t}}class rR{constructor(){return y_()}}const b_=new T("angularfire2._apps"),E6={provide:ll,useFactory:function C6(e){return e&&1===e.length?e[0]:new ll(__())},deps:[[new Vt,b_]]},I6={provide:rR,deps:[[new Vt,b_]]};function w6(e){return(t,n)=>{const r=t.runOutsideAngular(()=>e(n));return new ll(r)}}let D6=(()=>{class e{constructor(n){lt("angularfire",al.full,"core"),lt("angularfire",al.full,"app"),lt("angular",mp.full,n.toString())}static \u0275fac=function(r){return new(r||e)(M(Mr))};static \u0275mod=xt({type:e});static \u0275inj=It({providers:[E6,I6]})}return e})();function b6(e,...t){return{ngModule:D6,providers:[{provide:b_,useFactory:w6(e),multi:!0,deps:[ie,gt,nR,...t]}]}}const T6=Td(Dd,!0);const S6=function iR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},oR=new Ti("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Sd=new Id("@firebase/auth");function Ad(e,...t){Sd.logLevel<=ue.ERROR&&Sd.error(`Auth (${as}): ${e}`,...t)}function Nt(e,...t){throw S_(e,...t)}function on(e,...t){return S_(e,...t)}function T_(e,t,n){const r=Object.assign(Object.assign({},S6()),{[t]:n});return new Ti("auth","Firebase",r).create(t,{appName:e.name})}function We(e){return T_(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function S_(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return oR.create(e,...t)}function I(e,t,...n){if(!e)throw S_(t,...n)}function Bn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Ad(t),new Error(t)}function zr(e,t){e||Bn(t)}function sR(){var e;return typeof self<"u"&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function M6(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function A_(){return"http:"===sR()||"https:"===sR()}()||function k8(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class cl{constructor(t,n){this.shortDelay=t,this.longDelay=n,zr(n>t,"Short delay should be less than long delay!"),this.isMobile=i_()||NN()}get(){return M6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class aR{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Bn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Bn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Bn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const R6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},P6=new cl(3e4,6e4);function Ie(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function we(e,t,n,r){return N_.apply(this,arguments)}function N_(){return(N_=b(function*(e,t,n,r,i={}){return lR(e,i,b(function*(){let o={},s={};r&&("GET"===t?s=r:o={body:JSON.stringify(r)});const a=s_(Object.assign({key:e.config.apiKey},s)).slice(1),l=yield e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),aR.fetch()(uR(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function lR(e,t,n){return R_.apply(this,arguments)}function R_(){return(R_=b(function*(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},R6),t);try{const i=new x6(e),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw dl(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw dl(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===l)throw dl(e,"email-already-in-use",s);if("USER_DISABLED"===l)throw dl(e,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw T_(e,c,u);Nt(e,c)}}catch(i){if(i instanceof Br)throw i;Nt(e,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function uR(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?function M_(e,t){zr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}(e.config,i):`${e.config.apiScheme}://${i}`}class x6{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(on(this.auth,"network-request-failed")),P6.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function dl(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=on(e,t,r);return i.customData._tokenResponse=n,i}function k_(){return(k_=b(function*(e,t){return we(e,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function pR(e,t){return L_.apply(this,arguments)}function L_(){return(L_=b(function*(e,t){return we(e,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function hl(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function V_(){return(V_=b(function*(e,t=!1){const n=dr(e),r=yield n.getIdToken(t),i=Md(r);I(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:hl(U_(i.auth_time)),issuedAtTime:hl(U_(i.iat)),expirationTime:hl(U_(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function U_(e){return 1e3*Number(e)}function Md(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Ad("JWT malformed, contained fewer than 3 sections"),null;try{const i=_d(n);return i?JSON.parse(i):(Ad("Failed to decode base64 JWT payload"),null)}catch(i){return Ad("Caught error parsing JWT payload as JSON",i?.toString()),null}}function gR(e){const t=Md(e);return I(t,"internal-error"),I(typeof t.exp<"u","internal-error"),I(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function fr(e,t){return B_.apply(this,arguments)}function B_(){return(B_=b(function*(e,t,n=!1){if(n)return t;try{return yield t}catch(r){throw r instanceof Br&&function U6({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(r)&&e.auth.currentUser===e&&(yield e.auth.signOut()),r}})).apply(this,arguments)}class B6{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(b(function*(){yield n.iteration()}),r)}iteration(){var t=this;return b(function*(){try{yield t.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&t.schedule(!0))}t.schedule()})()}}class j_{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hl(this.lastLoginAt),this.creationTime=hl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function fl(e){return $_.apply(this,arguments)}function $_(){return($_=b(function*(e){var t;const n=e.auth,r=yield e.getIdToken(),i=yield fr(e,pR(n,{idToken:r}));I(i?.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=null!==(t=o.providerUserInfo)&&void 0!==t&&t.length?mR(o.providerUserInfo):[],a=function $6(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}(e.providerData,s),c=!!e.isAnonymous&&!(e.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new j_(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(e,d)})).apply(this,arguments)}function H_(){return(H_=b(function*(e){const t=dr(e);yield fl(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function mR(e){return e.map(t=>{var{providerId:n}=t,r=Fh(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function G_(){return(G_=b(function*(e,t){const n=yield lR(e,{},b(function*(){const r=s_({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=uR(e,i,"/v1/token",`key=${o}`),a=yield e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",aR.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}function W_(){return(W_=b(function*(e,t){return we(e,"POST","/v2/accounts:revokeToken",Ie(e,t))})).apply(this,arguments)}class ds{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){I(t.idToken,"internal-error"),I(typeof t.idToken<"u","internal-error"),I(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):gR(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){I(0!==t.length,"internal-error");const n=gR(t);this.updateTokensAndExpiration(t,null,n)}getToken(t,n=!1){var r=this;return b(function*(){return n||!r.accessToken||r.isExpired?(I(r.refreshToken,t,"user-token-expired"),r.refreshToken?(yield r.refresh(t,r.refreshToken),r.accessToken):null):r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(t,n){var r=this;return b(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function H6(e,t){return G_.apply(this,arguments)}(t,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new ds;return r&&(I("string"==typeof r,"internal-error",{appName:t}),s.refreshToken=r),i&&(I("string"==typeof i,"internal-error",{appName:t}),s.accessToken=i),o&&(I("number"==typeof o,"internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ds,this.toJSON())}_performRefresh(){return Bn("not implemented")}}function qr(e,t){I("string"==typeof e||typeof e>"u","internal-error",{appName:t})}class pr{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,o=Fh(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new B6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new j_(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(t){var n=this;return b(function*(){const r=yield fr(n,n.stsTokenManager.getToken(n.auth,t));return I(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(t){return function V6(e){return V_.apply(this,arguments)}(this,t)}reload(){return function j6(e){return H_.apply(this,arguments)}(this)}_assign(t){this!==t&&(I(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new pr(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){I(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,n=!1){var r=this;return b(function*(){let i=!1;t.idToken&&t.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(t),i=!0),n&&(yield fl(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var t=this;return b(function*(){if(ss(t.auth.app))return Promise.reject(We(t.auth));const n=yield t.getIdToken();return yield fr(t,function F6(e,t){return k_.apply(this,arguments)}(t.auth,{idToken:n})),t.stsTokenManager.clearRefreshToken(),t.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,o,s,a,l,u,c;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,p=null!==(s=n.photoURL)&&void 0!==s?s:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,_=null!==(l=n._redirectEventId)&&void 0!==l?l:void 0,v=null!==(u=n.createdAt)&&void 0!==u?u:void 0,m=null!==(c=n.lastLoginAt)&&void 0!==c?c:void 0,{uid:A,emailVerified:N,isAnonymous:W,providerData:Ye,stsTokenManager:ln}=n;I(A&&ln,t,"internal-error");const ii=ds.fromJSON(this.name,ln);I("string"==typeof A,t,"internal-error"),qr(d,t.name),qr(h,t.name),I("boolean"==typeof N,t,"internal-error"),I("boolean"==typeof W,t,"internal-error"),qr(f,t.name),qr(p,t.name),qr(g,t.name),qr(_,t.name),qr(v,t.name),qr(m,t.name);const Hi=new pr({uid:A,auth:t,email:h,emailVerified:N,displayName:d,isAnonymous:W,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:ii,createdAt:v,lastLoginAt:m});return Ye&&Array.isArray(Ye)&&(Hi.providerData=Ye.map(KC=>Object.assign({},KC))),_&&(Hi._redirectEventId=_),Hi}static _fromIdTokenResponse(t,n,r=!1){return b(function*(){const i=new ds;i.updateFromServerResponse(n);const o=new pr({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return yield fl(o),o})()}static _fromGetAccountInfoResponse(t,n,r){return b(function*(){const i=n.users[0];I(void 0!==i.localId,"internal-error");const o=void 0!==i.providerUserInfo?mR(i.providerUserInfo):[],s=!(i.email&&i.passwordHash||o?.length),a=new ds;a.updateFromIdToken(r);const l=new pr({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new j_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash||o?.length)};return Object.assign(l,u),l})()}}const _R=new Map;function gr(e){zr(e instanceof Function,"Expected a class definition");let t=_R.get(e);return t?(zr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,_R.set(e,t),t)}const yR=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return b(function*(){return!0})()}_set(n,r){var i=this;return b(function*(){i.storage[n]=r})()}_get(n){var r=this;return b(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return b(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return e.type="NONE",e})();function Nd(e,t,n){return`firebase:${e}:${t}:${n}`}class hs{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Nd(this.userKey,i.apiKey,o),this.fullPersistenceKey=Nd("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){var t=this;return b(function*(){const n=yield t.persistence._get(t.fullUserKey);return n?pr._fromJSON(t.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){var n=this;return b(function*(){if(n.persistence===t)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=t,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,n,r="authUser"){return b(function*(){if(!n.length)return new hs(gr(yR),t,r);const i=(yield Promise.all(n.map(function(){var u=b(function*(c){if(yield c._isAvailable())return c});return function(c){return u.apply(this,arguments)}}()))).filter(u=>u);let o=i[0]||gr(yR);const s=Nd(r,t.config.apiKey,t.name);let a=null;for(const u of n)try{const c=yield u._get(s);if(c){const d=pr._fromJSON(t,c);u!==o&&(a=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return o._shouldAllowMigration&&l.length?(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(function(){var u=b(function*(c){if(c!==o)try{yield c._remove(s)}catch{}});return function(c){return u.apply(this,arguments)}}())),new hs(o,t,r)):new hs(o,t,r)})()}}function vR(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(function IR(e=Ht()){return/iemobile/i.test(e)}(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(function CR(e=Ht()){return/firefox\//i.test(e)}(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(function DR(e=Ht()){return/blackberry/i.test(e)}(t))return"Blackberry";if(function bR(e=Ht()){return/webos/i.test(e)}(t))return"Webos";if(function z_(e=Ht()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}(t))return"Safari";if((t.includes("chrome/")||function ER(e=Ht()){return/crios\//i.test(e)}(t))&&!t.includes("edge/"))return"Chrome";if(function wR(e=Ht()){return/android/i.test(e)}(t))return"Android";{const r=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function TR(e,t=[]){let n;switch(e){case"Browser":n=vR(Ht());break;case"Worker":n=`${vR(Ht())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${as}/${r}`}class q6{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=o=>new Promise((s,a)=>{try{s(t(o))}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(t){var n=this;return b(function*(){if(n.auth.currentUser===t)return;const r=[];try{for(const i of n.queue)yield i(t),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function q_(){return(q_=b(function*(e,t={}){return we(e,"GET","/v2/passwordPolicy",Ie(e,t))})).apply(this,arguments)}class Q6{constructor(t){var n,r,i,o;const s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=s.minPasswordLength)&&void 0!==n?n:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=t.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=t.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=null===(n=l.meetsMinPasswordLength)||void 0===n||n),l.isValid&&(l.isValid=null===(r=l.meetsMaxPasswordLength)||void 0===r||r),l.isValid&&(l.isValid=null===(i=l.containsLowercaseLetter)||void 0===i||i),l.isValid&&(l.isValid=null===(o=l.containsUppercaseLetter)||void 0===o||o),l.isValid&&(l.isValid=null===(s=l.containsNumericCharacter)||void 0===s||s),l.isValid&&(l.isValid=null===(a=l.containsNonAlphanumericCharacter)||void 0===a||a),l}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}class Z6{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new SR(this),this.idTokenSubscription=new SR(this),this.beforeStateQueue=new q6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){var r=this;return n&&(this._popupRedirectResolver=gr(n)),this._initializationPromise=this.queue(b(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield hs.create(r,t),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var t=this;return b(function*(){if(t._deleted)return;const n=yield t.assertedPersistence.getCurrentUser();if(t.currentUser||n){if(t.currentUser&&n&&t.currentUser.uid===n.uid)return t._currentUser._assign(n),void(yield t.currentUser.getIdToken());yield t._updateCurrentUser(n,!0)}})()}initializeCurrentUserFromIdToken(t){var n=this;return b(function*(){try{const r=yield pR(n,{idToken:t}),i=yield pr._fromGetAccountInfoResponse(n,r,t);yield n.directlySetCurrentUser(i)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),yield n.directlySetCurrentUser(null)}})()}initializeCurrentUser(t){var n=this;return b(function*(){var r;if(ss(n.app)){const a=n.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>n.initializeCurrentUserFromIdToken(a).then(l,l))}):n.directlySetCurrentUser(null)}const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(t&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,l=o?._redirectEventId,u=yield n.tryRedirectSignIn(t);(!a||a===l)&&u?.user&&(o=u.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return I(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(t){var n=this;return b(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,t,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(t){var n=this;return b(function*(){try{yield fl(t)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(t)})()}useDeviceLanguage(){this.languageCode=function N6(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}_delete(){var t=this;return b(function*(){t._deleted=!0})()}updateCurrentUser(t){var n=this;return b(function*(){if(ss(n.app))return Promise.reject(We(n));const r=t?dr(t):null;return r&&I(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(t,n=!1){var r=this;return b(function*(){if(!r._deleted)return t&&I(r.tenantId===t.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(t)),r.queue(b(function*(){yield r.directlySetCurrentUser(t),r.notifyAuthListeners()}))})()}signOut(){var t=this;return b(function*(){return ss(t.app)?Promise.reject(We(t)):(yield t.beforeStateQueue.runMiddleware(null),(t.redirectPersistenceManager||t._popupRedirectResolver)&&(yield t._setRedirectUser(null)),t._updateCurrentUser(null,!0))})()}setPersistence(t){var n=this;return ss(this.app)?Promise.reject(We(this)):this.queue(b(function*(){yield n.assertedPersistence.setPersistence(gr(t))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){var n=this;return b(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(t)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var t=this;return b(function*(){const n=yield function Y6(e){return q_.apply(this,arguments)}(t),r=new Q6(n);null===t.tenantId?t._projectPasswordPolicy=r:t._tenantPasswordPolicies[t.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Ti("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}revokeAccessToken(t){var n=this;return b(function*(){if(n.currentUser){const r=yield n.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:r};null!=n.tenantId&&(i.tenantId=n.tenantId),yield function G6(e,t){return W_.apply(this,arguments)}(n,i)}})()}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}_setRedirectUser(t,n){var r=this;return b(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===t?i.removeCurrentUser():i.setCurrentUser(t)})()}getOrInitRedirectPersistenceManager(t){var n=this;return b(function*(){if(!n.redirectPersistenceManager){const r=t&&gr(t)||n._popupRedirectResolver;I(r,n,"argument-error"),n.redirectPersistenceManager=yield hs.create(n,[gr(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(t){var n=this;return b(function*(){var r,i;return n._isInitialized&&(yield n.queue(b(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===t?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===t?n.redirectUser:null})()}_persistUserIfCurrent(t){var n=this;return b(function*(){if(t===n.currentUser)return n.queue(b(function*(){return n.directlySetCurrentUser(t)}))})()}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(I(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof n){const l=t.addObserver(n,r,i);return()=>{s=!0,l()}}{const l=t.addObserver(n);return()=>{s=!0,l()}}}directlySetCurrentUser(t){var n=this;return b(function*(){n.currentUser&&n.currentUser!==t&&n._currentUser._stopProactiveRefresh(),t&&n.isProactiveRefreshEnabled&&t._startProactiveRefresh(),n.currentUser=t,t?yield n.assertedPersistence.setCurrentUser(t):yield n.assertedPersistence.removeCurrentUser()})()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return I(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=TR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var t=this;return b(function*(){var n;const r={"X-Client-Version":t.clientVersion};t.app.options.appId&&(r["X-Firebase-gmpid"]=t.app.options.appId);const i=yield null===(n=t.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield t._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var t=this;return b(function*(){var n;const r=yield null===(n=t.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function A6(e,...t){Sd.logLevel<=ue.WARN&&Sd.warn(`Auth (${as}): ${e}`,...t)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}class SR{constructor(t){this.auth=t,this.observer=null,this.addObserver=ON(n=>this.observer=n)}get next(){return I(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let pl={loadJS:()=>b(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};(function AR(e){return`__${e}${Math.floor(1e6*Math.random())}`})("rcb"),new cl(3e4,6e4),new cl(2e3,1e4),new cl(3e4,6e4),new cl(5e3,15e3),encodeURIComponent("fac");var oP="@firebase/auth";class e9{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}getToken(t){var n=this;return b(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(t)}:null})()}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){I(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}yd(),function J6(e){pl=e}({loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const o=on("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",function s9(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function n9(e){Wr(new jr("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;I(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TR(e)},u=new Z6(r,i,o,l);return function s5(e,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(gr);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Wr(new jr("auth-internal",t=>{const n=function Fe(e){return dr(e)}(t.getProvider("auth").getImmediate());return new e9(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),lt(oP,"1.7.5",function t9(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(e)),lt(oP,"1.7.5","esm2017")}("Browser");class uP{constructor(){return D_("auth")}}const cP="@firebase/database";let Uv="";class c9{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){null==n?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),rt(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return null==n?null:rl(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class d9{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){null==n?delete this.cache_[t]:this.cache_[t]=n}get(t){return Cn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const fP=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new c9(t)}}catch{}return new d9},Oi=fP("localStorage"),Bv=fP("sessionStorage"),fs=new Id("@firebase/database"),pP=function(){let e=1;return function(){return e++}}(),gP=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,w(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new H8;n.update(t);const r=n.digest();return r_.encodeByteArray(r)},Cl=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=Cl.apply(null,r):t+="object"==typeof r?rt(r):r,t+=" "}return t};let xi=null,mP=!0;const ze=function(...e){if(!0===mP&&(mP=!1,null===xi&&!0===Bv.get("logging_enabled")&&function(e,t){w(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(fs.logLevel=ue.VERBOSE,xi=fs.log.bind(fs),t&&Bv.set("logging_enabled",!0)):"function"==typeof e?xi=e:(xi=null,Bv.remove("logging_enabled"))}(!0)),xi){const t=Cl.apply(null,e);xi(t)}},El=function(e){return function(...t){ze(e,...t)}},jv=function(...e){const t="FIREBASE INTERNAL ERROR: "+Cl(...e);fs.error(t)},jn=function(...e){const t=`FIREBASE FATAL ERROR: ${Cl(...e)}`;throw fs.error(t),new Error(t)},ut=function(...e){const t="FIREBASE WARNING: "+Cl(...e);fs.warn(t)},Hd=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Yr="[MIN_NAME]",_r="[MAX_NAME]",ki=function(e,t){if(e===t)return 0;if(e===Yr||t===_r)return-1;if(t===Yr||e===_r)return 1;{const n=CP(e),r=CP(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},p9=function(e,t){return e===t?0:e<t?-1:1},Il=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+rt(t))},$v=function(e){if("object"!=typeof e||null===e)return rt(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=rt(t[r]),n+=":",n+=$v(e[t[r]]);return n+="}",n},yP=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)r.push(e.substring(i,i+t>n?n:i+t));return r};function qe(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const vP=function(e){w(!Hd(e),"Invalid JSON number");const r=1023;let i,o,s,a,l;0===e?(o=0,s=0,i=1/e==-1/0?1:0):(i=e<0,(e=Math.abs(e))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),o=a+r,s=Math.round(e*Math.pow(2,52-a)-Math.pow(2,52))):(o=0,s=Math.round(e/Math.pow(2,-1074))));const u=[];for(l=52;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(l=11;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(c.substr(l,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},y9=new RegExp("^-?(0*)\\d{1,10}$"),CP=function(e){if(y9.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},ps=function(e){try{e()}catch(t){setTimeout(()=>{throw ut("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},wl=function(e,t){const n=setTimeout(e,t);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class I9{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){ut(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class w9{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&"auth/token-not-initialized"===n.code?(ze("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ut(t)}}let Dl=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return e.OWNER="owner",e})();const bP=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,AP="websocket",MP="long_polling";class Gv{constructor(t,n,r,i,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Oi.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Oi.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function NP(e,t,n){let r;if(w("string"==typeof t,"typeof type must == string"),w("object"==typeof n,"typeof params must == object"),t===AP)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==MP)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function D9(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return qe(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}class b9{constructor(){this.counters_={}}incrementCounter(t,n=1){Cn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return function D8(e){return tl(void 0,e)}(this.counters_)}}const Wv={},zv={};function qv(e){const t=e.toString();return Wv[t]||(Wv[t]=new b9),Wv[t]}class S9{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&ps(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Kr{constructor(t,n,r,i,o,s,a){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=El(t),this.stats_=qv(n),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),NP(n,MP,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new S9(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if("complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Yv((...o)=>{const[s,a,l,u,c]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=a,this.password=l;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&bP.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Kr.forceAllow_=!0}static forceDisallow(){Kr.forceDisallow_=!0}static isAvailable(){return!(!Kr.forceAllow_&&(Kr.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=rt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=TN(n),i=yP(r,1840);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=t,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=rt(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Yv{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=pP(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=Yv.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){ze("frame writing exception"),a.stack&&ze(a.stack),ze(a)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||ze("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const s=this.pendingSegs.shift();r=r+"&seg"+i+"="+s.seg+"&ts"+i+"="+s.ts+"&d"+i+"="+s.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(i),r()})}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{ze("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let Wd=null;typeof MozWebSocket<"u"?Wd=MozWebSocket:typeof WebSocket<"u"&&(Wd=WebSocket);let gs=(()=>{class e{constructor(n,r,i,o,s,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=El(this.connId),this.stats_=qv(r),this.connURL=e.connectionURL_(r,a,l,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){const a={v:"5"};return typeof location<"u"&&location.hostname&&bP.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),o&&(a.ac=o),s&&(a.p=s),NP(n,AP,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Oi.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new Wd(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==Wd&&!e.forceDisallow_}static previouslyFailed(){return Oi.isInMemoryStorage||!0===Oi.get("previous_websocket_failure")}markConnectionHealthy(){Oi.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=rl(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(w(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=rt(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=yP(r,16384);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e})(),LP=(()=>{class e{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Kr,gs]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=gs&&gs.isAvailable();let i=r&&!gs.previouslyFailed();if(n.webSocketOnly&&(r||ut("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[gs];else{const o=this.transports_=[];for(const s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return e.globalTransportInitialized_=!1,e})();class GP{constructor(t,n,r,i,o,s,a,l,u,c){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=El("c:"+this.id+":"),this.transportManager_=new LP(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=wl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const n=t.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=Il("t",t),r=Il("d",t);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=Il("t",t),r=Il("d",t);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=Il("t",t);if("d"in t){const r=t.d;if("h"===n){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?jv("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):jv("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&ut("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),wl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):wl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Oi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class WP{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}class zP{constructor(t){this.allowedEvents_=t,this.listeners_={},w(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context))return void i.splice(o,1)}validateEventType_(t){w(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}class zd extends zP{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!i_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new zd}getInitialEvent(t){return w("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class oe{constructor(t,n){if(void 0===n){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(t+="/"+this.pieces_[n]);return t||"/"}}function ee(){return new oe("")}function H(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Qr(e){return e.pieces_.length-e.pieceNum_}function fe(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new oe(e.pieces_,t)}function Qv(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function bl(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function KP(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new oe(t,0)}function Te(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof oe)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new oe(n,0)}function G(e){return e.pieceNum_>=e.pieces_.length}function Ct(e,t){const n=H(e),r=H(t);if(null===n)return t;if(n===r)return Ct(fe(e),fe(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Zv(e,t){if(Qr(e)!==Qr(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function an(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Qr(e)>Qr(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Q9{constructor(t,n){this.errorPrefix_=n,this.parts_=bl(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Ed(this.parts_[r]);QP(this)}}function QP(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Fi(e))}function Fi(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class Jv extends zP{constructor(){let t,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Jv}getInitialEvent(t){return w("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Tl=1e3;let Yd,Li=(()=>{class e extends WP{constructor(n,r,i,o,s,a,l,u){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=u,this.id=e.nextPersistentConnectionId_++,this.log_=El("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Tl,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Jv.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&zd.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(rt(s)),w(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();const r=new nl,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{const l=a.d;"ok"===a.s?r.resolve(l):r.reject(l)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,o){this.initConnection_();const s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),w(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),w(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const l={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);const s={p:i};n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest("q",s,l=>{const u=l.d,c=l.s;e.warnOnListenWarnings_(u,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",l),"ok"!==c&&this.removeListen_(i,o),n.onComplete&&n.onComplete(c,u))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&Cn(n,"w")){const i=ns(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();ut(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||function(e){const t=vd(e).claims;return"object"==typeof t&&!0===t.admin}(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=function(e){const n=vd(e).claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")}(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{const s=o.s,a=o.d||"error";this.authToken_===n&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),w(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);const s={p:n};o&&(s.q=i,s.t=o),this.sendRequest("n",s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){const s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();const a={p:r,d:i};void 0!==s&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+rt(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):jv("Unrecognized action received from server: "+rt(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){w(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Tl,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Tl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Tl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return b(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),o=n.onRealtimeDisconnect_.bind(n),s=n.id+":"+e.nextConnectionId_++,a=n.lastSessionId;let l=!1,u=null;const c=function(){u?u.close():(l=!0,o())};n.realtime_={close:c,sendRequest:function(f){w(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(f)}};const h=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[f,p]=yield Promise.all([n.authTokenProvider_.getToken(h),n.appCheckTokenProvider_.getToken(h)]);l?ze("getToken() completed but was canceled"):(ze("getToken() completed. Creating connection."),n.authToken_=f&&f.accessToken,n.appCheckToken_=p&&p.token,u=new GP(s,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,o,g=>{ut(g+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(f){n.log_("Failed to get token: "+f),l||(n.repoInfo_.nodeAdmin&&ut(f),c())}}})()}interrupt(n){ze("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){ze("Resuming connection for reason: "+n),delete this.interruptReasons_[n],RN(this.interruptReasons_)&&(this.reconnectDelay_=Tl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(s=>$v(s)).join("$"):"default";const o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){const i=new oe(n).toString();let o;if(this.listens.has(i)){const s=this.listens.get(i);o=s.get(r),s.delete(r),0===s.size&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){ze("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){ze("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";n["sdk."+r+"."+Uv.replace(/\./g,"-")]=1,i_()?n["framework.cordova"]=1:NN()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=zd.getInstance().currentlyOnline();return RN(this.interruptReasons_)&&n}}return e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e})();class z{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new z(t,n)}}class qd{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new z(Yr,t),i=new z(Yr,n);return 0!==this.compare(r,i)}minPost(){return z.MIN}}class XP extends qd{static get __EMPTY_NODE(){return Yd}static set __EMPTY_NODE(t){Yd=t}compare(t,n){return ki(t.name,n.name)}isDefinedOn(t){throw ts("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return z.MIN}maxPost(){return new z(_r,Yd)}makePost(t,n){return w("string"==typeof t,"KeyIndex indexValue must always be a string."),new z(t,Yd)}toString(){return".key"}}const $n=new XP;class Kd{constructor(t,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,i&&(s*=-1),s<0)t=this.isReverse_?t.left:t.right;else{if(0===s){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,t=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let eC,En=(()=>{class e{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??e.RED,this.left=o??Rt.EMPTY_NODE,this.right=s??Rt.EMPTY_NODE}copy(n,r,i,o,s){return new e(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this;const s=i(n,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(n,r,i),null):0===s?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Rt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return Rt.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})();class Rt{constructor(t,n=Rt.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new Rt(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,En.BLACK,null,null))}remove(t){return new Rt(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,En.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Kd(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Kd(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Kd(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Kd(this.root_,null,this.comparator_,!0,t)}}function iY(e,t){return ki(e.name,t.name)}function Xv(e,t){return ki(e,t)}Rt.EMPTY_NODE=new class rY{copy(t,n,r,i,o){return this}insert(t,n,r){return new En(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const eO=function(e){return"number"==typeof e?"number:"+vP(e):"string:"+e},tO=function(e){if(e.isLeafNode()){const t=e.val();w("string"==typeof t||"number"==typeof t||"object"==typeof t&&Cn(t,".sv"),"Priority must be a string or number.")}else w(e===eC||e.isEmpty(),"priority of unexpected type.");w(e===eC||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let nO,rO,iO,ms=(()=>{class e{constructor(n,r=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,w(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),tO(this.priorityNode_)}static set __childrenNodeConstructor(n){nO=n}static get __childrenNodeConstructor(){return nO}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return G(n)?this:".priority"===H(n)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=H(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:(w(".priority"!==i||1===Qr(n),".priority must be the last token in a path"),this.updateImmediateChild(i,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(fe(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+eO(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?vP(this.value_):this.value_,this.lazyHash_=gP(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(w(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(r),s=e.VALUE_TYPE_ORDER.indexOf(i);return w(o>=0,"Unknown leaf type: "+r),w(s>=0,"Unknown leaf type: "+i),o===s?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e})();const ve=new class lY extends qd{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return 0===o?ki(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return z.MIN}maxPost(){return new z(_r,new ms("[PRIORITY-POST]",iO))}makePost(t,n){const r=rO(t);return new z(n,new ms("[PRIORITY-POST]",r))}toString(){return".priority"}},uY=Math.log(2);class cY{constructor(t){this.count=parseInt(Math.log(t+1)/uY,10),this.current_=this.count-1;const i=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Qd=function(e,t,n,r){e.sort(t);const i=function(l,u){const c=u-l;let d,h;if(0===c)return null;if(1===c)return d=e[l],h=n?n(d):d,new En(h,d.node,En.BLACK,null,null);{const f=parseInt(c/2,10)+l,p=i(l,f),g=i(f+1,u);return d=e[f],h=n?n(d):d,new En(h,d.node,En.BLACK,p,g)}},a=function(l){let u=null,c=null,d=e.length;const h=function(p,g){const _=d-p,v=d;d-=p;const m=i(_+1,v),A=e[_],N=n?n(A):A;f(new En(N,A.node,g,null,m))},f=function(p){u?(u.left=p,u=p):(c=p,u=p)};for(let p=0;p<l.count;++p){const g=l.nextBitIsOne(),_=Math.pow(2,l.count-(p+1));g?h(_,En.BLACK):(h(_,En.BLACK),h(_,En.RED))}return c}(new cY(e.length));return new Rt(r||t,a)};let tC;const _s={};class yr{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return w(_s&&ve,"ChildrenNode.ts has not been loaded"),tC=tC||new yr({".priority":_s},{".priority":ve}),tC}get(t){const n=ns(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Rt?n:null}hasIndex(t){return Cn(this.indexSet_,t.toString())}addIndex(t,n){w(t!==$n,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(z.Wrap);let a,s=o.getNext();for(;s;)i=i||t.isDefinedOn(s.node),r.push(s),s=o.getNext();a=i?Qd(r,t.getCompare()):_s;const l=t.toString(),u=Object.assign({},this.indexSet_);u[l]=t;const c=Object.assign({},this.indexes_);return c[l]=a,new yr(c,u)}addToIndexes(t,n){const r=Cd(this.indexes_,(i,o)=>{const s=ns(this.indexSet_,o);if(w(s,"Missing index implementation for "+o),i===_s){if(s.isDefinedOn(t.node)){const a=[],l=n.getIterator(z.Wrap);let u=l.getNext();for(;u;)u.name!==t.name&&a.push(u),u=l.getNext();return a.push(t),Qd(a,s.getCompare())}return _s}{const a=n.get(t.name);let l=i;return a&&(l=l.remove(new z(t.name,a))),l.insert(t,t.node)}});return new yr(r,this.indexSet_)}removeFromIndexes(t,n){const r=Cd(this.indexes_,i=>{if(i===_s)return i;{const o=n.get(t.name);return o?i.remove(new z(t.name,o)):i}});return new yr(r,this.indexSet_)}}let Sl,j=(()=>{class e{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&tO(this.priorityNode_),this.children_.isEmpty()&&w(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Sl||(Sl=new e(new Rt(Xv),null,yr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Sl}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?Sl:r}}getChild(n){const r=H(n);return null===r?this:this.getImmediateChild(r).getChild(fe(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if(w(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new z(n,r);let o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));const a=o.isEmpty()?Sl:this.priorityNode_;return new e(o,a,s)}}updateChild(n,r){const i=H(n);if(null===i)return r;{w(".priority"!==H(n)||1===Qr(n),".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(fe(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,o=0,s=!0;if(this.forEachChild(ve,(a,l)=>{r[a]=l.val(n),i++,s&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){const a=[];for(const l in r)a[l]=r[l];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+eO(this.getPriority().val())+":"),this.forEachChild(ve,(r,i)=>{const o=i.hash();""!==o&&(n+=":"+r+":"+o)}),this.lazyHash_=""===n?"":gP(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const o=this.resolveIndex_(i);if(o){const s=o.getPredecessorKey(new z(n,r));return s?s.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new z(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new z(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,z.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,z.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Al?-1:0}withIndex(n){if(n===$n||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===$n||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(ve),o=r.getIterator(ve);let s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return null===s&&null===a}return!1}return!1}}resolveIndex_(n){return n===$n?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})();const Al=new class dY extends j{constructor(){super(new Rt(Xv),j.EMPTY_NODE,yr.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return j.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(z,{MIN:{value:new z(Yr,j.EMPTY_NODE)},MAX:{value:new z(_r,Al)}}),XP.__EMPTY_NODE=j.EMPTY_NODE,ms.__childrenNodeConstructor=j,function oY(e){eC=e}(Al),function aY(e){iO=e}(Al);const hY=!0;function Ae(e,t=null){if(null===e)return j.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),w(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new ms(e,Ae(t));if(e instanceof Array||!hY){let n=j.EMPTY_NODE;return qe(e,(r,i)=>{if(Cn(e,r)&&"."!==r.substring(0,1)){const o=Ae(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Ae(t))}{const n=[];let r=!1;if(qe(e,(s,a)=>{if("."!==s.substring(0,1)){const l=Ae(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new z(s,l)))}}),0===n.length)return j.EMPTY_NODE;const o=Qd(n,iY,s=>s.name,Xv);if(r){const s=Qd(n,ve.getCompare());return new j(o,Ae(t),new yr({".priority":s},{".priority":ve}))}return new j(o,Ae(t),yr.Default)}}!function sY(e){rO=e}(Ae);class nC extends qd{constructor(t){super(),this.indexPath_=t,w(!G(t)&&".priority"!==H(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),o=r.compareTo(i);return 0===o?ki(t.name,n.name):o}makePost(t,n){const r=Ae(t),i=j.EMPTY_NODE.updateChild(this.indexPath_,r);return new z(n,i)}maxPost(){const t=j.EMPTY_NODE.updateChild(this.indexPath_,Al);return new z(_r,t)}toString(){return bl(this.indexPath_,0).join("/")}}const rC=new class fY extends qd{compare(t,n){const r=t.node.compareTo(n.node);return 0===r?ki(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return z.MIN}maxPost(){return z.MAX}makePost(t,n){const r=Ae(t);return new z(n,r)}toString(){return".value"}};function Nl(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class oC{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ve}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return w(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return w(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Yr}hasEnd(){return this.endSet_}getIndexEndValue(){return w(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return w(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:_r}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return w(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ve}copy(){const t=new oC;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function sO(e){const t={};if(e.isDefault())return t;let n;if(e.index_===ve?n="$priority":e.index_===rC?n="$value":e.index_===$n?n="$key":(w(e.index_ instanceof nC,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=rt(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=rt(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+rt(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=rt(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+rt(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function aO(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==ve&&(t.i=e.index_.toString()),t}class Jd extends WP{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=El("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return void 0!==n?"tag$"+n:(w(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const s=Jd.getListenId_(t,r),a={};this.listens_[s]=a;const l=sO(t._queryParams);this.restRequest_(o+".json",l,(u,c)=>{let d=c;if(404===u&&(d=null,u=null),null===u&&this.onDataUpdate_(o,d,!1,r),ns(this.listens_,s)===a){let h;h=u?401===u?"permission_denied":"rest_error:"+u:"ok",i(h,null)}})}unlisten(t,n){const r=Jd.getListenId_(t,n);delete this.listens_[r]}get(t){const n=sO(t._queryParams),r=t._path.toString(),i=new nl;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;404===o&&(a=null,o=null),null===o?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+s_(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=rl(a.responseText)}catch{ut("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else 401!==a.status&&404!==a.status&&ut("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}class EY{constructor(){this.rootNode_=j.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}function Xd(){return{value:null,children:new Map}}function vs(e,t,n){if(G(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=H(t);e.children.has(r)||e.children.set(r,Xd()),vs(e.children.get(r),t=fe(t),n)}}function uC(e,t,n){null!==e.value?n(t,e.value):function IY(e,t){e.children.forEach((n,r)=>{t(r,n)})}(e,(r,i)=>{uC(i,new oe(t.toString()+"/"+r),n)})}class wY{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&qe(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}class TY{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new wY(t);const r=1e4+2e4*Math.random();wl(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;qe(t,(i,o)=>{o>0&&Cn(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),wl(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Hn=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(Hn||{});function hC(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}class eh{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Hn.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(G(this.path)){if(null!=this.affectedTree.value)return w(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new oe(t));return new eh(ee(),n,this.revert)}}return w(H(this.path)===t,"operationForChild called for unrelated child."),new eh(fe(this.path),this.affectedTree,this.revert)}}class Vi{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Hn.OVERWRITE}operationForChild(t){return G(this.path)?new Vi(this.source,ee(),this.snap.getImmediateChild(t)):new Vi(this.source,fe(this.path),this.snap)}}class Cs{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Hn.MERGE}operationForChild(t){if(G(this.path)){const n=this.children.subtree(new oe(t));return n.isEmpty()?null:n.value?new Vi(this.source,ee(),n.value):new Cs(this.source,ee(),n)}return w(H(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Cs(this.source,fe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Zr{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(G(t))return this.isFullyInitialized()&&!this.filtered_;const n=H(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}function Ol(e,t,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,l)=>function NY(e,t,n){if(null==t.childName||null==n.childName)throw ts("Should only compare child_ events.");const r=new z(t.childName,t.snapshotNode),i=new z(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,a,l)),s.forEach(a=>{const l=function MY(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,a,o);i.forEach(u=>{u.respondsTo(a.type)&&t.push(u.createEvent(l,e.query_))})})}function th(e,t){return{eventCache:e,serverCache:t}}function xl(e,t,n,r){return th(new Zr(t,n,r),e.serverCache)}function uO(e,t,n,r){return th(e.eventCache,new Zr(t,n,r))}function nh(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Ui(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let fC;class Ce{constructor(t,n=(()=>(fC||(fC=new Rt(p9)),fC))()){this.value=t,this.children=n}static fromObject(t){let n=new Ce(null);return qe(t,(r,i)=>{n=n.set(new oe(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(null!=this.value&&n(this.value))return{path:ee(),value:this.value};if(G(t))return null;{const r=H(t),i=this.children.get(r);if(null!==i){const o=i.findRootMostMatchingPathAndValue(fe(t),n);return null!=o?{path:Te(new oe(r),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(G(t))return this;{const n=H(t),r=this.children.get(n);return null!==r?r.subtree(fe(t)):new Ce(null)}}set(t,n){if(G(t))return new Ce(n,this.children);{const r=H(t),o=(this.children.get(r)||new Ce(null)).set(fe(t),n),s=this.children.insert(r,o);return new Ce(this.value,s)}}remove(t){if(G(t))return this.children.isEmpty()?new Ce(null):new Ce(null,this.children);{const n=H(t),r=this.children.get(n);if(r){const i=r.remove(fe(t));let o;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new Ce(null):new Ce(this.value,o)}return this}}get(t){if(G(t))return this.value;{const n=H(t),r=this.children.get(n);return r?r.get(fe(t)):null}}setTree(t,n){if(G(t))return n;{const r=H(t),o=(this.children.get(r)||new Ce(null)).setTree(fe(t),n);let s;return s=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new Ce(this.value,s)}}fold(t){return this.fold_(ee(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Te(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,ee(),n)}findOnPath_(t,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(G(t))return null;{const o=H(t),s=this.children.get(o);return s?s.findOnPath_(fe(t),Te(n,o),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,ee(),n)}foreachOnPath_(t,n,r){if(G(t))return this;{this.value&&r(n,this.value);const i=H(t),o=this.children.get(i);return o?o.foreachOnPath_(fe(t),Te(n,i),r):new Ce(null)}}foreach(t){this.foreach_(ee(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Te(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}class In{constructor(t){this.writeTree_=t}static empty(){return new In(new Ce(null))}}function kl(e,t,n){if(G(t))return new In(new Ce(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const s=Ct(i,t);return o=o.updateChild(s,n),new In(e.writeTree_.set(i,o))}{const i=new Ce(n),o=e.writeTree_.setTree(t,i);return new In(o)}}}function pC(e,t,n){let r=e;return qe(n,(i,o)=>{r=kl(r,Te(t,i),o)}),r}function cO(e,t){if(G(t))return In.empty();{const n=e.writeTree_.setTree(t,new Ce(null));return new In(n)}}function gC(e,t){return null!=Bi(e,t)}function Bi(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Ct(n.path,t)):null}function dO(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(ve,(r,i)=>{t.push(new z(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&t.push(new z(r,i.value))}),t}function Jr(e,t){if(G(t))return e;{const n=Bi(e,t);return new In(null!=n?new Ce(n):e.writeTree_.subtree(t))}}function mC(e){return e.writeTree_.isEmpty()}function Es(e,t){return hO(ee(),e.writeTree_,t)}function hO(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,o)=>{".priority"===i?(w(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=hO(Te(e,i),o,n)}),!n.getChild(e).isEmpty()&&null!==r&&(n=n.updateChild(Te(e,".priority"),r)),n}}function rh(e,t){return _O(t,e)}function FY(e,t){if(e.snap)return an(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&an(Te(e.path,n),t))return!0;return!1}function VY(e){return e.visible}function fO(e,t,n){let r=In.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const s=o.path;let a;if(o.snap)an(n,s)?(a=Ct(n,s),r=kl(r,a,o.snap)):an(s,n)&&(a=Ct(s,n),r=kl(r,ee(),o.snap.getChild(a)));else{if(!o.children)throw ts("WriteRecord should have .snap or .children");if(an(n,s))a=Ct(n,s),r=pC(r,a,o.children);else if(an(s,n))if(a=Ct(s,n),G(a))r=pC(r,ee(),o.children);else{const l=ns(o.children,H(a));if(l){const u=l.getChild(fe(a));r=kl(r,ee(),u)}}}}}return r}function pO(e,t,n,r,i){if(r||i){const o=Jr(e.visibleWrites,t);return!i&&mC(o)?n:i||null!=n||gC(o,ee())?Es(fO(e.allWrites,function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(an(u.path,t)||an(t,u.path))},t),n||j.EMPTY_NODE):null}{const o=Bi(e.visibleWrites,t);if(null!=o)return o;{const s=Jr(e.visibleWrites,t);return mC(s)?n:null!=n||gC(s,ee())?Es(s,n||j.EMPTY_NODE):null}}}function ih(e,t,n,r){return pO(e.writeTree,e.treePath,t,n,r)}function _C(e,t){return function UY(e,t,n){let r=j.EMPTY_NODE;const i=Bi(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(ve,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=Jr(e.visibleWrites,t);return n.forEachChild(ve,(s,a)=>{const l=Es(Jr(o,new oe(s)),a);r=r.updateImmediateChild(s,l)}),dO(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}return dO(Jr(e.visibleWrites,t)).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}(e.writeTree,e.treePath,t)}function gO(e,t,n,r){return function BY(e,t,n,r,i){w(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Te(t,n);if(gC(e.visibleWrites,o))return null;{const s=Jr(e.visibleWrites,o);return mC(s)?i.getChild(n):Es(s,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function oh(e,t){return function $Y(e,t){return Bi(e.visibleWrites,t)}(e.writeTree,Te(e.treePath,t))}function yC(e,t,n){return function jY(e,t,n,r){const i=Te(t,n),o=Bi(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?Es(Jr(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function mO(e,t){return _O(Te(e.treePath,t),e.writeTree)}function _O(e,t){return{treePath:e,writeTree:t}}class zY{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;w("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),w(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if("child_added"===n&&"child_removed"===o)this.changeMap.set(r,Nl(r,t.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===o)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===o)this.changeMap.set(r,function Ml(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}(r,i.oldSnap));else if("child_changed"===n&&"child_added"===o)this.changeMap.set(r,function ys(e,t){return{type:"child_added",snapshotNode:t,childName:e}}(r,t.snapshotNode));else{if("child_changed"!==n||"child_changed"!==o)throw ts("Illegal combination of changes: "+t+" occurred after "+i);this.changeMap.set(r,Nl(r,t.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}const yO=new class qY{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}};class vC{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=null!=this.optCompleteServerCache_?new Zr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return yC(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ui(this.viewCache_),o=function WY(e,t,n,r,i,o){return function HY(e,t,n,r,i,o,s){let a;const l=Jr(e.visibleWrites,t),u=Bi(l,ee());if(null!=u)a=u;else{if(null==n)return[];a=Es(l,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const c=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let f=h.getNext();for(;f&&c.length<i;)0!==d(f,r)&&c.push(f),f=h.getNext();return c}}(e.writeTree,e.treePath,t,n,r,i,o)}(this.writes_,i,n,1,r,t);return 0===o.length?null:o[0]}}function vO(e,t,n,r,i,o){const s=t.eventCache;if(null!=oh(r,n))return t;{let a,l;if(G(n))if(w(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const u=Ui(t),d=_C(r,u instanceof j?u:j.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),d,o)}else{const u=ih(r,Ui(t));a=e.filter.updateFullNode(t.eventCache.getNode(),u,o)}else{const u=H(n);if(".priority"===u){w(1===Qr(n),"Can't have a priority with additional path components");const c=s.getNode();l=t.serverCache.getNode();const d=gO(r,n,c,l);a=null!=d?e.filter.updatePriority(c,d):s.getNode()}else{const c=fe(n);let d;if(s.isCompleteForChild(u)){l=t.serverCache.getNode();const h=gO(r,n,s.getNode(),l);d=null!=h?s.getNode().getImmediateChild(u).updateChild(c,h):s.getNode().getImmediateChild(u)}else d=yC(r,u,t.serverCache);a=null!=d?e.filter.updateChild(s.getNode(),u,d,c,i,o):s.getNode()}}return xl(t,a,s.isFullyInitialized()||G(n),e.filter.filtersNodes())}}function sh(e,t,n,r,i,o,s,a){const l=t.serverCache;let u;const c=s?e.filter:e.filter.getIndexedFilter();if(G(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),f,null)}else{const f=H(n);if(!l.isCompleteForPath(n)&&Qr(n)>1)return t;const p=fe(n),_=l.getNode().getImmediateChild(f).updateChild(p,r);u=".priority"===f?c.updatePriority(l.getNode(),_):c.updateChild(l.getNode(),f,_,p,yO,null)}const d=uO(t,u,l.isFullyInitialized()||G(n),c.filtersNodes());return vO(e,d,n,i,new vC(i,d,o),a)}function CC(e,t,n,r,i,o,s){const a=t.eventCache;let l,u;const c=new vC(i,t,o);if(G(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,s),l=xl(t,u,!0,e.filter.filtersNodes());else{const d=H(n);if(".priority"===d)u=e.filter.updatePriority(t.eventCache.getNode(),r),l=xl(t,u,a.isFullyInitialized(),a.isFiltered());else{const h=fe(n),f=a.getNode().getImmediateChild(d);let p;if(G(h))p=r;else{const g=c.getCompleteChild(d);p=null!=g?".priority"===Qv(h)&&g.getChild(KP(h)).isEmpty()?g:g.updateChild(h,r):j.EMPTY_NODE}l=f.equals(p)?t:xl(t,e.filter.updateChild(a.getNode(),d,p,h,c,s),a.isFullyInitialized(),e.filter.filtersNodes())}}return l}function CO(e,t){return e.eventCache.isCompleteForChild(t)}function EO(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function EC(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let u,l=t;u=G(n)?r:new Ce(null).setTree(n,r);const c=t.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(c.hasChild(d)){const p=EO(0,t.serverCache.getNode().getImmediateChild(d),h);l=sh(e,l,new oe(d),p,i,o,s,a)}}),u.children.inorderTraversal((d,h)=>{const f=!t.serverCache.isCompleteForChild(d)&&null===h.value;if(!c.hasChild(d)&&!f){const g=EO(0,t.serverCache.getNode().getImmediateChild(d),h);l=sh(e,l,new oe(d),g,i,o,s,a)}}),l}function oK(e,t){const n=Ui(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!G(t)&&!n.getImmediateChild(H(t)).isEmpty())?n.getChild(t):null}function DO(e,t,n,r){t.type===Hn.MERGE&&null!==t.source.queryId&&(w(Ui(e.viewCache_),"We should always have a full cache before handling merges"),w(nh(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=function QY(e,t,n,r,i){const o=new zY;let s,a;if(n.type===Hn.OVERWRITE){const u=n;u.source.fromUser?s=CC(e,t,u.path,u.snap,r,i,o):(w(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered()&&!G(u.path),s=sh(e,t,u.path,u.snap,r,i,a,o))}else if(n.type===Hn.MERGE){const u=n;u.source.fromUser?s=function JY(e,t,n,r,i,o,s){let a=t;return r.foreach((l,u)=>{const c=Te(n,l);CO(t,H(c))&&(a=CC(e,a,c,u,i,o,s))}),r.foreach((l,u)=>{const c=Te(n,l);CO(t,H(c))||(a=CC(e,a,c,u,i,o,s))}),a}(e,t,u.path,u.children,r,i,o):(w(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered(),s=EC(e,t,u.path,u.children,r,i,a,o))}else if(n.type===Hn.ACK_USER_WRITE){const u=n;s=u.revert?function tK(e,t,n,r,i,o){let s;if(null!=oh(r,n))return t;{const a=new vC(r,t,i),l=t.eventCache.getNode();let u;if(G(n)||".priority"===H(n)){let c;if(t.serverCache.isFullyInitialized())c=ih(r,Ui(t));else{const d=t.serverCache.getNode();w(d instanceof j,"serverChildren would be complete if leaf node"),c=_C(r,d)}u=e.filter.updateFullNode(l,c,o)}else{const c=H(n);let d=yC(r,c,t.serverCache);null==d&&t.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),u=null!=d?e.filter.updateChild(l,c,d,fe(n),a,o):t.eventCache.getNode().hasChild(c)?e.filter.updateChild(l,c,j.EMPTY_NODE,fe(n),a,o):l,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=ih(r,Ui(t)),s.isLeafNode()&&(u=e.filter.updateFullNode(u,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=oh(r,ee()),xl(t,u,s,e.filter.filtersNodes())}}(e,t,u.path,r,i,o):function XY(e,t,n,r,i,o,s){if(null!=oh(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(G(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return sh(e,t,n,l.getNode().getChild(n),i,o,a,s);if(G(n)){let u=new Ce(null);return l.getNode().forEachChild($n,(c,d)=>{u=u.set(new oe(c),d)}),EC(e,t,n,u,i,o,a,s)}return t}{let u=new Ce(null);return r.foreach((c,d)=>{const h=Te(n,c);l.isCompleteForPath(h)&&(u=u.set(c,l.getNode().getChild(h)))}),EC(e,t,n,u,i,o,a,s)}}(e,t,u.path,u.affectedTree,r,i,o)}else{if(n.type!==Hn.LISTEN_COMPLETE)throw ts("Unknown operation type: "+n.type);s=function eK(e,t,n,r,i){const o=t.serverCache;return vO(e,uO(t,o.getNode(),o.isFullyInitialized()||G(n),o.isFiltered()),n,r,yO,i)}(e,t,n.path,r,o)}const l=o.getChanges();return function ZY(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=nh(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(function oO(e){return{type:"value",snapshotNode:e}}(nh(t)))}}(t,s,l),{viewCache:s,changes:l}}(e.processor_,i,t,n,r);return function KY(e,t){w(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),w(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}(e.processor_,o.viewCache),w(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,function bO(e,t,n,r){return function AY(e,t,n,r){const i=[],o=[];return t.forEach(s=>{"child_changed"===s.type&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function pY(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}(s.childName,s.snapshotNode))}),Ol(e,i,"child_removed",t,r,n),Ol(e,i,"child_added",t,r,n),Ol(e,i,"child_moved",o,r,n),Ol(e,i,"child_changed",t,r,n),Ol(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,r?[r]:e.eventRegistrations_)}(e,o.changes,o.viewCache.eventCache.getNode(),null)}let ah,uh;function IC(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return w(null!=o,"SyncTree gave us an op for an invalid query."),DO(o,t,n,r)}{let o=[];for(const s of e.views.values())o=o.concat(DO(s,t,n,r));return o}}function Xr(e,t){let n=null;for(const r of e.views.values())n=n||oK(r,t);return n}class RO{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Ce(null),this.pendingWriteTree_=function GY(){return{visibleWrites:In.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function wC(e,t,n,r,i){return function PY(e,t,n,r,i){w(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=kl(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Is(e,new Vi({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function ti(e,t,n=!1){const r=function xY(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(function kY(e,t){const n=e.allWrites.findIndex(a=>a.writeId===t);w(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){const a=e.allWrites[s];a.visible&&(s>=n&&FY(a,r.path)?i=!1:an(r.path,a.path)&&(o=!0)),s--}return!!i&&(o?(function LY(e){e.visibleWrites=fO(e.allWrites,VY,ee()),e.lastWriteId=e.allWrites.length>0?e.allWrites[e.allWrites.length-1].writeId:-1}(e),!0):(r.snap?e.visibleWrites=cO(e.visibleWrites,r.path):qe(r.children,l=>{e.visibleWrites=cO(e.visibleWrites,Te(r.path,l))}),!0))}(e.pendingWriteTree_,t)){let o=new Ce(null);return null!=r.snap?o=o.set(ee(),!0):qe(r.children,s=>{o=o.set(new oe(s),!0)}),Is(e,new eh(r.path,o,n))}return[]}function Fl(e,t,n){return Is(e,new Vi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function dh(e,t,n){const i=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(s,a)=>{const u=Xr(a,Ct(s,t));if(u)return u});return pO(i,t,o,n,!0)}function Is(e,t){return OO(t,e.syncPointTree_,null,rh(e.pendingWriteTree_,ee()))}function OO(e,t,n,r){if(G(e.path))return xO(e,t,n,r);{const i=t.get(ee());null==n&&null!=i&&(n=Xr(i,ee()));let o=[];const s=H(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){const u=n?n.getImmediateChild(s):null,c=mO(r,s);o=o.concat(OO(a,l,u,c))}return i&&(o=o.concat(IC(i,e,r,n))),o}}function xO(e,t,n,r){const i=t.get(ee());null==n&&null!=i&&(n=Xr(i,ee()));let o=[];return t.children.inorderTraversal((s,a)=>{const l=n?n.getImmediateChild(s):null,u=mO(r,s),c=e.operationForChild(s);c&&(o=o.concat(xO(c,a,l,u)))}),i&&(o=o.concat(IC(i,e,r,n))),o}function bC(e,t){return e.tagToQueryMap.get(t)}function TC(e){const t=e.indexOf("$");return w(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new oe(e.substr(0,t))}}function SC(e,t,n){const r=e.syncPointTree_.get(t);return w(r,"Missing sync point for query tag that we're tracking"),IC(r,n,rh(e.pendingWriteTree_,t),null)}class AC{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new AC(n)}node(){return this.node_}}class MC{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=Te(this.path_,t);return new MC(this.syncTree_,n)}node(){return dh(this.syncTree_,this.path_)}}const TK=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},FO=function(e,t,n){return e&&"object"==typeof e?(w(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?SK(e[".sv"],t,n):"object"==typeof e[".sv"]?AK(e[".sv"],t):void w(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},SK=function(e,t,n){if("timestamp"===e)return n.timestamp;w(!1,"Unexpected server value: "+e)},AK=function(e,t,n){e.hasOwnProperty("increment")||w(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!=typeof r&&w(!1,"Unexpected increment value: "+r);const i=t.node();if(w(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!=typeof s?r:s+r},LO=function(e,t,n,r){return RC(t,new MC(n,e),r)},NC=function(e,t,n){return RC(e,new AC(t),n)};function RC(e,t,n){const r=e.getPriority().val(),i=FO(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const s=e,a=FO(s.getValue(),t,n);return a!==s.getValue()||i!==s.getPriority().val()?new ms(a,Ae(i)):e}{const s=e;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new ms(i))),s.forEachChild(ve,(a,l)=>{const u=RC(l,t.getImmediateChild(a),n);u!==l&&(o=o.updateImmediateChild(a,u))}),o}}class PC{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function fh(e,t){let n=t instanceof oe?t:new oe(t),r=e,i=H(n);for(;null!==i;){const o=ns(r.node.children,i)||{children:{},childCount:0};r=new PC(i,r,o),n=fe(n),i=H(n)}return r}function ji(e){return e.node.value}function OC(e,t){e.node.value=t,xC(e)}function VO(e){return e.node.childCount>0}function ph(e,t){qe(e.node.children,(n,r)=>{t(new PC(n,e,r))})}function UO(e,t,n,r){n&&!r&&t(e),ph(e,i=>{UO(i,t,!0,r)}),n&&r&&t(e)}function Ul(e){return new oe(null===e.parent?e.name:Ul(e.parent)+"/"+e.name)}function xC(e){null!==e.parent&&function RK(e,t,n){const r=function MK(e){return void 0===ji(e)&&!VO(e)}(n),i=Cn(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,xC(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,xC(e))}(e.parent,e.name,e)}const PK=/[\[\].#$\/\u0000-\u001F\u007F]/,OK=/[\[\].#$\u0000-\u001F\u007F]/,kC=10485760,gh=function(e){return"string"==typeof e&&0!==e.length&&!PK.test(e)},BO=function(e){return"string"==typeof e&&0!==e.length&&!OK.test(e)},jl=function(e,t,n){const r=n instanceof oe?new Q9(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Fi(r));if("function"==typeof t)throw new Error(e+"contains a function "+Fi(r)+" with contents = "+t.toString());if(Hd(t))throw new Error(e+"contains "+t.toString()+" "+Fi(r));if("string"==typeof t&&t.length>kC/3&&Ed(t)>kC)throw new Error(e+"contains a string greater than "+kC+" utf8 bytes "+Fi(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let i=!1,o=!1;if(qe(t,(s,a)=>{if(".value"===s)i=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!gh(s)))throw new Error(e+" contains an invalid key ("+s+") "+Fi(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Z9(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Ed(t),QP(e)})(r,s),jl(e,a,r),function J9(e){const t=e.parts_.pop();e.byteLength_-=Ed(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),i&&o)throw new Error(e+' contains ".value" child '+Fi(r)+" in addition to actual children.")}},LC=function(e,t,n,r){if(!(r&&void 0===n||BO(n)))throw new Error(rs(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},FK=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),LC(e,t,n,r)};class LK{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function mh(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null!==n&&!Zv(o,n.path)&&(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Gt(e,t,n){mh(e,n),function GO(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];i&&(t(i.path)?(VK(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}(e,r=>an(r,t)||an(t,r))}function VK(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();xi&&ze("event: "+n.toString()),ps(r)}}}const UK=25;class BK{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new LK,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Xd(),this.transactionQueueTree_=new PC,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function zO(e){const n=e.infoData_.getNode(new oe(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function Hl(e){return TK({timestamp:zO(e)})}function qO(e,t,n,r,i){e.dataUpdateCount++;const o=new oe(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){const l=Cd(n,u=>Ae(u));s=function CK(e,t,n,r){const i=bC(e,r);if(i){const o=TC(i),s=o.path,a=o.queryId,l=Ct(s,t),u=Ce.fromObject(n);return SC(e,s,new Cs(hC(a),l,u))}return[]}(e.serverSyncTree_,o,l,i)}else{const l=Ae(n);s=function PO(e,t,n,r){const i=bC(e,r);if(null!=i){const o=TC(i),s=o.path,a=o.queryId,l=Ct(s,t);return SC(e,s,new Vi(hC(a),l,n))}return[]}(e.serverSyncTree_,o,l,i)}else if(r){const l=Cd(n,u=>Ae(u));s=function _K(e,t,n){const r=Ce.fromObject(n);return Is(e,new Cs({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,l)}else{const l=Ae(n);s=Fl(e.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=Ds(e,o)),Gt(e.eventQueue_,a,s)}function YO(e,t){VC(e,"connected",t),!1===t&&function WK(e){ws(e,"onDisconnectEvents");const t=Hl(e),n=Xd();uC(e.onDisconnect_,ee(),(i,o)=>{const s=LO(i,o,e.serverSyncTree_,t);vs(n,i,s)});let r=[];uC(n,ee(),(i,o)=>{r=r.concat(Fl(e.serverSyncTree_,i,o));const s=$C(e,i);Ds(e,s)}),e.onDisconnect_=Xd(),Gt(e.eventQueue_,ee(),r)}(e)}function VC(e,t,n){const r=new oe("/.info/"+t),i=Ae(n);e.infoData_.updateSnapshot(r,i);const o=Fl(e.infoSyncTree_,r,i);Gt(e.eventQueue_,r,o)}function _h(e){return e.nextWriteId_++}function UC(e,t,n,r,i){ws(e,"set",{path:t.toString(),value:n,priority:r});const o=Hl(e),s=Ae(n,r),a=dh(e.serverSyncTree_,t),l=NC(s,a,o),u=_h(e),c=wC(e.serverSyncTree_,t,l,u,!0);mh(e.eventQueue_,c),e.server_.put(t.toString(),s.val(!0),(h,f)=>{const p="ok"===h;p||ut("set at "+t+" failed: "+h);const g=ti(e.serverSyncTree_,u,!p);Gt(e.eventQueue_,t,g),function ni(e,t,n,r){t&&ps(()=>{if("ok"===n)t(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const s=new Error(o);s.code=i,t(s)}})}(0,i,h,f)});const d=$C(e,t);Ds(e,d),Gt(e.eventQueue_,d,[])}function ws(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),ze(n,...t)}function jC(e,t,n){return dh(e.serverSyncTree_,t,n)||j.EMPTY_NODE}function yh(e,t=e.transactionQueueTree_){if(t||vh(e,t),ji(t)){const n=JO(e,t);w(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function JK(e,t,n){const r=n.map(u=>u.currentWriteId),i=jC(e,t,r);let o=i;const s=i.hash();for(let u=0;u<n.length;u++){const c=n[u];w(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=Ct(t,c.path);o=o.updateChild(d,c.currentOutputSnapshotRaw)}const a=o.val(!0),l=t;e.server_.put(l.toString(),a,u=>{ws(e,"transaction put response",{path:l.toString(),status:u});let c=[];if("ok"===u){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(ti(e.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();vh(e,fh(e.transactionQueueTree_,t)),yh(e,e.transactionQueueTree_),Gt(e.eventQueue_,t,c);for(let h=0;h<d.length;h++)ps(d[h])}else{if("datastale"===u)for(let d=0;d<n.length;d++)n[d].status=3===n[d].status?4:0;else{ut("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}Ds(e,t)}},s)}(e,Ul(t),n)}else VO(t)&&ph(t,n=>{yh(e,n)})}function Ds(e,t){const n=ZO(e,t),r=Ul(n);return function XK(e,t,n){if(0===t.length)return;const r=[];let i=[];const s=t.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){const l=t[a],u=Ct(n,l.path);let d,c=!1;if(w(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)c=!0,d=l.abortReason,i=i.concat(ti(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=UK)c=!0,d="maxretry",i=i.concat(ti(e.serverSyncTree_,l.currentWriteId,!0));else{const h=jC(e,l.path,s);l.currentInputSnapshot=h;const f=t[a].update(h.val());if(void 0!==f){jl("transaction failed: Data returned ",f,l.path);let p=Ae(f);"object"==typeof f&&null!=f&&Cn(f,".priority")||(p=p.updatePriority(h.getPriority()));const _=l.currentWriteId,v=Hl(e),m=NC(p,h,v);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=m,l.currentWriteId=_h(e),s.splice(s.indexOf(_),1),i=i.concat(wC(e.serverSyncTree_,l.path,m,l.currentWriteId,l.applyLocally)),i=i.concat(ti(e.serverSyncTree_,_,!0))}else c=!0,d="nodata",i=i.concat(ti(e.serverSyncTree_,l.currentWriteId,!0))}Gt(e.eventQueue_,n,i),i=[],c&&(t[a].status=2,setTimeout(t[a].unwatcher,Math.floor(0)),t[a].onComplete&&r.push("nodata"===d?()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot):()=>t[a].onComplete(new Error(d),!1,null)))}vh(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)ps(r[a]);yh(e,e.transactionQueueTree_)}(e,JO(e,n),r),r}function ZO(e,t){let n,r=e.transactionQueueTree_;for(n=H(t);null!==n&&void 0===ji(r);)r=fh(r,n),n=H(t=fe(t));return r}function JO(e,t){const n=[];return XO(e,t,n),n.sort((r,i)=>r.order-i.order),n}function XO(e,t,n){const r=ji(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);ph(t,i=>{XO(e,i,n)})}function vh(e,t){const n=ji(t);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,OC(t,n.length>0?n:void 0)}ph(t,r=>{vh(e,r)})}function $C(e,t){const n=Ul(ZO(e,t)),r=fh(e.transactionQueueTree_,t);return function NK(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,i=>{HC(e,i)}),HC(e,r),UO(r,i=>{HC(e,i)}),n}function HC(e,t){const n=ji(t);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?(w(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(w(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(ti(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?OC(t,void 0):n.length=o+1,Gt(e.eventQueue_,Ul(t),i);for(let s=0;s<r.length;s++)ps(r[s])}}const GC=function(e,t){const n=nQ(e),r=n.namespace;return"firebase.com"===n.domain&&jn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&jn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ut("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Gv(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,t,"",r!==n.subdomain),path:new oe(n.pathString)}},nQ=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",l=443;if("string"==typeof e){let u=e.indexOf("//");u>=0&&(a=e.substring(0,u-1),e=e.substring(u+2));let c=e.indexOf("/");-1===c&&(c=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(c,d)),c<d&&(i=function eQ(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}(e.substring(c,d)));const h=function tQ(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ut(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,d)));u=t.indexOf(":"),u>=0?(s="https"===a||"wss"===a,l=parseInt(t.substring(u+1),10)):u=t.length;const f=t.slice(0,u);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),o=r}"ns"in h&&(o=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};class Wt{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return G(this._path)?null:Qv(this._path)}get ref(){return new wn(this._repo,this._path)}get _queryIdentifier(){const t=aO(this._queryParams),n=$v(t);return"{}"===n?"default":n}get _queryObject(){return aO(this._queryParams)}isEqual(t){if(!((t=dr(t))instanceof Wt))return!1;const n=this._repo===t._repo,r=Zv(this._path,t._path);return n&&r&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Y9(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class wn extends Wt{constructor(t,n){super(t,n,new oC,!1)}get parent(){const t=KP(this._path);return null===t?null:new wn(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}function rx(e,t){return(e=dr(e))._checkNotDeleted("ref"),void 0!==t?function bs(e,t){return null===H((e=dr(e))._path)?FK("child","path",t,!1):LC("child","path",t,!1),new wn(e._repo,Te(e._path,t))}(e._root,t):e._root}function zC(e,t){(function(e,t){if(".info"===H(t))throw new Error(e+" failed = Can't modify data under /.info/")})("set",(e=dr(e))._path),function(e,t,n,r){r&&void 0===t||jl(rs(e,"value"),t,n)}("set",t,e._path,!1);const n=new nl;return UC(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}(function lK(e){w(!ah,"__referenceConstructor has already been defined"),ah=e})(wn),function fK(e){w(!uh,"__referenceConstructor has already been defined"),uh=e}(wn);const qC={};function ax(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||jn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ze("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let l,u,s=GC(o,i),a=s.repoInfo;typeof process<"u"&&process.env&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(l=!0,o=`http://${u}?ns=${a.namespace}`,s=GC(o,i),a=s.repoInfo):l=!s.repoInfo.secure;const c=i&&l?new Dl(Dl.OWNER):new w9(e.name,e.options,t);(function(e,t){const n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!gh(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),BO(e)}(n))throw new Error(rs(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",s),G(s.path)||jn("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function yQ(e,t,n,r){let i=qC[t.name];i||(i={},qC[t.name]=i);let o=i[e.toURLString()];return o&&jn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new BK(e,false,n,r),i[e.toURLString()]=o,o}(a,e,c,new I9(e.name,n));return new CQ(d,e)}class CQ{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function jK(e,t,n){if(e.stats_=qv(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Jd(e.repoInfo_,(r,i,o,s)=>{qO(e,r,i,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>YO(e,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{rt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Li(e.repoInfo_,t,(r,i,o,s)=>{qO(e,r,i,o,s)},r=>{YO(e,r)},r=>{!function $K(e,t){qe(t,(n,r)=>{VC(e,n,r)})}(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=function T9(e,t){const n=e.toString();return zv[n]||(zv[n]=t()),zv[n]}(e.repoInfo_,()=>new TY(e.stats_,e.server_)),e.infoData_=new EY,e.infoSyncTree_=new RO({startListening:(r,i,o,s)=>{let a=[];const l=e.infoData_.getNode(r._path);return l.isEmpty()||(a=Fl(e.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),VC(e,"connected",!1),e.serverSyncTree_=new RO({startListening:(r,i,o,s)=>(e.server_.listen(r,o,i,(a,l)=>{const u=s(a,l);Gt(e.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new wn(this._repo,ee())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function _Q(e,t){const n=qC[t];(!n||n[e.key]!==e)&&jn(`Database ${t}(${e.repoInfo_}) has already been deleted.`),function QO(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&jn("Cannot call "+t+" on a deleted database.")}}function EQ(e=__(),t){const n=m_(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=(e=>{const t=(e=>{var t,n;return null===(n=null===(t=yd())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("database");r&&function IQ(e,t,n,r={}){(e=dr(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&jn("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&jn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Dl(Dl.OWNER);else if(r.mockUserToken){const s="string"==typeof r.mockUserToken?r.mockUserToken:function O8(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[md(JSON.stringify({alg:"none",type:"JWT"})),md(JSON.stringify(s)),""].join(".")}(r.mockUserToken,e.app.options.projectId);o=new Dl(s)}!function mQ(e,t,n,r){e.repoInfo_=new Gv(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,o)}(n,...r)}return n}Li.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Li.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},function wQ(e){(function hP(e){Uv=e})(as),Wr(new jr("database",(t,{instanceIdentifier:n})=>ax(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),lt(cP,"1.0.6",e),lt(cP,"1.0.6","esm2017")}();class wh{constructor(t){return t}}const ux="database",YC=new T("angularfire2.database-instances");function AQ(e){return(t,n)=>{const r=t.runOutsideAngular(()=>e(n));return new wh(r)}}const MQ={provide:class TQ{constructor(){return D_(ux)}},deps:[[new Vt,YC]]},NQ={provide:wh,useFactory:function SQ(e,t){const n=function eR(e,t,n){if(t){if(1===t.length)return t[0];const o=t.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(e).getImmediate({optional:!0})}(ux,e,t);return n&&new wh(n)},deps:[[new Vt,YC],ll]};let RQ=(()=>{class e{constructor(){lt("angularfire",al.full,"rtdb")}static \u0275fac=function(r){return new(r||e)};static \u0275mod=xt({type:e});static \u0275inj=It({providers:[NQ,MQ]})}return e})();function PQ(e,...t){return{ngModule:RQ,providers:[{provide:YC,useFactory:AQ(e),multi:!0,deps:[ie,gt,nR,rR,[new Vt,uP],[new Vt,f6],...t]}]}}const OQ=Td(EQ,!0),xQ=Td(rx,!0),kQ=Td(zC,!0);let FQ=(()=>{class e{constructor(n){this.db=n}registerUser(n){console.log(n),/^[a-zA-Z0-9_.\xb1]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-]+$/.test(n.email)?n.password==n.repassword?5==String(n.pincode).length?(kQ(xQ(this.db,"users/"+n.firstname),{firstname:n.firstname,lastname:n.lastname,email:n.email,password:n.password,repassword:n.repassword,pincode:n.pincode,state:n.state,gender:n.Gender}),alert("registration done")):alert("Invalid Pincode"):alert("Passwords do not match"):alert("Invalid Email")}static#e=this.\u0275fac=function(r){return new(r||e)(E(wh))};static#t=this.\u0275cmp=xs({type:e,selectors:[["app-register"]],decls:71,vars:1,consts:[[1,"outerdiv"],[3,"ngSubmit"],["Registerform","ngForm"],[1,"col-md-12"],[1,"title"],[1,"hr1"],[1,"name"],[1,"form"],["for","firstname",1,"form-label"],["for","lastname",1,"form-label"],[1,"form2"],["required","","name","firstname","type","text","ngModel","","id","firstname",1,"form-control"],["required","","name","lastname","type","text","ngModel","","id","lastname",1,"form-control"],[1,"form-group"],["for","email"],["required","","type","email","name","email","ngModel","","id","email","aria-describedby","emailHelp","placeholder","Enter email",1,"form-control"],[1,"pass"],["for","password"],["required","","type","password","name","password","ngModel","","id","password","placeholder","Password",1,"form-control"],["for","repassword"],["required","","type","password","name","repassword","ngModel","","id","repassword","placeholder","Password",1,"form-control"],[1,"psg"],[1,"psg1"],["for","pincode",1,"form-label"],["required","","ngModel","","name","pincode","type","number","id","pincode",1,"form-control"],["clas","psg1"],["for","state",1,"form-label"],["required","","ngModel","","name","state","aria-label","Default select example",1,"form-select"],["selected",""],["value","Telangana"],["value","Karnataka"],["value","Kerala"],["value","Odisha"],[1,"form-check-label"],[1,"form-check"],["required","","ngModel","","type","radio","name","Gender","id","Male","value","Male",1,"form-check-input"],["for","Male",1,"form-check-label"],["required","","ngModel","","type","radio","name","Gender","id","Female","value","Female",1,"form-check-input"],["for","Female",1,"form-check-label"],[1,"bt"],[1,"col-12"],["routerLink","login"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(r,i){if(1&r){const o=function Ib(){return y()}();J(0,"div",0)(1,"form",1,2),jt("ngSubmit",function(){!function CI(e){return O.lFrame.contextLView=e,e[Oe]}(o);const a=$p(2);return function EI(e){return O.lFrame.contextLView=null,e}(i.registerUser(a.value))}),J(3,"div",3)(4,"h4",4),de(5," Register "),K(),tt(6,"hr",5),K(),J(7,"div",6)(8,"div",7)(9,"label",8),de(10,"Firstname"),K(),J(11,"label",9),de(12,"Lastname"),K()(),J(13,"div",10),tt(14,"input",11)(15,"input",12),K()(),J(16,"div",13)(17,"label",14),de(18,"Email address"),K(),tt(19,"br")(20,"input",15),K(),J(21,"div",16)(22,"div",13)(23,"label",17),de(24,"Password"),K(),tt(25,"br")(26,"input",18),K(),J(27,"div",13)(28,"label",19),de(29,"Confirm Password"),K(),tt(30,"br")(31,"input",20),K()(),J(32,"div",21)(33,"div",22)(34,"label",23),de(35,"Pincode"),K(),tt(36,"input",24),K(),J(37,"div",25)(38,"label",26),de(39,"Select state"),K(),J(40,"select",27)(41,"option",28),de(42,"Open this select menu"),K(),J(43,"option",29),de(44,"Telangana"),K(),J(45,"option",30),de(46,"Karnataka"),K(),J(47,"option",31),de(48,"Kerala"),K(),J(49,"option",32),de(50,"Odisha"),K()()(),J(51,"div")(52,"label",33),de(53,"Gender"),K(),J(54,"div",34),tt(55,"input",35),J(56,"label",36),de(57," Male "),K()(),J(58,"div",34),tt(59,"input",37),J(60,"label",38),de(61," Female "),K()()()(),tt(62,"br"),J(63,"div",39)(64,"div",40),de(65," Already a user? click here to "),J(66,"a",41),de(67,"Login"),K()(),J(68,"div",13)(69,"button",42),de(70,"Register"),K()()()()()}if(2&r){const o=$p(2);(function MD(e){ND(Z(),y(),ft()+e,!1)})(69),Hp("disabled",!o.valid)}},dependencies:[Km,hN,pN,rd,Qm,pd,Zm,WM,Vm,gd,Ym,el,Ka],styles:["form[_ngcontent-%COMP%]{width:40%;display:flex;align-items:start;justify-content:center;flex-direction:column;padding:32px;border:1px solid #0dcaf0;border-radius:20px;margin-top:50px;border-top-width:5px;border-left-width:5px;border-right-width:5px;border-bottom-width:5px}.form[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:165px;padding-bottom:0}.form2[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:20px;padding-bottom:0}[_nghost-%COMP%]{height:100%;display:flex;align-items:center;justify-content:center}.form-control[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]{width:100%}.pass[_ngcontent-%COMP%], .psg[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:10px}.psg1[_ngcontent-%COMP%]{display:flex;flex-direction:column}.bt[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:10px}.outerdiv[_ngcontent-%COMP%]{margin-bottom:10px;display:flex;justify-content:center;width:100%;height:100%}.title[_ngcontent-%COMP%]{color:#0dcaf0}.name[_ngcontent-%COMP%]{display:flex;flex-direction:column}.hr1[_ngcontent-%COMP%]{width:100%;border:2px solid hsla(0,0%,0%)}"]})}return e})(),LQ=(()=>{class e{constructor(){this.title="business-management"}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=xs({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&tt(0,"app-register")},dependencies:[FQ]})}return e})();class VQ{constructor(t,n){this._delegate=t,this.firebase=n,il(t,new jr("app-compat",()=>this,"PUBLIC")),this.container=t.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this._delegate.automaticDataCollectionEnabled=t}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(t=>{this._delegate.checkDestroyed(),t()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),v_(this._delegate)))}_getService(t,n=Hr){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(t);return!i.isInitialized()&&"EXPLICIT"===(null===(r=i.getComponent())||void 0===r?void 0:r.instantiationMode)&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(t,n=Hr){this._delegate.container.getProvider(t).clearInstance(n)}_addComponent(t){il(this._delegate,t)}_addOrOverwriteComponent(t){jN(this._delegate,t)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const cx=new Ti("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),jQ=function dx(){const e=function BQ(e){const t={},n={__esModule:!0,initializeApp:function o(u,c={}){const d=Dd(u,c);if(Cn(t,d.name))return t[d.name];const h=new e(d,n);return t[d.name]=h,h},app:i,registerVersion:lt,setLogLevel:WN,onLog:GN,apps:null,SDK_VERSION:as,INTERNAL:{registerComponent:function a(u){const c=u.name,d=c.replace("-compat","");if(Wr(u)&&"PUBLIC"===u.type){const h=(f=i())=>{if("function"!=typeof f[d])throw cx.create("invalid-app-argument",{appName:c});return f[d]()};void 0!==u.serviceProps&&tl(h,u.serviceProps),n[d]=h,e.prototype[d]=function(...f){return this._getService.bind(this,c).apply(this,u.multipleInstances?f:[])}}return"PUBLIC"===u.type?n[d]:null},removeApp:function r(u){delete t[u]},useAsService:function l(u,c){return"serverAuth"===c?null:c},modularAPIs:Ss}};function i(u){if(!Cn(t,u=u||Hr))throw cx.create("no-app",{appName:u});return t[u]}return n.default=n,Object.defineProperty(n,"apps",{get:function s(){return Object.keys(t).map(u=>t[u])}}),i.App=e,n}(VQ);return e.INTERNAL=Object.assign(Object.assign({},e.INTERNAL),{createFirebaseNamespace:dx,extendNamespace:function t(n){tl(e,n)},createSubscribe:ON,ErrorFactory:Ti,deepExtend:tl}),e}(),hx=new Id("@firebase/app-compat");if(AN()&&void 0!==self.firebase){hx.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&hx.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ts=jQ;!function GQ(e){lt("@firebase/app-compat","0.2.37",e)}(),Ts.registerVersion("firebase","10.12.4","app-compat");class fx{constructor(t){return t}}const px=new T("angularfire2.app.options"),gx=new T("angularfire2.app.name"),QQ={provide:fx,useFactory:function YQ(e,t,n){const i="object"==typeof n&&n||{};i.name=i.name||"string"==typeof n&&n||"[DEFAULT]";const s=Ts.apps.filter(a=>a&&a.name===i.name)[0]||t.runOutsideAngular(()=>Ts.initializeApp(e,i));try{if(JSON.stringify(e)!==JSON.stringify(s.options)){module}}catch{}return new fx(s)},deps:[px,ie,[new Vt,gx]]};let ZQ=(()=>{class e{static initializeApp(n,r){return{ngModule:e,providers:[{provide:px,useValue:n},{provide:gx,useValue:r}]}}constructor(n){Ts.registerVersion("angularfire",al.full,"core"),Ts.registerVersion("angularfire",al.full,"app-compat"),Ts.registerVersion("angular",mp.full,n.toString())}static \u0275fac=function(r){return new(r||e)(M(Mr))};static \u0275mod=xt({type:e});static \u0275inj=It({providers:[QQ]})}return e})();typeof module<"u"&&module,globalThis.\u0275AngularfireInstanceCache||=[];const _x_firebase={apiKey:"AIzaSyBKKyBqthEDZyqLTe6wkLtZrikuTgSdUs4",authDomain:"company-management-syste-b4000.firebaseapp.com",projectId:"company-management-syste-b4000",storageBucket:"company-management-syste-b4000.appspot.com",messagingSenderId:"309386226120",appId:"1:309386226120:web:257df71162df92756238fd"};let eZ=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=xt({type:e,bootstrap:[LQ]});static#n=this.\u0275inj=It({imports:[BW,v8,E8,ZQ.initializeApp(_x_firebase),PQ(()=>OQ()),b6(()=>T6(_x_firebase))]})}return e})();VW().bootstrapModule(eZ).catch(e=>console.error(e))}},Dh=>{Dh(Dh.s=499)}]);